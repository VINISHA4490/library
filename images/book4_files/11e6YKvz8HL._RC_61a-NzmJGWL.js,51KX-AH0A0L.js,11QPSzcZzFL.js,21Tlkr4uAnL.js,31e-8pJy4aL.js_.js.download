(function(d){var m=window.AmazonUIPageJS||window.P,f=m._namespace||m.attributeErrors,b=f?f("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,m,f){d.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,e,n,h){c.isDefined(b)&&(g.type=b);c.isDefined(a)&&(g.index=a);c.isDefined(q)&&(g.thumbnailIndex=q);c.isDefined(e)&&(g.variant=e);c.isDefined(n)&&(g.color=
n);g.shoppableScene=h||null}function k(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function e(a){a=a.data;l=b.copy(g);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function h(a){e(a);a=b.copy(a);a.data=b.copy(g);n.dispatch("updateView",a)}function d(){l=b.copy(g);k(g.color)}var a,n,g={},l={},m,f;return function(c,r){n=r;a=c;n.register("updateSelection",h);n.register("updateModel",e);n.register("resetModel",d);this.init=function(){k()};this.getCurrentItem=
function(){return b.copy(g)};this.getPreviousItem=function(){return b.copy(l)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){f=a};this.getImmersiveViewModalInstance=function(){return f};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(l.type,l.index,l.thumbnailIndex,l.variant,l.color,l.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";d.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,d,k){this.getImageHash=function(e){var h=k.getCurrentItem();e=b.getIndexForVariant(h.color,e||"MAIN",c);return b.getImageHash(h.color,e,c)};this.onImageUpdateForTwister=function(b){d.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";d.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,d,k,e){var h={};return function(f){var a=this;a.dispatch=function(a,c){a=h[a];k.isDefined(a)&&b.each(a,function(a,b){b.call(m,c)})};a.register=function(a,b){k.isDefined(h[a])||(h[a]=[]);"function"===typeof b&&h[a].push(b)};a.model=new c(f,a);a.view=new d(f,a,a.model);a.api=new e(f,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";d.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,f,k){b=b.extend(!0,
{},f,k);var e=new c(b);d.register("ImageBlockAPI",function(){return e.api});return e})});
/* ******** */
(function(L){var u=window.AmazonUIPageJS||window.P,aa=u._namespace||u.attributeErrors,T=aa?aa("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):u;T.guardFatal?T.guardFatal(L)(T,window):T.execute(function(){L(T,window)})})(function(L,u,aa){L.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(p,c,e,I,l,M,G){function J(d,b,v,k,q){if(!e.isjQueryObjDefined(d.find(".a-button-selected"))){var a=
E.getCurrentItem();if(!k||"chromeless-video"!==a.type||!f.autoplayVideo){k=0;"image"===a.type&&(k=Math.max(e.getIndexForVariant(a.color,a.variant,f),0));var g=0;e.isDefined(f.heroImage[a.color])&&(g=f.heroImage[a.color].length);q=k-(b>=f.maxAlts?f.maxAlts-q-g:0);b=0<=q?b+q:k+g;b>=v&&(k=0,b=g);v=e.getImageHash(a.color,k,f);-1!==v&&(N.dispatch("updateModel",{data:{index:k,thumbnailIndex:b,variant:v.variant,type:"image",shoppableScene:v.shoppableScene}}),v=d.find(".item").get(b),e.selectGivenThumbnail(c(v),
d))}}}function K(c){if(!f.useChildVideos)return e.lazyLoadingRequired(E.getCurrentItem(),E,f)?void 0:f.videos;if(f.colorToVideo[c])return f.colorToVideo[c];var b=f.colorToAsin[c];if(b&&b.asin){var d={};d.params={asin:b.asin,productGroupID:f.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:f.useChromelessVideoPlayer,isUDP:f.isUDP};f.isDPXFeatureEnabled||(d.success=function(b){videosOnTwisterRefresh(b)},I.load(VIDEO_AJAX_ENDPOINT,d));return f.colorToVideo&&f.colorToVideo[c]}}function w(r,
b,v){if((2===f.unrolledImageBlockTreatment||3===f.unrolledImageBlockTreatment)&&v)return r;var k=K(b),q=e.isDefined(k)&&0<k.length&&f.alwaysIncludeVideo?1:0;b=f.colorImages&&f.colorImages[b];k=r;var a=0;e.isDefined(b)&&(c.each(b,function(b,B){if(a>=f.maxAlts-q&&r<f.maxAlts+f.additionalNumberOfImageAlts){if(2===f.unrolledImageBlockTreatment||3===f.unrolledImageBlockTreatment){var g=c(".thumbItemUnrolled");g[r]?g[r].querySelector("img").src=B.thumb:c('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(r+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(r+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(r+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+B.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".regularAltImageViewLayout"))}else e.createThumbnail({type:"image",
index:b,thumbnailIndex:r,variant:B.variant,shoppableScene:B.shoppableScene},B.thumb,d,"imageThumbnail");r++}a++}),M.isEnabled&&G.logAltImgRequestPlacedOnThumbnails(c,M,E),J(d,k,r,v,q));return r}function H(c,b){f.useIV&&e.isDefined(b.hiRes)&&c.css("cursor","pointer")}function D(d,b){if("image"===d.type&&ba){var r=c("#image-canvas-caption #canvasCaption"),k=f.staticStrings,q=f.colorImages,a=d.color,g=d.index;if(e.isShoppableScenesEnabled()&&d.shoppableScene)var B=k.clickSceneTagsToShopProducts;else b&&
f.useIV?B=k.clickToExpand:q[a]&&q[a][g].hiRes&&f.useHoverZoom?(B=f.useHoverZoomIpad?k.touchToZoom:f.useClickZoom?k.clickToZoom:k.rollOverToZoom,f.hoverZoomIndicator&&(B="\x3cimg src\x3d'"+f.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+B)):f.useIV&&(B=k.clickToExpand);r.html(B)}}function F(d,b){var k="a-dynamic-image";if(!f.acEnabled){var r;c.each(d.main,function(a,b){e.isDefined(r)||(r=parseFloat(b[1]/b[0])<=parseFloat(f.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});k+=r}var q=e.getMaxDimensionsOfMainImage(d.main,
A,f),a=q[0],g=q[1];q=c("\x3cdiv\x3e\x3c/div\x3e");a={"max-height":a,"max-width":g};q.addClass(k).css(a).attr({"data-old-hires":d.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",d.main);return q}function t(c,b,d){var e="desktop-dp-atf-ib-shoppablescenes-tags-"+c;"function"==typeof uet&&uet("bb",e,{wb:1});d.attr("data-a-image-name","shoppable-scene:"+c);d=q.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
d.addClass("celwidget").attr("cel_widget_id",e);d.children("span").css("display","inline-block");N.dispatch("initialize-shoppable-scene",{index:c,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:d.find(".mirai-scene-tag-placeholder"),$viewProductsButton:d.find(".mirai-scene-view-products-button")});"MutationObserver"in u&&(new MutationObserver(function(d,a){d.forEach(function(g){"childList"===g.type&&g.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===g.addedNodes.length&&"IMG"===g.addedNodes[0].tagName&&""!==g.addedNodes[0].src&&(g=g.addedNodes[0],"function"!==typeof g.onload&&(g.onload=function(){p.trigger("shoppable-scene-image-loaded",{index:c,shoppableScene:b.shoppableScene})}),a.disconnect())})})).observe(d.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",e,{wb:1});return d}function y(d,b,c){c=F(d,c);d=e.isShoppableScenesEnabled()&&d.shoppableScene?t(b,d,c):q.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
d.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});d.find(".placeHolder").replaceWith(c);q.find(".list").append(d);p.loadImageManually(c);return d}function P(d){var b=A.css("height");null!==b&&d.find(".imgTagWrapper").css("height",b);d.addClass("selected");f.imgTagWrapperClasses&&d.find(".imgTagWrapper").addClass(f.imgTagWrapperClasses)}function O(d,
b,k,h){if(2!==f.unrolledImageBlockTreatment&&3!==f.unrolledImageBlockTreatment||h||"unavailable"===d.type){if("image"===d.type||"unavailable"===d.type||"lazy-loaded"===d.type){k=e.getImageHash(d.color,d.index,f);if(-1===k)return b={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},e.lazyLoadingRequired(d,E,f)||(N.dispatch("updateModel",b),e.showUnavailable(d.color)),-1;h=q.find(".item.itemNo"+d.thumbnailIndex);e.isjQueryObjDefined(h)||(h=y(k,d.thumbnailIndex,b));P(h);N.dispatch("loadMagnifier");
D(d);H(h,k);p.trigger("dp:image-block:update",k)}}else{d=f.colorImages&&f.colorImages[k];b=c(".unrolledImg");k=K(k);var z=e.isDefined(k)&&0<k.length&&f.alwaysIncludeVideo?1:0;b.length>f.maxAlts&&b.each(function(a){a>=f.maxAlts&&c(this).remove()});e.isDefined(d)&&c.each(d,function(a,b){a<f.maxAlts-z+f.additionalNumberOfImageAlts&&a>=f.maxAlts-z&&c('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(a+z+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+
(a+z)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(a+z)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
b.large+'" data-a-hires\x3d"'+b.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".unrolledScrollBox .list-unrolled"))})}}function m(d){var b=E.getCurrentItem().color;f.colorImages[b]||(f.colorImages[b]=d);d={type:"updatedData",data:E.getCurrentItem()};N.dispatch("updateView",d);(b=f.colorToAsin[b])&&b.asin&&L.register(e.rankedImagesReadyEvent(b.asin))}function h(){var d=q.find(".item .imgTagWrapper"),b=e.getContainerHeight(A,f.holderRatio,f.holderMaxHeight);
0<b&&(A.height(b),d.height(b));q.find("img.a-dynamic-image").each(function(){var b=c(this);b.data("a-manual-replacement")&&p.loadDynamicImage(this);var d=b.data("a-dynamic-image");d=e.getMaxDimensionsOfMainImage(d,A,f);b.css({"max-height":d[0]+"px","max-width":d[1]+"px"})})}function k(d){D(E.getCurrentItem(),"mouseenter"===d.type)}var z,f,E,N,d,q,A,U,ba=(l=p.state("imageBlockStateData"))?!l.shouldRemoveCaption:!0;return function(l,b,v,t){z=this;f=l;E=b;N=t;p.on("triggerImageAjax",m);f.colorImages[f.landingAsinColor]=
f.colorImages[f.defaultColor];z.render=function(b,a,g,k,h,n,z){q=g;d=k;A=h;U=w(a,b,n);n||(a=E.getCurrentItem(),e.lazyLoadingRequired(a,E,f)&&N.dispatch("updateModel",{data:{type:"lazy-loaded"}}));a=E.getCurrentItem();g=!n;e.lazyLoadingRequired(a,E,f)||(c("#imageBlock").css("opacity","1"),q.css("opacity","1"),e.spinner(q,!1),q.find("li").removeClass("selected"),ba&&c("#image-canvas-caption #canvasCaption").empty(),e.hideUnavailable(),g&&q.find(".list .item").remove());O(E.getCurrentItem(),z,b,n);return U};
z.update=function(b){};f.overrideAltImageClickAction&&e.addTag("clickEnabledOnAltImages");N.register("imageHover",k);N.register("resize",h)}});"use strict";L.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(p,c,e){var u,l,M,G;return function(c,I,w,H){u=this;l=c;M=H;u.render=function(c,w,t,y,I,O,m){G=y;u=this;t=l.maxAlts;y=w;I=l.colorImages[c]?l.colorImages[c].length:0;I+=e.getVideosCount(c,l);c=l.heroImage[c];O=0;c&&(O=c.length);c=I+O;c>t&&(t=c-t,c=G.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),
t+="+",y={type:"ingress",index:0,thumbnailIndex:w,variant:""},c.find("#altIngressText").append(t),p.declarative.create(c,"thumb-action",y),G.append(c),y=w++);return y};u.update=function(c){"ingress"===c.data.type&&"click"===c.type&&M.dispatch("imageClick",c)}}});"use strict";L.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(p,c,e,u){function l(k,h,f,m){if(!e.isjQueryObjDefined(k.find(".a-button-selected"))){var z=y.getCurrentItem();if(!m||"chromeless-video"!==
z.type||!t.autoplayVideo){m=0;if("hero-image"===z.type){m=G(z.color,z.variant);if(-1===m)return;m=-1!==m?m:0}var d=h+m;d>=f&&(m=0,d=h);h=u.getHeroImageHash(t,z.color,m);-1!==h&&(P.dispatch("updateModel",{data:{index:m,thumbnailIndex:d,variant:h.variant,type:"hero-image"}}),h=k.find(".item").get(d),e.selectGivenThumbnail(c(h),k))}}}function I(k,h,f){if("hero-video"===y.getCurrentItem().type)return k;h=t.heroImage&&t.heroImage[h];var m=k;e.isDefined(h)&&(c.each(h,function(c,d){k<t.maxAlts&&(e.createThumbnail({type:"hero-image",
index:c,thumbnailIndex:k,variant:d.variant},d.thumb,O,"imageThumbnail"),k++)}),l(O,m,k,f));return k}function G(k,h){var f=t.heroImage;if(1>f.length||!e.isDefined(f[k])||!e.isDefined(h))return-1;var m=-1;c.each(f[k],function(c,d){d.variant===h&&(m=c)});return m}function J(){if(m.length&&t.repositionHeroImage){var c=u.getHeroDimParams(t,y.getCurrentItem());if(e.isDefined(c)){var h=e.isDefined(c.xPos)?c.xPos+"px "+c.yPos+"px ":"center "+c.yPos+"px ";m.css({"background-position":h,"background-size":c.width+
"px "+c.height+"px ","max-width":c.width+"px ","min-height":c.height+"px ",filter:"","-ms-filter":""})}}}function K(c,h,f,l){if(m.length&&c&&h){if("function"===typeof f||l){var k=new Image;k.onload=l?function(){m.css("background-image",'url("'+c+'")')}:f;k.src=c}f=h[1];k=h[0];l||m.css({"background-image":'url("'+c+'")'});if(t.repositionHeroImage&&(h=u.getHeroDimParams(t,y.getCurrentItem(),h),e.isDefined(h))){f=h.width;k=h.height;var d=e.isDefined(h.xPos)?h.xPos+"px "+h.yPos+"px ":"center "+h.yPos+
"px "}m.css({"background-position":d,"background-size":f+"px "+k+"px ","max-width":f+"px ","min-height":k+"px ",filter:"","-ms-filter":""})}}function w(e,h,f,m){e=u.getHeroImageHash(t,e,h);if(-1===e)return-1;h=c.map(e.main,function(c,d){return d})[0];K(h,e.main[h],f,m)}function H(c,e,h){if("hero-image"!==c.type)return-1;var f=G(c.color,y.getCurrentItem().variant);f=-1!==f?f:0;if(-1===u.getHeroImageHash(t,c.color,f))return-1;var k=y.getCurrentItem();c.thumbnailIndex=k.thumbnailIndex;c.type=k.type;
c.variant=k.variant;c.index=f;D(c,e,h)}function D(c,e,f){var k=u.getHeroImageHash(t,c.color,c.index);var l=c&&h&&p.equals(c,h)?!0:!1;h||(h=c);if(!l&&c||e)w(c.color,c.index,e,f),h=c;m.removeClass("hide-background");p.trigger("dp:image-block:update",k)}var F,t,y,P,O,m,h={};return function(h,l,f,p){F=this;t=h;y=l;P=p;t.heroImage[t.landingAsinColor]=t.heroImage[t.defaultColor];F.render=function(e,d,h,f,k,l,p){O=f;m=c("#heroImage");e=I(d,e,l);H(y.getCurrentItem(),p,l);return e};F.update=function(c){var d=
c.data;"ingress"!==d.type&&m.addClass("hide-background");"swatchHover"===c.type?c.captured||(d.type=y.getCurrentItem().type,-1!==H(d)&&(c.captured=!0)):"hero-image"===d.type&&(D(d),"click"!==c.type&&t.usePeekHover||e.selectGivenThumbnail(c.$declarativeParent,O))};P.register("resize",J)}});"use strict";L.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(p,c,e,I,l,M){function G(c){O?c.css("cursor","url('"+D.staticImages.zoomIn+
"'), auto"):(c.css("cursor","-webkit-zoom-in"),c.css("cursor","-moz-zoom-in"),c.css("cursor","zoom-in"))}function J(c){var h=c.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);c={};if(e.isDefined(h)){h=h[1].split("_");for(var k=0;k<h.length;k++){var m=h[k].match(/^([A-Z]+)(\d+(\.\d+)?)$/);e.isDefined(m)&&(c[m[1]]=parseInt(m[2],10))}}return c}function K(m,h){function k(){if(h.useClickZoom){var a=h.offsetInClickZoom;a=[Math.min(1,Math.max(0,v[0]-(C[0]+a))/(C[2]-2*a)),Math.min(1,Math.max(0,v[1]-(C[1]+a))/
(C[3]-2*a))]}else a=b&&b.updatePosition();if(a&&r&&r.detailSize){var c=[r.detailSize[0]-r.rect.width,r.detailSize[1]-r.rect.height];p.capabilities.rtl?r.detailImage.get(0).style.right=-(a[0]*c[0])+"px":r.detailImage.get(0).style.left=-(a[0]*c[0])+"px";r.detailImage.get(0).style.top=-(a[1]*c[1])+"px"}}function t(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function f(a){var b=n?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";v=n?[b.pageX,b.pageY]:[a.pageX,a.pageY];
if(p.capabilities.rtl){var g=c(u).width();v=n?[g-b.pageX,b.pageY]:[g-a.pageX,a.pageY]}}function w(a){n&&a.preventDefault();f(a);h.useClickZoom?a=[C[0],C[1],C[0]+C[2],C[1]+C[3]]:(a=b?b.offset:m.offsetParent().offset(),a=D.acEnabled?[a.left,a.top,H.width()+a.left,H.height()+a.top]:[x[0]+a.left,x[1]+a.top,x[0]+x[2]+a.left,x[1]+x[3]+a.top]);v[0]<a[0]||v[1]<a[1]||v[0]>=a[2]||v[1]>=a[3]||D.acEnabled&&!t(m)?(h.fadeMagnifier?R||(R=!0,da=setTimeout(function(){y(!0)},500)):h.useClickZoom||y(),X&&(X=!1,clearTimeout(K))):
(X||(X=!0,K=setTimeout(function(){I.postCountMetric("dppc_hoverZoomOpened");l.isEnabled&&M.logHoverZoomRequestServed(l)},1E3)),h.fadeMagnifier&&R&&(R=!1,clearTimeout(da)),k())}function y(a){a&&A.suppressMagnifier(!0);if(g&&(r&&r.hide(),b&&(b.destroy(),b=null),g=!1,n?(m.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),c(document).trigger("disengaged.magnifier")):c(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),q(),a))m.one("click.magnifier touchstart.magnifier",
function(a){d(a,!0)})}function d(a,d){d&&A.suppressMagnifier(!1);if(!g&&!B&&(0===na&&(I.postCountMetric("dppc_hoverTime",new Date-(u.ue&&u.ue.t0||0)),na=1),S[W]||(I.postCountMetric("dppc_hoverMain"),S[W]=1),x=[m.position().left,m.position().top,m.width(),m.height()],W&&(f(a),r?r.refit().show():r=new Q,h.useClickZoom||(b=b||new ca),C=r.getWindowSize(),k()),g=!0,n?(m.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",w).bind("touchend.magnifier",y),c(document).trigger("engaged.magnifier")):
(D.acEnabled?H.unbind("mousemove.magnifier"):m.unbind("mousemove.magnifier"),c(document).trigger("engaged.magnifier").bind("mousemove.magnifier",w)),d&&(a=c("#zoomWindow"),0<a.length)))a.one("click.magnifier touchend.magnifier",function(a){y(!0)})}function q(){h.useHoverZoom&&(n?m.bind("touchstart.magnifier touchmove.magnifier",d):D.acEnabled?t(m)&&H.bind("mousemove.magnifier",d):m.bind("mousemove.magnifier",d))}var A=this,H=m.offsetParent(),F={detailImageUrl:m.attr("data-old-hires"),location:"over",
locationElement:m,prelaod:"ready",zIndex:50,offsetInClickZoom:50};h=c.extend(F,h);h.adjustment=[10,0,-10,0];var r=null,b=null,v=null,x=null,C=null,a={"null":1,"":1,undefined:1},g=!1,B=!1,W=h.detailImageUrl,n=h.useHoverZoomIpad||0,na=0,S={},ca=function(){function a(a){var b=Math.round(Math.min(m.width(),r.rect.width/a));a=Math.round(Math.min(m.height(),r.rect.height/a));e.css({width:b,height:a});g=[b,a]}var b=this,g=[0,0],d=(r.detailSize&&r.detailSize[0]||5E8)/x[2],n=(r.detailSize&&r.detailSize[1]||
5E8)/x[3];d=n>d?n:d;c("#magnifierLens").remove();var e=c("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});h.generalImageUrls.zoomLensBackground&&e.css({backgroundImage:"url("+h.generalImageUrls.zoomLensBackground+")"});D.showMagnifierOnHover?G(e):e.css("cursor","pointer");b.updatePosition=function(){var a=[x[2]-g[0],x[3]-g[1]],c=0>=a[0]?.5:Math.max(0,Math.min(1,(v[0]-g[0]/2-x[0]-b.offset.left)/a[0])),d=0>=a[1]?.5:Math.max(0,Math.min(1,(v[1]-g[1]/2-x[1]-b.offset.top)/a[1])),n=x[0]+
Math.round(c*a[0]);a=x[1]+Math.round(d*a[1]);e.get(0).style.left=n+"px";e.get(0).style.top=a+"px";return[c,d]};b.destroy=function(){e.remove()};b.offset=m.offsetParent().offset();a(d);b.updatePosition();e.appendTo(m.parent());r.detailImage[0].complete||r.detailImage.load(function(){var c=r.detailImage.width()/x[2];a(c);b.updatePosition()})};ca.preload=function(){A.preload(h.generalImageUrls.lensBackgroundUrl)};var Q=function(){function a(){var a={};if("over"===h.location){a=h.useClickZoom;var b={},
n=c("#leftCol"),B=c("#centerCol"),q=c("#rightCol"),k=c("#hover-zoom-end"),Q=c("#actionPanelContainer"),ua=e.isjQueryObjDefined(n)?n.outerHeight():B.outerHeight();b.top=e.isjQueryObjDefined(n)?n.offset().top:B.offset().top;b.bottom=ua+b.top;b.right=e.isjQueryObjDefined(q)?q.offset().left:Q.offset().left;b.left=a?0:n.offset().left+n.outerWidth();e.isjQueryObjDefined(k)&&k.offset().top>b.bottom&&(b.bottom=k.offset().top);a=b}else"right"===h.location&&(a=m.offset(),a={left:a.left+m.outerWidth(),top:a.top,
right:a.left+m.outerWidth()+400,bottom:a.top+400});h.minHeightElement&&(a.bottom=Math.max(a.bottom,a.top+c(h.minHeightElement).outerHeight()));a.bottom=Math.min(a.bottom,c(u).scrollTop()+c(u).height());a.left+=d[0];a.top+=d[1];a.right+=d[2];a.bottom+=d[3];a.width=a.right-a.left;a.height=a.bottom-a.top;h.enhancedHoverOverlay&&e.isDefined(u.pageXOffset)&&(b=c(u).width(),a.width=b-a.left+u.pageXOffset-18,a.height-=14);f.css({left:a.left,top:a.top,width:a.width,height:a.height});g.rect=a;return g}function b(a){var b=
new Image;g.detailSize=[0,0];b.onload=function(){g.detailSize=[b.width,b.height];k()};b.src=a.attr("src");if(0<b.width&&0<b.height)g.detailSize=[b.width,b.height];else if(h.detailImageSize)g.detailSize=h.detailImageSize;else{a=J(b.src);var c=x[2]/x[3];a.SS||a.AA?(a=a.SS||a.AA,g.detailSize=[a,a]):a.SX?g.detailSize=[a.SX,Math.round(a.SX/c)]:a.SY?g.detailSize=[Math.round(a.SY*c),a.SY]:a.SL&&(g.detailSize=1<=c?[a.SL,Math.round(a.SL/c)]:[Math.round(a.SL*c),a.SL])}}var g=this,d=h.adjustment;c("#zoomWindow").remove();
var n={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:h.zIndex};h.enhancedHoverOverlay&&(n.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",n.border="1px solid #949494",n.borderColor="rgb(148,148,148)");var f=c("\x3cdiv id\x3d'zoomWindow' /\x3e").css(n);h.fadeMagnifier&&f.fadeIn(200);h.useClickZoom&&(O?f.css("cursor",'url("'+h.zoomOutIcon+'"), auto'):(f.css("cursor","-webkit-zoom-out"),f.css("cursor","-moz-zoom-out"),f.css("cursor","zoom-out")));g.updateImage=function(a){a=c("\x3cimg id\x3d'detailImg' src\x3d'"+
a+"'/\x3e").css("position","absolute");g.detailImage&&g.detailImage.remove();f.append(a);c(document).trigger("updated.magnifier");g.detailImage=a;b(g.detailImage)};g.refit=function(){a();b(g.detailImage);return g};h.fadeMagnifier?(g.show=function(){f.fadeIn(200);return g},g.hide=function(){f.fadeOut(200);return g}):(g.show=function(){f.show();return g},g.hide=function(){f.hide();return g});g.destroy=function(){f.remove();return g};g.getWindowSize=function(){return[g.rect.left,g.rect.top,g.rect.width,
g.rect.height]};g.updateImage(W);a();f.appendTo(document.body)},R=!1,da,X=!1,K;A.preload=function(b){b=c.makeArray(b);for(var g=b.length,d=0;d<g;d++)b[d]instanceof Array?A.preload(b[d]):"string"===typeof b[d]&&b[d]&&!a[b[d]]&&(a[b[d]]=new Image,a[b[d]].src=b[d])};A.changeImage=function(a,b){g&&y();W=b;m.attr("src",a);A.preload(a);x=[m.position().left,m.position().top,m.width(),m.height()];b&&("immediately"===h.preload?A.preload(b,!0):c(u).ready(function(){A.preload(b)}),r?r.updateImage(b):m.attr("data-old-hires",
b))};A.destroy=function(){D.acEnabled?H.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):m.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");c(document).unbind("mousemove.magnifier");b&&b.destroy();b=null;r&&r.destroy();r=null};A.detailImage=function(){return r.detailImage};A.suppressMagnifier=function(a){B=a};A.isEngaged=function(){return g};A.engageMagnifier=d;A.disengageMagnifier=y;m[0].complete?q():m.one("load",q);A.preload(m.attr("src"));
u.performance&&performance.now&&u.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(h.preload){var P=h.detailImageUrl;F=function(){A.preload(P,!0);h.useClickZoom||ca.preload()};var V=h.preload;V.constructor!==Array&&(V=[V]);for(var Z=0;Z<V.length;Z++)if("immediately"===V[Z])F();else if(c(u)[V[Z]])c(u)[V[Z]](F);else c(u).bind(V[Z],F)}return A}function w(){if(D.useHoverZoom){var m={adjustment:[0,0,1,1],generalImageUrls:D.staticImages,location:"over",minHeightElement:"#imageBlock",
preload:"ready",zIndex:199,useHoverZoomIpad:D.useHoverZoomIpad,useHoverZoom:D.useHoverZoom,useClickZoom:D.useClickZoom,fadeMagnifier:D.fadeMagnifier,zoomOutIcon:D.staticImages.zoomOutCur,enhancedHoverOverlay:D.enhancedHoverOverlay||D.atfEnhancedHoverOverlay};y&&(y.destroy(),y=aa);var h=P.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");e.isjQueryObjDefined(h)?D.useClickZoom?(h.one("click.loadmagnifier touchstart.loadmagnifier",function(c){y=
new K(h,m);y.engageMagnifier(c,!0)}),O?h.css("cursor",'url("'+D.staticImages.zoomInCur+'"), auto'):(h.css("cursor","-webkit-zoom-in"),h.css("cursor","-moz-zoom-in"),h.css("cursor","zoom-in"))):y=new K(h,m):l.isEnabled&&M.logHoverZoomApplicability(c,l)}}var H,D,F,t,y,P,O=navigator.userAgent.match(/msie|trident/i);return function(c,e,k,p){H=this;D=c;F=e;l.refToModel=F;t=p;H.render=function(c,e,h,d,q,k){P=h;y&&(y.destroy(),y=aa)};H.update=function(c){};t.register("loadMagnifier",w);t.register("resize",
w)}});"use strict";L.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(p,c,e,I){function l(c,l,p){c=(c=p?p:e.getColorFromState(l.getState().hovered_variations,J))&&""!==c?c:J.defaultColor;w.dispatch("updateView",{type:"swatchHover",data:{color:c}});I.postCountMetric("swatchHover")}function M(c,l,p,t){c=(c=t?t:e.getColorFromState(l.getState().selected_variations,J))&&""!==c?c:J.defaultColor;c===K.getCurrentItem().color?"function"===typeof p&&p():(w.dispatch("updateSelection",
{type:"swatchClick",data:{color:c},onload:function(){var c={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof u.markFeatureRender&&u.markFeatureRender("imageblock",c);p()}}),I.postCountMetric("swatchClick"))}var G,J,K,w;return function(c,e,u,t){G=this;J=c;K=e;w=t;p.on("image-block-twister-swatch-hover",l);p.on("image-block-twister-swatch-click",M);G.render=function(c,e,l,m,h){};G.update=function(c){}}});"use strict";L.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric",
"logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(p,c,e,I,l,M,G){function J(a,b,g,f){if(!e.isjQueryObjDefined(a.find(".a-button-selected"))){var n=q.getCurrentItem();if(!f||"chromeless-video"!==n.type||!d.autoplayVideo)if(f=0,"image"===n.type&&(f=Math.max(D(n.color,n.variant),0)),!(n.thumbnailIndex>=d.maxAlts&&0!=f)){var h=b+f;h>=g&&(f=0,h=b);b=e.getImageHash(n.color,f,d);-1!==b&&(A.dispatch("updateModel",{data:{index:f,thumbnailIndex:h,variant:b.variant,type:"image",
shoppableScene:b.shoppableScene}}),b=a.find(".item").get(h),e.selectGivenThumbnail(c(b),a))}}}function K(a,b,g){if((2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment)&&g)return a;var n=d.colorImages&&d.colorImages[b];b=a;2!==d.unrolledImageBlockTreatment&&3!==d.unrolledImageBlockTreatment||c(".thumbItemUnrolled").each(function(a){(!c(this)[0].classList.contains("thumbTypeimage")||a>=n.length||a>=d.maxAlts)&&c(this).remove()});e.isDefined(n)&&(c.each(n,function(b,g){if(a<d.maxAlts)if(2===
d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment){a++;var f=c(".thumbItemUnrolled");f[b]?f[b].querySelector("img").src=g.thumb:c('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+a+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+a+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+
a+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+g.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".regularAltImageViewLayout"))}else b={type:"image",index:b,thumbnailIndex:a,variant:g.variant,shoppableScene:g.shoppableScene},g=e.createThumbnail(b,g.thumb,r,"imageThumbnail"),d.collapsibleThumbnails&&e.updateImageThumbnailOverlay(g,b,n),a++}),M.isEnabled&&G.logAltImgRequestPlacedOnThumbnails(c,M,q),J(r,b,a,g));return a}function w(a,b){d.useIV&&e.isDefined(b.hiRes)&&
a.css("cursor","pointer")}function H(a,b){if("image"===a.type&&W){var g=c("#image-canvas-caption #canvasCaption"),n=d.staticStrings,f=d.colorImages,h=a.color,B=a.index;if(e.isShoppableScenesEnabled()&&a.shoppableScene)var q=n.clickSceneTagsToShopProducts;else b&&d.useIV?q=n.clickToExpand:f[h]&&f[h][B].hiRes&&d.useHoverZoom?(q=d.useHoverZoomIpad?n.touchToZoom:d.useClickZoom?n.clickToZoom:n.rollOverToZoom,d.hoverZoomIndicator&&(q="\x3cimg src\x3d'"+d.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+q)):
d.useIV&&(q=n.clickToExpand);g.html(q)}}function D(a,b){return e.getIndexForVariant(a,b,d)}function F(a,b,c){var e=b.thumbnailIndex,n=d.colorToAsin[b.color]&&d.colorToAsin[b.color].asin;b="altImageHover"===c&&x&&x.altImageIdx===e&&x.asin===n&&"swatchClick"===x.event?!0:"swatchHover"===c?x&&x.asin===n&&x.event===c:x&&x.altImageIdx===e&&x.asin===n&&x.event===c;if(!b){var f="#",h=a.find(".imgTagWrapper img").get(0);h&&(f=h.src);a=new Image;a.onload=function(){if(h){h.src=f;var a=h.width,b=h.height,d=
h.naturalWidth,q=h.naturalHeight;try{var k=(Math.abs(a/d*q-b)/b).toFixed(2);.01<k&&(u.ue&&((("landing"!==c||g||B)&&"swatchClick"!==c||u.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===c||"swatchClick"===c)?u.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==c||B?"altImageHover"!==c||g||(u.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),g=!0):(u.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),B=!0)),u.ueLogError&&(a={logLevel:"WARN",
attribution:"imageBlock-PC-hi_res_image_distortion"},u.ueLogError("swatchHover"===c?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+n+" Event:"+c+" Diff:"+k.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+n+" at altImageIdx "+e+" Event:"+c+" Diff:"+k.toString()+"]"},a)))}catch(ja){u.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},u.ueLogError(ja,a))}}};"#"!==f&&(a.src=f);x.altImageIdx=e;x.asin=n;x.event=c}}function t(a,
b){var g="a-dynamic-image";if(!d.acEnabled){var n;c.each(a.main,function(a,b){e.isDefined(n)||(n=parseFloat(b[1]/b[0])<=parseFloat(d.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});g+=n}var f=e.getMaxDimensionsOfMainImage(a.main,v,d),h=f[0],B=f[1];f=c("\x3cdiv\x3e\x3c/div\x3e");h={"max-height":h,"max-width":B};f.addClass(g).css(h).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",a.main);return f}function y(a,c,g){var e="desktop-dp-atf-ib-shoppablescenes-tags-"+
a;"function"==typeof uet&&uet("bb",e,{wb:1});g.attr("data-a-image-name","shoppable-scene:"+a);g=b.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");g.find(".mirai-scene-image-block-tag-container").attr({"data-csa-c-content-id":e,"data-csa-c-slot-id":e,"data-csa-c-type":"widget","data-csa-c-asin":d.mediaAsin,"data-csa-c-physical-id":c.shoppableScene.physicalId});g.children("span").css("display","inline-block");
A.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:c.shoppableScene,imageSource:c.hiRes||c.large||c.lowRes,$tagPlaceholder:g.find(".mirai-scene-tag-placeholder"),$viewProductsButton:g.find(".mirai-scene-view-products-button")});"MutationObserver"in u&&(new MutationObserver(function(b,g){b.forEach(function(b){"childList"===b.type&&b.target.classList.contains("mirai-scene-image-block-tag-container")&&1===b.addedNodes.length&&"IMG"===b.addedNodes[0].tagName&&""!==b.addedNodes[0].src&&(b=
b.addedNodes[0],"function"!==typeof b.onload&&(b.onload=function(){p.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:c.shoppableScene})}),g.disconnect())})})).observe(g.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",e,{wb:1});return g}function P(a,c,g){g=t(a,g);a=e.isShoppableScenesEnabled()&&a.shoppableScene?y(c,a,g):b.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");a.addClass("image item itemNo"+
c+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":c+1});a.find(".placeHolder").replaceWith(g);b.find(".list").append(a);p.loadImageManually(g);p.trigger("dp:image-block:imageBlockImageLoad",c);return a}function O(a){var b=v.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");d.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(d.imgTagWrapperClasses)}
function m(a){if(a.isUserGenerated){var b=q.getPreviousItem(),c=a.variant;e.isDefined(c)&&b.thumbnailIndex!==a.thumbnailIndex&&(M.isEnabled&&G.logAltImgRequestServed(M),l.postCountMetric("ImageThumbnailSelectedVariant:"+c),0===c.indexOf("IG")&&(l.postCountMetric("IGImageSelectedVariant:"+c),l.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function h(a,f,h,k){if(2!==d.unrolledImageBlockTreatment&&3!==d.unrolledImageBlockTreatment||k||"unavailable"===a.type){if("image"===a.type||"unavailable"===
a.type||"lazy-loaded"===a.type){(n=e.isDefined(f))&&l.postCountMetric("mainImageUpdateOnTwisterVariationClick");h=e.getImageHash(a.color,a.index,d);if(-1===h)return f={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},e.lazyLoadingRequired(a,q,d)||(A.dispatch("updateModel",f),e.showUnavailable(a.color)),-1;k=b.find(".item.itemNo"+a.thumbnailIndex);e.isjQueryObjDefined(k)||(k=P(h,a.thumbnailIndex,f),n?(B=g=!1,F(k,a,"swatchClick")):F(k,a,"altImageHover"));O(k);A.dispatch("loadMagnifier");
H(a);w(k,h);m(a);p.trigger("dp:image-block:update",h)}}else if(a=d.colorImages&&d.colorImages[h],c(".unrolledImg").each(function(a){c(this).remove()}),e.isDefined(a)){c.each(a,function(a,b){if(a<d.maxAlts){var g=c(".unrolledImg");g[a]?c(".unrolledImg #unrolledImgNo"+a+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+b.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):a>=g.length&&c('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
(a+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+a+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+a+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
b.large+'" data-a-hires\x3d"'+b.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".unrolledScrollBox .list-unrolled"))}});p.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img"));var n=e.isDefined(f);n&&(l.postCountMetric("mainImageUpdateOnTwisterVariationClick"),f())}}function k(a){var c=Math.max(D(a.color,q.getCurrentItem().variant),0);c=e.getImageHash(a.color,c,d);if(-1===c)return e.lazyLoadingRequired(a,
q,d)||e.showUnavailable(a.color),-1;var g=b.find(".swatchHoverExp"),f=t(c);g.find(".imgTagWrapper").html(f);p.loadImageManually(f);l.postCountMetric("mainImageUpdateOnTwisterVariationHover");O(g);F(g,a,"swatchHover");p.trigger("dp:image-block:update",c)}function z(a,g){e.lazyLoadingRequired(a,q,d)||(c("#imageBlock").css("opacity","1"),b.css("opacity","1"),e.spinner(b,!1),b.find("li").removeClass("selected"),W&&c("#image-canvas-caption #canvasCaption").empty(),e.hideUnavailable(),g&&b.find(".list .item").remove())}
function f(){var a=b.find(".item .imgTagWrapper"),g=e.getContainerHeight(v,d.holderRatio,d.holderMaxHeight);0<g&&(v.height(g),a.height(g));b.find("img.a-dynamic-image").each(function(){var a=c(this);a.data("a-manual-replacement")&&p.loadDynamicImage(this);var b=a.data("a-dynamic-image");b=e.getMaxDimensionsOfMainImage(b,v,d);a.css({"max-height":b[0]+"px","max-width":b[1]+"px"})})}function E(a){H(q.getCurrentItem(),"mouseenter"===a.type)}var N,d,q,A,U,ba,r,b,v,x={},C,a=null,g=!1,B=!1,W=(I=p.state("imageBlockStateData"))?
!I.shouldRemoveCaption:!0;p.on("triggerImageAjax",function(a){var b=q.getCurrentItem().color;d.colorImages[b]||(d.colorImages[b]=a);a={type:"updatedData",data:q.getCurrentItem()};A.dispatch("updateView",a);(b=d.colorToAsin[b])&&b.asin&&L.register(e.rankedImagesReadyEvent(b.asin))});return function(g,B,m,p){N=this;d=g;q=B;A=p;d.colorImages[d.landingAsinColor]=d.colorImages[d.defaultColor];N.render=function(g,f,B,n,k,m,l,p){b=2!==d.unrolledImageBlockTreatment&&3!==d.unrolledImageBlockTreatment?B:c(".unrolledScrollBox");
r=n;v=k;C=K(f,g,m);m?0===f&&F(b.find(".item.itemNo0"),q.getCurrentItem(),"landing"):(f=q.getCurrentItem(),e.lazyLoadingRequired(f,q,d)&&A.dispatch("updateModel",{data:{type:"lazy-loaded"}}));z(q.getCurrentItem(),!m);2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment?"swatchClick"===p&&d&&d.colorImages?(a=d.colorImages[g],h(q.getCurrentItem(),l,g,m)):"updatedData"===p&&d&&d.colorImages&&d.colorImages[g]!==a&&(a=d.colorImages[g],h(q.getCurrentItem(),l,g,m)):h(q.getCurrentItem(),l,
g,m);return C};e.isImageBlockGridViewHoverDelayEnabled()?N.update=function(a){var b=a.data;q.setCurrentEvent(a);"ingress"!==b.type&&"swatchHover"!==a.type&&(q.setToPreviousItem(),"mouseenter"===a.type?(ba&&clearTimeout(ba),ba=setTimeout(function(){q.setToCurrentItem(b);z(a.data,!1)},e.getHoveringDelayTimer())):"mouseleave"===a.type?ba&&clearTimeout(ba):"click"===a.type&&(q.setToCurrentItem(b),z(a.data,!1)));"swatchHover"===a.type?("ingress"!==b.type&&z(a.data,!1),b.color===q.getCurrentItem().color?
h(q.getCurrentItem(),null,b.color,!0):a.captured||-1===k(b)||(a.captured=!0)):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type?(l.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+C),U&&clearTimeout(U),U=setTimeout(function(){h(b,null,b.color,!0);d.usePeekHover||e.selectGivenThumbnail(a.$declarativeParent,r)},e.getHoveringDelayTimer())):"mouseleave"===a.type?U&&clearTimeout(U):"click"===a.type&&(h(b,null,b.color,!0),e.selectGivenThumbnail(a.$declarativeParent,
r),l.postCountMetric("dpcc_imageThumbClicked_total"),l.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+C)))}:N.update=function(a){var b=a.data;q.setCurrentEvent(a);"ingress"!==b.type&&z(a.data,!1);"swatchHover"===a.type?b.color===q.getCurrentItem().color?h(q.getCurrentItem(),null,b.color,!0):a.captured||-1===k(b)||(a.captured=!0):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type&&l.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+
C),h(b,null,b.color,!0),d.usePeekHover&&"click"!==a.type||(e.selectGivenThumbnail(a.$declarativeParent,r),"click"===a.type&&(l.postCountMetric("dpcc_imageThumbClicked_total"),l.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+C))))};d.overrideAltImageClickAction&&e.addTag("clickEnabledOnAltImages");A.register("imageHover",E);A.register("resize",f)}});"use strict";L.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(p,c,e,u){function l(e,
m){e=c("\x3cimg src\x3d'"+(m?t.staticImages.shoppableSceneDotHighlighted:t.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");e.css({display:m?"none":"inline-block"});e.addClass("mirai-scene-tag").addClass(m?"active-tag":"inactive-tag");return e}function I(e){var m=c("\x3cspan\x3e");p.each(e.tags,function(e){var h=c("\x3cdiv\x3e").css({position:"absolute",left:100*e.left+"%",top:100*e.top+"%",height:"auto",width:"auto"});h.append(l(e,!1));h.append(l(e,!0));h.bind("mouseenter",function(){G(c(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});
p.declarative.create(h,"scenes-show-details-tags-ib",{tagId:e.link});m.append(h)});return m.children()}function G(c){c.addClass("mirai-scene-dot-pulsate");p.delay(function(){c.removeClass("mirai-scene-dot-pulsate")},4E3)}function J(c,e){c.css({display:"none"});e.css({display:"inline-block"})}function K(c,e,h){c.eq(h).css({display:"inline-block"});e.eq(h).css({display:"none"})}function w(c){L.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){p.trigger("mirai:scene-details-change",
{physicalId:c})})}function H(){var e=c("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),m=c("\x3cimg class\x3d'item-tag'\x3e").attr("src",t.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),h=c("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");h.html(t.staticStrings.shoppableSceneViewProductsButton);return e.append(m).append(h)[0].outerHTML}function D(c){function e(){c.$tagPlaceholder.replaceWith(k);var d=k.find(".mirai-scene-tag.active-tag"),e=
k.find(".mirai-scene-tag.inactive-tag");K(d,e,0);G(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));P=!0;c.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+c.index,{wb:1});y=!0;u.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(c.shoppableScene){var h=c.$viewProductsButton.find(".a-button-text");if(0===h.children().length){h.append(H());p.declarative.create(c.$viewProductsButton,"scenes-show-details-view-products-ib",
{tagId:c.shoppableScene.tags[0].link});var k=I(c.shoppableScene),l=k.find(".mirai-scene-tag.active-tag"),f=k.find(".mirai-scene-tag.inactive-tag"),w=c.shoppableScene.physicalId,y=!1;p.on("mirai:index:change",function(c){c.scenePhysicalId===w&&(c=c.selectedIndices[0],J(l,f),K(l,f,c),G(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(c)),P=!0)});p.on("mirai:scene-details-change",function(c){c.physicalId!==w||P||(J(l,f),K(l,f,0),G(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),
P=!0)});p.on("mirai:no-products-active",function(c){c.scenePhysicalId===w&&J(l,f)});p.on("mirai:set-first-product-active",function(c){c.scenePhysicalId===w&&(J(l,f),K(l,f,0))});p.on("a:image:load:shoppable-scene:"+c.index,function(){y||(e(),u.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});p.on("shoppable-scene-image-loaded",function(d){d.index!=c.index||y||(e(),u.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});L.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",
function(){p.trigger("mirai:scene-side-sheet-init",{icons:t.staticImages,strings:t.staticStrings});p.trigger("mirai:scene-details-init",{scene:c.shoppableScene,imageSource:c.imageSource})})}}}var F,t,y,P=!1;return function(c,l,h,k){F=this;t=c;y=k;e.isShoppableScenesEnabled()?(y.register("initialize-shoppable-scene",D),F.render=function(c,e,h,k,d,q,l){},F.update=function(c){"mouseenter"===c.type&&(c.data.shoppableScene?w(c.data.shoppableScene.physicalId):P=!1)}):(c=function(){},F.render=c,F.update=
c)}});L.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";var T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"===typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p};L.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(p,
c,e,I,l,M,G,J,K){function w(a){return null!==a&&"undefined"!==typeof a}function H(a){var b=0;c.each(a,function(a,c){a=parseInt(c[1],10);a>b&&(b=a)});return b}function D(a){var b=0;c.each(a,function(a,c){a=parseInt(c[0],10);a>b&&(b=a)});return b}function F(a,b,c){b=b.width();if(c.naturalMainImageSize)return b;a=H(a);0<a&&(b=Math.min(b,a));return b}function t(a,b,c){b=b.height();if(c.naturalMainImageSize)return b;a=D(a);0<a&&(b=Math.min(b,a));return b}function y(a){var b;c.each(a,function(a,c){w(b)||
(b=c[1]/c[0])});return b||1}function P(a){if(a){if(0<a.indexOf(".m3u8"))return"application/x-mpegURL";if(0<a.indexOf(".mp4"))return"video/mp4"}return""}function O(a,b,d,f,n,q,k,l,p,v,r,t,u,w,x){var g=c.extend({},d.foresterMetadataParams);null!==f&&(g.method+="."+f);var B=[];b.disabledViewIds&&(B=b.disabledViewIds);x=x&&x.videoBackgroundChromefulMainView?x.videoBackgroundChromefulMainView:"black";"unrolled-video-add"===w&&(x="transparent");return e.embed({parentElement:a[0],streamingUrls:b.url,contentId:b.mediaObjectId,
contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,swfUrl:d.swfUrl,foresterMetadataParams:g,backgroundColor:x,flashParams:{wmode:"transparent"},slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl},videoAds:d.videoAds,bindings:{play:function(){if("ImmersiveView"===f)A||(A=!0,I.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(U||(U=!0,I.postCountMetric("dppc_chromefulVideoPlayedPV")),!v){var a=I.buildNexusMetric("ib.thumbnailClick",p,b.mediaObjectId,b.rankingStrategy,b.groupType,
r,t,u);I.emitNexusMetric(a)}}},cuePoints:[{values:b.durationSeconds-1,type:"position",callback:function(a,b,c){n&&(m(0,q,l),h(k))}}],disabledViewIds:B})}function m(a,b,c){b.fadeTo(500,0,function(){k(a,c);b.fadeTo(500,1)})}function h(a){a&&a.toggle()}function k(a,b){b=b.find("img");w(b[a])&&c(b[a]).click()}function z(a,c){b[a]=c?c:b[a];return b[a]}function f(a,b,d){d=d||r;d=d.colorImages;if(1>d.length||!w(d[a])||!w(b))return-1;var g=-1;c.each(d[a],function(a,c){c.variant===b&&(g=a)});return g}function E(a,
b,d){d=d||r;d=d.colorImages;return!(w(d)&&w(d[a])&&w(d[a][b])&&w(d[a][b].main))||1>c.map(d[a][b].main,function(a,b){return b}).length?-1:d[a][b]}function N(a,b,c,d){d.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,a>b?d.css("width",b/a*100+"%"):d.css("height",a/b*100+"%"))}function d(a,b){var g;if(g=a.useIV)g=a.colorImages&&a.colorImages[b]&&0<a.colorImages[b].length?!0:!1;a=g;G.isEnabled&&(G.IVApplicaple=a,J.logImmersiveViewApplicability(c,G));return a}function q(){return 0<c(".gridImageBlockViewLayoutIn2x4").length||
0<c(".gridImageBlockViewLayoutIn2x5").length||0<c(".gridImageBlockViewLayoutIn1x7").length}var A,U,L,r=c.extend(!0,{},l,M),b={},v=0,x=0,C=/gridAltImageViewLayoutIn(\d+)x(\d+)/g;return{isDefined:w,isDefinedAndEmpty:function(a){return w(a)&&"object"===("undefined"===typeof a?"undefined":T(a))&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return w(a)?"object"===("undefined"===typeof a?"undefined":T(a))&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return w(a)?"object"===
("undefined"===typeof a?"undefined":T(a))&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:y,getMaxHeightOfMainImage:t,getMaxWidthOfMainImage:F,getMaxDimensionsOfMainImage:function(a,b,c){if(c.acEnabled)return[b.height(),b.width()];var g=t(a,b,c);b=F(a,b,c);a=y(a);c=b/a;b=Math.min(b,g*a);g=Math.min(g,c);return[g,b]},getContainerHeight:function(a,b,c){var g=a.get(0);a=0;if(w(g)){a=Math.min(g.offsetWidth/b,c);var d;b=r.mainImageHeightPartitions;c=r.mainImageMaxSizes;
if(w(c)&&w(b)){var e=0,f=u.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;for(g=0;g<b.length;g++)f>b[g]&&(e=g+1);c.length>=e&&(d=c[e])}w(d)&&(a=Math.min(d[1],a))}return a},getColorFromState:function(a,b){if(a){b=b||r;var g="";c.each(b.visualDimensions,function(b,c){a[c]&&(g+=" "+a[c])});return g&&g.substring(1)}},createThumbnail:function(a,b,c,d){var g=c.find(".template").clone().removeClass("template").addClass("item"),e=document.createElement("img");e.src=b;g.find(".placeHolder").replaceWith(e);
(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&g.addClass("heroImageThumbnail");w(d)&&g.addClass(d);q()&&g&&(d=document.createElement("div"),d.className="imageBlockThumbnailImageGrayOverlay",e.parentNode.insertBefore(d,e));p.declarative.create(g,"thumb-action",a);g.attr&&(g.attr("data-ux-click",""),a.type&&a.type.match(/video/)?(g.attr("data-csa-c-type","uxElement"),g.attr("data-csa-c-element-type","navigational"),g.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):
(g.attr("data-csa-c-type","uxElement"),g.attr("data-csa-c-element-type","navigational"),g.attr("data-csa-c-action","image-block-alt-image-hover")),g.attr("data-csa-c-posy",a.thumbnailIndex+1));c.append(g);return g},updateImageThumbnailOverlay:function(a,b,c){a.find(".textMoreImages").append(c.length-b.thumbnailIndex+"+")},selectGivenThumbnail:function(a,b){a=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");a.addClass("a-button-selected").addClass("a-button-focus")},
createAiryInstanceForChromeful:function(a,b,c,d,e,f,h,q){O(a,b,c,d,e,f,h,q,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:O,loadMediaIntoAiry:function(a,b,c,d){a&&a.getMediaSourceInfo()!==b.url&&(d?a.loadMedia?(L={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(L)):a.play({videoUrl:b.url,imageUrl:b.slateUrl,mimeType:"video/mp4",contentId:b.mediaObjectId,rankingStrategy:b.rankingStrategy,refTag:"vse_ib_tablet_web"}):a.loadMedia?a.loadMedia({mediaSourceInfo:b.url,
contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.setInitialData({videoUrl:b.url,mimeType:P(b.url),contentId:b.mediaObjectId,rankingStrategy:b.rankingStrategy,imageUrl:b.slateUrl,aciContentId:b.aciContentId}))},showUnavailable:function(a){a&&(c("#imageBlock .unvailableVariation").html(a),c("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){c("#imageBlock .variationUnavailable").hide()},
fadeToThumbnail:m,toggleVideoCaption:h,selectThumbnail:k,spinner:function(a,b){var d=c("#imageBlock .a-spinner").parent();0===d.length&&(d=c("\x3cdiv\x3e\x3c/div\x3e").append(c("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),a.append(d),d.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px",
"-moz-border-radius":"20px","border-radius":"100%"}));b?d.show():d.hide();return d},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:z,getIndexForVariant:f,getImageHash:E,lazyLoadingRequired:function(a,b,c){b=Math.max(f(a.color,b.getCurrentItem().variant,c),0);b=-1!==E(a.color,b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==z(a);return!c.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},
updateAspectRatio:N,repositionVideoBanner:function(a,b,c,d){setTimeout(function(){var c=a.width()/a.height();N(c,16,9,b)},d||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,c){if(c.useChildVideos){if(!w(c.colorToVideo))return-1;a=c.colorToVideo[a]}else a=c.videos;return w(a)&&w(a[b])&&w(a[b].url)?a[b]:-1},isImmersiveViewEnabled:d,playVideoInImmersiveView:function(a,b){return d(a,b)&&a.useTabbedImmersiveView},
useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return w(L)?L.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,c){return{requester:"DetailPageTablet",marketplaceID:c.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:c.languageCode,page:"DetailPageTablet",placement:"ImageBlock",metadata:{shouldPreload:!1},video:{videoURL:c.url,imageURL:c.slateUrl}}},addTag:function(a){u.ue&&u.ue.tag&&u.ue.tag(a)},isShoppableScenesEnabled:function(){return K.isEnabled&&
0<c(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:q,isImageBlockGridViewHoverDelayEnabled:function(){return 0<c(".gridImageBlockViewLayoutIn2x4").length||0<c(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return v},updateThumbnailHoverDelay:function(a){if(w(a)){v=0;var b=a.closest("li");b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);if(-1!==b){var c=x;a=a.closest("ul").attr("class");a===aa?c=!1:(a=
C.exec(a),null===a||3!==a.length?c=!1:(a=a[2],c=Math.floor(c/a)>Math.floor(b/a)));c&&(v=100);x=b}}},logError:function(b,c,d,e){u.ueLogError&&u.ueLogError(e,{logLevel:b,attribution:c,message:d})}}});"use strict";L.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(p,c,e,I,l,M){function G(a,d,g,f){!b.autoplayVideo||ma||b.useChromelessVideoPlayer?!e.isjQueryObjDefined(a.find(".a-button-selected"))&&(g=v.getCurrentItem(),!f||
b.prioritizeVideos||"chromeless-video"===g.type&&b.autoplayVideo)&&(f=e.getVideoHash(g.color,0,b),-1===f||g.thumbnailIndex>=b.maxAlts-1||(d+=0,x.dispatch("updateModel",{data:{index:0,thumbnailIndex:d,variant:f.variant,type:b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),d=a.find(".item").get(d),e.selectGivenThumbnail(c(d),a))):(e.selectGivenThumbnail(a.find("img:last"),a),e.fadeToThumbnail(a.find("img").length-1,B,a))}function J(a){var c=v.getCurrentItem().color;if(b.useChildVideos&&
!b.colorToVideo[c]){var d=function(){if(a){b.colorToVideo[c]=a;var d={type:"updatedData",data:v.getCurrentItem()};x.dispatch("updateView",d)}};b.lazyLoadExperienceDisabled?d():L.when(e.rankedImagesReadyEvent(b.colorToAsin[c].asin)).execute(function(){d()})}}function K(a){a&&(b.notShowVideoCount=a,a={type:"updatedData",data:v.getCurrentItem()},x.dispatch("updateView",a))}function w(a){if(!b.useChildVideos)return e.lazyLoadingRequired(v.getCurrentItem(),v,b)?void 0:b.videos;if(b.colorToVideo[a])return b.colorToVideo[a];
var c=b.colorToAsin[a];if(c&&c.asin){var d={};d.params={asin:c.asin,productGroupID:b.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:b.useChromelessVideoPlayer,isUDP:b.isUDP};b.isDPXFeatureEnabled||(d.success=function(a){J(a)},I.load("/gp/product/features/apparel-main-image/videos.html",d));return b.colorToVideo&&b.colorToVideo[a]}}function H(c){n&&null===c&&2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment&&(n.hide(),a.parent().css("z-index",-1),g&&g.hide())}function D(c,
d,g){d=B.width()/B.height();var f=parseInt(c.videoWidth,10),h=parseInt(c.videoHeight,10);e.updateAspectRatio(d,f,h,a);if(n&&"unrolled-video-add"!==g)n.show(),e.loadMediaIntoAiry(n,c,T,b.tabletWeb);else if(b.tabletWeb)n=Q;else{if("unrolled-video-add"===g){n=Q;return}if(null===Q||Q===aa)Y=setInterval(function(){n=Q;n!==aa&&null!==n&&(n.show(),e.loadMediaIntoAiry(n,c,T,b.tabletWeb),F(),m(n),clearInterval(Y),Y=null)},500);else if(n=Q,n!==aa&&null!==n){n.show();e.loadMediaIntoAiry(n,c,T,b.tabletWeb);F();
m(n);return}}F();m(n)}function F(){if(2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment)if(e.useTabbedImmersiveView(b)){if(1<e.getVideosCount(v.getCurrentItem().color,b)&&g){if(e.isDefined(W)){g.show();return}W=c('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(b.staticStrings.watchMoreVideos);g.find("#videoCaption").append(W);p.declarative.create(W,"videoIngressClick",S)}e.playVideoInImmersiveView(b,v.getCurrentItem().color)&&(p.declarative.create(a,"videoIngressClick",
S),a.attr&&a.attr("data-ux-click",""),a.children().css("z-index","-1"),a.css("display","inline-block"))}else g&&(g.find("#videoCaption").text(b.staticStrings.playVideo),g.show())}function t(a,c){if("chromeful-video"===a.type||"chromeless-video"===a.type||"unrolled-video-add"===c){var d=e.getVideoHash(a.color,a.index,b);if(-1===d)return-1;"chromeful-video"===a.type&&D(d,a.thumbnailIndex+1,c)}}function y(a,d,g){if((2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment)&&g)return a;var f=
w(d);d=a;var h=c(".unrolledImg"),k=e.isDefined(f)&&0<f.length&&b.alwaysIncludeVideo?1:0;e.isDefined(f)&&0<f.length&&!b.alwaysIncludeVideo&&a===b.maxAlts&&l.postCountMetric("IBVideoDrop");h.length>b.maxAlts&&h.each(function(a){a>=b.maxAlts&&c(this).remove()});k&&a===b.maxAlts&&(2===b.unrolledImageBlockTreatment||3==b.unrolledImageBlockTreatment?(c(".thumbItemUnrolled").last().remove(),c(".unrolledImg").last().remove()):C.find(".item:last").remove(),a--);e.isDefined(f)&&(c.each(f,function(d,g){if(a<
b.maxAlts){if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var h=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";c('\x3cli class\x3d"thumbItemUnrolled thumbType'+h+" thumbIndex"+d+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+a+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+a+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+
a+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+g.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c("ul.regularAltImageViewLayout"));c('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+a+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+a+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
a+'" class\x3d"videoIndex'+d+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(c(".unrolledScrollBox .list-unrolled"));b.dp60InLastPositionUnrolledImageBlock||2!==b.dp60VideoPosition||P(c(".regularAltImageViewLayout"),b.dp60VideoPosition)}else{h=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";var q={type:h,index:d,thumbnailIndex:a,variant:g.variant};S={type:"video-ingress",index:d,thumbnailIndex:a,variant:g.variant};e.useTabbedImmersiveView(b)&&("chromeful-video"===
h&&(ka+=" videoBlockIngress  videoBlockDarkIngress",g.thumb=g.thumb.replace("_PKmb-play-button-overlay-thumb","")),b.altsOnLeft||(ka+=" a-align-top"));e.isImageBlockGridViewDisplayEnabled()&&(ka+=" videoImageBlockGridView");e.createThumbnail(q,g.thumb,C,ka);2===b.dp60VideoPosition&&P(C,b.dp60VideoPosition);e.useTabbedImmersiveView(b)&&(O(C.find(".videoBlockIngress img"),b.videoIngressATFSlateThumbURL),d=1<f.length?"multiple-videos":"one-video",(q=!0===b.notShowVideoCount?b.staticStrings.multipleVideos:
1<f.length?f.length+" "+b.staticStrings.multipleVideos:b.staticStrings.singleVideo)&&C.find(".videoBlockIngress").append(C.find("#videoCount_template").clone().text(q).attr("id","videoCount")).addClass(d));g=l.buildNexusMetric("ib.thumbnailRender",a+1,g.mediaObjectId,g.rankingStrategy,g.groupType,da,R,X,ea);l.emitNexusMetric(g);ja||(ja=!0,l.postCountMetric("chromeless-video"===h?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}a++}if(e.useTabbedImmersiveView(b))return!1}),G(C,d,a,
g),N(q),b.imageBlockRenderingStartTime&&l.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",p.now()-b.imageBlockRenderingStartTime));return a}function P(a,d){if(0!==d)if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var g=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",e=a.children(".thumbTypeimage");a=a.children(".thumbType"+g);e&&a&&e[d-1]&&c(e[d-1]).before(a[0]);a=c(".unrolledScrollBox .list-unrolled");e=a.children(".unrolledImg.imgMedia");a=
a.children(".unrolledImg.videoMedia");e&&a&&e[d-1]&&c(e[d-1]).before(a[0]);c(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(a){for(var b=null,d=0;d<this.classList.length;d++)this.classList[d].includes("itemNo")&&(b=d);null!==b&&c(this).removeClass(this.classList[b]).addClass("itemNo"+a);this.querySelectorAll("div")[1].id="unrolledImgNo"+a})}else e=a.children(".imageThumbnail"),a=a.children(".videoBlockIngress"),e&&a&&e[d-1]&&c(e[d-1]).before(a[0])}function O(a,b){var c=
a.attr("src");c&&b&&(a.attr("src",b),b=new Image,b.onload=function(b){a.attr("src",c)},b.src=c)}function m(a){b.autoplayVideo&&a&&!ma&&(g&&e.toggleVideoCaption(g),a.setVolume(0),a.show(),a.play(),ma=!0)}function h(a){n&&n.pause();a.data=S;a.clickTimeStamp=a.$event.timeStamp;var d="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";x.dispatch("imageClick",a);l.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);a=l.buildNexusMetric("ib.thumbnailClick",a.data.thumbnailIndex+
1,b.videos[0].mediaObjectId,b.videos[0].rankingStrategy,b.videos[0].groupType,da,R,X,ea);l.emitNexusMetric(a);l.postCountMetric(d);c("#main-video-container .vjs-control-bar").css("display","none");c("#main-video-container .vjs-poster").css("display","inline-block")}function k(a){null!==n&&n!==aa&&(n.frame&&n.frame.remove(),n=null,Q.frame&&Q.frame.remove(),Q=null);Q=a.player;c("#main-video-container .vse-airy-container.vse-player-container").css("min-width","auto");Q.hide=function(){Q.pause();p.$("#main-video-container").find(".vse-player-container").hide()};
Q.show=function(){p.$("#main-video-container").find(".vse-player-container").show()};Q.getMediaSourceInfo=function(){return e.getMediaSourceInfo()}}function z(d,f,q,k,l,m){H(m);a=null!==m?c("#unrolledImgNo"+m.thumbnailIndex):k.find("#main-video-container");ta&&(g=null!==m?"":a.parent().find("#video-canvas-caption"));B=null!==m?c(".unrolledScrollBox"):c("#main-image-container");null===m&&e.isImageBlockGridViewDisplayEnabled()&&(a.addClass("videoCenter"),k.find("#video-outer-container").addClass("videoWrapperCenter"));
da=u.location.href;d=v.getCurrentItem().color;!0===l?R=b.mediaAsin:(R=b.colorToAsin[d]&&b.colorToAsin[d].asin,R=e.isDefined(R)?R:b.mediaAsin);b.useChromelessVideoPlayer||a.addClass("chromeful-container");null!==m?t(m,"unrolled-video-add"):t(v.getCurrentItem(),"");e.useTabbedImmersiveView(b)&&p.declarative("videoIngressClick",["click"],h);if(-1!==n&&null!==m){d=v.getCurrentItem().color;var n=e.getVideoHash(d,m.index,b);l={requester:"MediaBlockSoftlines",marketplaceID:n.marketPlaceID,clientPrefix:"mbSoftlines"+
m.thumbnailIndex,locale:n.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:n.url,imageURL:n.slateUrl},product:{contentID:ba(b,d),contentIDType:"ASIN"}};M.get(p,"#unrolledImgNo"+m.thumbnailIndex,l,function(){p.$("#unrolledImgNo"+m.thumbnailIndex).find(".vse-player-container").show()},function(){p.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()})}}function f(a,b){function c(a){a=Math.floor((C.width()-1)/f);
a=d?a-1:a;b.slice(a).hide();b.slice(0,a).show();b.removeClass("overlayRestOfImages");a<b.length&&b.eq(a-1).addClass("overlayRestOfImages")}var d=0!=C.find(".item.videoThumbnail").length,e=b.eq(0).width(),g=b.eq(1).position().left-b.eq(0).position().left-e,f=e+g;c();a.register("resize",c)}function E(a){var b=C.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==aa&&c.decode().then(function(){f(a,b)})}}function N(a){try{if(!a)return!1;oa=a;fa=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");
a={root:null,rootMargin:"0%",threshold:.75};null!==la&&la.disconnect();0<fa.length&&(la=new IntersectionObserver(d,a));fa.forEach(function(a){la.observe(a)})}catch(va){l.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}function d(a){oa(a,sa,ra,fa,qa)}function q(a,b,d,e,g){try{c.each(a,function(a,f){var h=c(e).index(f.target);f.isIntersecting?ha[h]||(ha[h]=setTimeout(function(){b=b.slice();b.push(h);d=b.sort(function(a,b){return a-b});var a=A(d,g);if(0!==a.length&&0!==d.length){var c=
v.getCurrentItem().color;c=w(c);U(c,a);delete ha[h]}},1E3)):(clearTimeout(ha[h]),delete ha[h],b=b.filter(function(a){return a!==h}),d=b.sort(function(a,b){return a-b}))})}catch(xa){l.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}function A(a,b){return b=a=a.slice().filter(function(a){return 0>b.indexOf(a)})}function U(a,b){try{if(!a||!b||0===a.length||0===b.length)return!1;c.each(b,function(b,c){if(c=1===fa.length?a[0]:a[c])b=l.buildNexusMetric("ib.thumbnailImpression",b+1,c.mediaObjectId,
c.rankingStrategy,c.groupType,u.location.href,R,X,ea),l.emitNexusMetric(b)})}catch(wa){l.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}function ba(a,b){if(a){if(a.colorToAsin&&a.colorToAsin[b]&&a.colorToAsin[b].asin)return a.colorToAsin[b].asin;if(a.mediaAsin)return a.mediaAsin}return""}var r,b,v,x,C,a,g,B,W,n,T,S,ca,Q,R,da,X,ea,ia,V,Z,ja=!1,ma=!1,ka="videoThumbnail",Y=null,la=null,ra,qa=[],fa,sa=[],oa=null,pa=p.state("imageBlockStateData"),ta=pa?!pa.shouldRemoveCaption:!0,ha={};return function(d,
f,h,q){r=this;b=d;v=f;x=q;T=b.airyConfig;X=b.contentWeblab&&b.contentWeblab+":"+b.contentWeblabTreatment;b.colorToVideo={};b.colorToVideo[b.landingAsinColor]=b.colorToVideo[b.defaultColor]=b.videos;b.tabletWeb?(ia="tablet",ea="applicationType.ImageBlock.vse_ib_tablet_web"):p.capabilities.tablet?(ia="tablet",p.capabilities.isAmazonApp&&(ea="applicationType.ImageBlock.vse_ib_tablet_app")):(ia="desktop",ea="desktop_web.ImageBlock.vse_ib_iv");r.render=function(d,f,h,q,k,l){null!==Y&&(clearInterval(Y),
Y=null,a&&a.parent&&a.parent().css("z-index",-1),g&&g.hide&&g.hide());var m=[];if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){C=c("ul.regularAltImageViewLayout");ca=y(f,d,l);m=[];f=c(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var n=0;n<f.length;n++){var r=f[n].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",t=Number(f[n].classList[2].slice(10)),
u=c(".thumbItemUnrolled").index(f[n]);m.push({color:d,thumbnailIndex:u,type:r,varient:"MAIN",index:t})}for(n=0;n<m.length;n++)z(d,h,q,k,l,m[n])}else C=q,ca=y(f,d,l),z(d,h,q,k,l,null),d=v.getCurrentItem().color,h=e.getVideoHash(d,0,b),-1!==h&&(d=b.tabletWeb?e.getNilgiriServiceAjaxRequest(b,d,h):{requester:"MediaBlockSoftlines",marketplaceID:h.marketPlaceID,clientPrefix:"mbSoftlines",locale:h.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",
video:{videoURL:h.url,imageURL:h.slateUrl},product:{contentID:ba(b,d),contentIDType:"ASIN"}},M.get(p,"#main-video-container",d,function(){p.$("#main-video-container").find(".vse-player-container").hide()},function(){p.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));b.collapsibleThumbnails&&E(x);return ca};r.setupIntersectionObserverToWatchVideoThumbnail=N;r.emitMultipleImpressionMetric=U;e.isImageBlockGridViewHoverDelayEnabled()?r.update=function(c){null!==Y&&(clearInterval(Y),
Y=null,a&&a.parent&&a.parent().css("z-index",-1),g&&g.hide&&g.hide());var d=c.data;"ingress"===d.type||"swatchHover"===c.type||e.lazyLoadingRequired(d,v,b)||(v.setToPreviousItem(),"mouseenter"===c.type?(Z&&clearTimeout(Z),Z=setTimeout(function(){v.setToCurrentItem(d);H(null)},e.getHoveringDelayTimer())):"mouseleave"===c.type?Z&&clearTimeout(Z):"click"===c.type&&(v.setToCurrentItem(d),H(null)));if("swatchHover"===c.type)"ingress"===d.type||e.lazyLoadingRequired(d,v,b)||H(null),d.color===v.getCurrentItem().color?
t(v.getCurrentItem(),""):c.captured||e.lazyLoadingRequired(d,v,b)&&!e.lazyLoadOnHoverEnabled(b)&&t(v.getCurrentItem(),"");else if("chromeful-video"===d.type){var f=e.getVideoHash(d.color,d.index,b);"mouseenter"===c.type?(l.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+ca),f=l.buildNexusMetric("ib.thumbnailHover",d.thumbnailIndex+1,f.mediaObjectId,f.rankingStrategy,f.groupType,da,R,X,ea),l.emitNexusMetric(f),V&&clearTimeout(V),V=setTimeout(function(){t(d,"");!b.usePeekHover&&p.$(c.$currentTarget).closest("li").hasClass("videoThumbnail")&&
e.selectGivenThumbnail(c.$declarativeParent,C)},e.getHoveringDelayTimer())):"mouseleave"===c.type?V&&clearTimeout(V):"click"===c.type&&(t(d,""),p.$(c.$currentTarget).closest("li").hasClass("videoThumbnail")&&(e.selectGivenThumbnail(c.$declarativeParent,C),f=l.buildNexusMetric("ib.thumbnailClick",d.thumbnailIndex+1,f.mediaObjectId,f.rankingStrategy,f.groupType,da,R,X,ea),(!e.useTabbedImmersiveView(b)&&"chromeless-video"===d.type||"tablet"==ia)&&l.emitNexusMetric(f),e.useTabbedImmersiveView(b)&&(l.emitNexusMetric(f),
l.postCountMetric("dpcc_videoThumbClicked_"+(d.thumbnailIndex+1)+"_"+ca),S.action="videoIngressClick",S.clickTimeStamp=c.$event.timeStamp,S.$event=c.$event,S.$currentTarget=c.$currentTarget,x.dispatch("videoIngressClick",S),l.postTimeMetric("dpcc_vse_videoingressclick",c.$event.timeStamp))))}}:r.update=function(c){null!==Y&&(clearInterval(Y),Y=null,a&&a.parent&&a.parent().css("z-index",-1),g&&g.hide&&g.hide());var d=c.data;"ingress"===d.type||e.lazyLoadingRequired(d,v,b)||H(null);if("swatchHover"===
c.type)d.color===v.getCurrentItem().color?t(v.getCurrentItem(),""):c.captured||e.lazyLoadingRequired(d,v,b)&&!e.lazyLoadOnHoverEnabled(b)&&t(v.getCurrentItem(),"");else if("chromeful-video"===d.type){var f=e.getVideoHash(d.color,d.index,b);if("mouseenter"===c.type){l.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+ca);var h=l.buildNexusMetric("ib.thumbnailHover",d.thumbnailIndex+1,f.mediaObjectId,f.rankingStrategy,f.groupType,da,R,X,ea);l.emitNexusMetric(h)}t(d,"");b.usePeekHover&&
"click"!==c.type||!p.$(c.$currentTarget).closest("li").hasClass("videoThumbnail")||(e.selectGivenThumbnail(c.$declarativeParent,C),"click"===c.type&&(f=l.buildNexusMetric("ib.thumbnailClick",d.thumbnailIndex+1,f.mediaObjectId,f.rankingStrategy,f.groupType,da,R,X,ea),(!e.useTabbedImmersiveView(b)&&"chromeless-video"===d.type||"tablet"==ia)&&l.emitNexusMetric(f),e.useTabbedImmersiveView(b)&&(l.emitNexusMetric(f),l.postCountMetric("dpcc_videoThumbClicked_"+(d.thumbnailIndex+1)+"_"+ca),S.action="videoIngressClick",
S.clickTimeStamp=c.$event.timeStamp,S.$event=c.$event,S.$currentTarget=c.$currentTarget,x.dispatch("videoIngressClick",S),l.postTimeMetric("dpcc_vse_videoingressclick",c.$event.timeStamp))))}};b.isDPXFeatureEnabled&&(p.on("triggerVideoAjax",J),p.on("notShowVideoCountAjax",K));p.on("vsePlayer-imageblock_tablet",k);p.on("vsePlayer-mbsoftlines",k)}});"use strict";L.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(p,c){function e(c,e,M,G,J){function l(c){"click"===c.type&&G.postCountMetric("thumbClick");
"click"===c.type&&f.overrideAltImageClickAction?E.dispatch("thumbActionClick",c):E.dispatch("updateSelection",c)}function w(c){f.useClickZoom||E.dispatch("imageClick",c)}function H(c){f.useClickZoom||E.dispatch("imageHover",c)}function D(c){E.dispatch("button360Click",c)}function F(d){!M.isDefined(d)||"swatchClick"!==d.type&&"updatedData"!==d.type?(z.update(d),"swatchHover"!==d.type&&N.getPreviousItem().thumbnailIndex!==d.data.thumbnailIndex&&G.postCountMetric(d.data.type+"ThumbnailSelected"),c.trigger("image-block-thumbnail-selected",
d.data)):(z.render(d.data.color,!1,d.onload,d.type),d={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof u.markFeatureRender&&u.markFeatureRender("imageblock",d))}function t(c){E.dispatch("resize",c)}function y(c){M.selectThumbnail(c,d)}function I(){"function"===typeof u.markFeatureInteractive&&u.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function O(){f.interactiveCallJSPEnabled||
("function"===typeof u.markFeatureInteractive&&u.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]}),1===p.useIV?L.when("a-modal").execute(function(){I()}):I());f.disableHoverOnAltImages||c.declarative("thumb-action",["mouseenter","mouseleave"],l);c.declarative("thumb-action",["click"],l);c.declarative("main-image-click",["click"],w);c.declarative("main-image-click",
["mouseenter","mouseleave"],H);c.declarative("button-360-click",["click"],D);c.on("resize",t)}function m(c){var d=c.data,e;d&&"ingress"!==d.type&&"click"===c.type&&(e=c);return e}function h(c){var d=N.getCurrentItem(),e={type:"click"};e.$declarativeParent=c;e.data=d;return e}function k(c){M.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===c.type&&M.updateThumbnailHoverDelay(c.$target)}var z,f,E,N,d;return function(c,l,p){z=this;f=c;E=l;N=p;d=e("#imageBlock #altImages ul");var q=e("#imageBlock .canvas"),
r=e("#main-image-container"),b;z.subViews=[];for(l=0;l<J.length;l++)z.subViews.push(new J[l](c,p,z,E));z.render=function(c,k,l,a){var g=0;d.find(".item").remove();c=c||N.getCurrentItem().color;e.each(z.subViews,function(b,e){g=(2===f.unrolledImageBlockTreatment||3===f.unrolledImageBlockTreatment?e.render(c,g,q,d,r,k,l,a):e.render(c,g,q,d,r,k,l))||g});var m=d.find(".a-button-selected").closest(".a-declarative");b=h(m)};z.init=function(){d=e("#imageBlock #altImages ul");var b=d.find(".a-button-selected").closest(".a-declarative"),
c=b.data("action");b=b.data(c)||{};b.color=f.landingAsinColor||f.defaultColor;E.dispatch("updateModel",{data:b});z.render(b.color,!0);f.isDebug&&u.console&&console.log(f);E.register("updateView",F);E.register("selectThumbnail",y);O()};z.update=function(c){k(c);e.each(z.subViews,function(b,d){d.update(c)});f.usePeekHover&&("mouseleave"===c.type?E.dispatch("updateSelection",b):"click"===c.type&&(b=m(c)||b))}}}c=["A","jQuery","imageBlockUtils","postMetric"].concat(p.views);L.when.apply(L,c).register("ImageBlockView",
function(){for(var c=arguments[0],l=arguments[1],p=arguments[2],u=arguments[3],J=[],K=4,w=arguments.length;K<w;K++)J.push(arguments[K]);return e(c,l,p,u,J)})})});
/* ******** */
(function(A){var C=window.AmazonUIPageJS||window.P,pa=C._namespace||C.attributeErrors,c=pa?pa("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):C;c.guardFatal?c.guardFatal(A)(c,window):c.execute(function(){A(c,window)})})(function(A,C,pa){A.when("A","jQuery").register("ImageBlockImmersiveViewDimensionIngress",function(c,b){var a;return function(b,c,D,u){a=this;a.render=function(){};a.update=function(){}}});"use strict";A.when("A","jQuery","imageBlockUtils","postMetric",
"imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(c,b,a,G,l){function D(){l.populateTitle(g.find("#ivTitle"),160,H)}function u(){var b=m.getCurrentItem().color;B=H.colorImages[b];E=H.heroImage[b];x=F=0;a.isDefined(E)&&(x=E.length);a.isDefined(B)&&(F=B.length)}function r(a){return a.hiRes||a.large||a.main[a.main.length-1]}function C(){var a=g.find("#ivStage").find("#ivLargeImage"),b=a.width(),k=a.height(),c=a.find(".fullscreen");c.removeAttr("style");var l=c.width(),
m=c.height();0<c.length&&(c[0].naturalWidth&&(l=c[0].naturalWidth),c[0].naturalHeight&&(m=c[0].naturalHeight));a.css("cursor","auto");l=0===l?1:l;m=0===m?1:m;var q=Math.min(b/l,k/m),x=m*q,p=l*q;1>q?(v?a.css("cursor","url('"+H.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),d=!0):d=!1;l=Math.min(p,l);m=Math.min(x-20,m);c.css({"margin-top":(k-m)/2,"margin-left":(b-l)/2,height:m,width:l});a.css("visibility","visible");w=!1}
function A(a){var b=g.find("#ivLargeImage");b.css("visibility","hidden");b.empty();l.animateStageIn(b);b.append(a);C()}function N(d){g.find("#ivLargeImage").css("display","none");g.find("#ivLargeImage").css("display","block");var k;"hero-image"===d?a.isDefined(E)&&(k=r(E[y.index])):a.isDefined(B)&&(k=r(B[y.index]));if(a.isDefined(k)){g.find(".fullscreen").remove();var m=b("\x3cimg\x3e").attr("src",k).addClass("fullscreen"),J=g.find("#ivLargeImage");l.animateStageOut(J,function(){m.load(function(){A(m);
c.trigger("dp:image-block:imageBlockImmersiveImageLoad",y.index)});if(m[0].complete)A(m),c.trigger("dp:image-block:imageBlockImmersiveImageLoad",y.index);else{J.empty();var a=(J.height()-104)/2,d=(J.width()-80)/2;b("\x3cimg\x3e").attr("src",H.staticImages.spinner).css({position:"relative",top:a+"px",left:d+"px"}).appendTo(J)}})}}function R(a){g.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?y.type="hero-image":y.type="image";y.index=a.attr("id").split("_")[1];
N(y.type);G.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(y.index,10)+1)+"_"+(x+F))}function O(){g.delegate(".ivThumb","click",function(){var a=b(this);R(a)})}function K(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function P(a){var b=Z.top-(a.pageY-z[1])*p;a=K(Z.left-(a.pageX-z[0])*p,q.left);b=K(b,q.top);g.find(".fullscreen").css({left:a,top:b})}function fa(){g.delegate("#ivLargeImage","click",function(a){if(w)C();else if(d){g.find(".fullscreen").removeAttr("style");if(d){var b=g.find("#ivLargeImage"),
k=b.find(".fullscreen");v?b.css("cursor","url('"+H.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));w=!0;var c=g.find("#ivLargeImage");q.left=c.width()-k.width();q.top=c.height()-k.height();c=b.height()/2;var m=b.width()/2;z=[b.offset().left+m,b.offset().top+c];Z.top=c-k.height()/2;Z.left=m-k.width()/2;k.css({position:"relative",left:Z.left,top:Z.top});p=Math.max(k.height()/b.height(),k.width()/b.width())}P(a);G.postCountMetric("dpcc_iv_largeImageCLick")}});
g.delegate("#ivLargeImage","mousemove",function(a){w&&P(a)})}function V(){g.find("#ivLargeImage").empty()}function L(d){if(k){g=b("#ivMain");u();y=m.getCurrentItem();D();l.populateVariationSelection(g.find("#ivVariationSelection"));d=g.find("#ivThumbs");d.find(".ivRow").not(".placeholder").remove();for(var c=x+F,w=0,q=0;w<c;)for(var p=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d),r=0;4>r&&w<c;r++,w++,q++)if(q<x){var v=E[w].thumb,z=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+
w,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":w+1}).appendTo(p);z.find(".ivThumbImage").css("background",'url("'+l.getResizedThumbnailURL(v)+'") center no-repeat')}else q>=x&&q<F+x&&(v=B[w-x].thumb,z=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(w-x),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image",
"data-csa-c-posy":w-x+1}).appendTo(p),z.find(".ivThumbImage").css("background",'url("'+l.getResizedThumbnailURL(v)+'") center no-repeat'));S();k=!1}else D();d=b("#ivImagesTab").height();g.css("height",d);c=g.find("#ivTitle").outerHeight(!0);w=g.find("#ivVariationSelection").outerHeight(!0);q=g.find("#ivThumbs");p=l.getDimension(q,"margin-top")+l.getDimension(q,"margin-bottom");q.css("height",d-c-w-p);g.find("#ivLargeImage").css("height",d);d=g.find("#ivStage");c=g[0]&&g[0].getBoundingClientRect&&
Math.floor(g[0].getBoundingClientRect().width)||g.width();d.css("width",c-l.getDimension(g,"padding-left")-l.getDimension(g,"padding-right")-g.find("#ivThumbColumn").width()-l.getDimension(d,"margin-left")-l.getDimension(d,"margin-right"));y=m.getCurrentItem();d="hero-image"===y.type?g.find("#ivHeroImage_"+y.index):"image"===y.type?g.find("#ivImage_"+y.index):a.isDefined(E)?g.find("#ivHeroImage_"+y.index):g.find("#ivImage_"+y.index);a.isjQueryObjDefined(d)||(d=g.find("#ivImage_0"));R(d)}var T,H,m,
g,E,B,x,F,y,v=navigator.userAgent.match(/msie|trident/i),k=!0,w=!1,d=!1,q={},Z={},p,z;k=!0;var S=c.once(function(){O();fa();l.attachImmersiveViewResizeHandler(L);l.attachTabDeselectHandler("ivImagesTab",V)});return function(a,d,c,g){T=this;H=a;m=d;T.render=function(a,d,c,g,m,w){k=!0;u();0===x+F?l.hideTabHeading("ivImagesTabHeading"):l.unhideTabHeading("ivImagesTabHeading");1===x+F?b("#ivThumbs").hide():b("#ivThumbs").show()};T.update=function(a){};l.attachTabSelectHandler("ivImagesTab",L)}});"use strict";
A.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(c,b,a,G,l,D,u){function r(){var a=O.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),g=a.find(".a-popover-inner");a=a.height()-u.getDimension(g,"padding-top")-u.getDimension(g,"padding-bottom");b("#iv-tab-view-container").css("height",a);fa=b("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==
b(this).css("display")}).length;1<fa?(b("#iv-tab-view-container ul.iv-tab-views li").parent().show(),g=b("#iv-tab-view-container ul.iv-tab-views li").parent().height(),a-=g):b("#iv-tab-view-container ul.iv-tab-views li").parent().hide();b("#iv-tab-view-container .iv-tab-content").css("height",a);c.trigger("dp:image-block:immersive-view:resize")}function ra(){c.trigger("dp:image-block:immersive-view:reset")}function ia(m){if(a.isImmersiveViewEnabled(R,O.getCurrentItem().color))if(L){var g=m.$event.originalEvent;
g.acknowledge&&g.acknowledge(m.$currentTarget[0]);l.isEnabled&&D.logImmersiveViewRequestServed(l);G.postCountMetric("dppc_immersiveViewOpened");a.isDefined(m)&&("button-360-click"===m.action?b("#iv360TabHeading").click():"videoIngressClick"===m.action?(V=m.clickTimeStamp,b("#ivVideosTabHeading").click()):"showroomIngressClick"===m.action?(V=m.clickTimeStamp,b("#ivShowroomTabHeading").click()):b("#ivImagesTabHeading").click());g=O.getImmersiveViewModalInstance();if(a.isDefined(g))g.show();else{m=b("#auiImmersiveViewDiv");
g=Math.min(Math.max(b(C).height()-150,540),1080);var r=Math.min(Math.max(b(C).width()-75,990),1980);g=L.create(m,{name:"immersiveView",activate:"onclick",width:r,height:g,popoverLabel:"ImmersiveView",hideHeader:!0});O.setImmersiveViewModalInstance(g);m.click()}P&&(P=!1,T(),c.trigger("dp:image-block:immersive-view:init"))}else C.performance&&performance.now&&C.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else G.postCountMetric("immersiveViewNotExistsClickCount")}
var N,R,O,K,P=!0,fa=0,V,L;A.when("a-modal").execute(function(a){L=a});var T=c.once(function(){c.on("a:popover:afterUpdatePosition:immersiveView",r);c.on("a:popover:afterShow:immersiveView",r);c.on("a:popover:afterHide:immersiveView",ra)}),H=c.once(function(){var a=b("#iv-tab-view-container ul.iv-tab-views li");a.bind("click",function(g){var l=a.filter(".iv-active");l.attr("id")!==b(this).attr("id")&&c.trigger("dp:ivTabs:"+l.find("a").attr("data-iv-tab-view")+":deselect",g);a.removeClass("iv-active");
b(this).addClass("iv-active");b("#iv-tab-view-container .iv-tab-content").hide();l=b(this).find("a").attr("data-iv-tab-view");b("#"+l).show();"ivVideosTab"===l&&(g.clickTimeStamp=V||g.timeStamp);c.trigger("dp:ivTabs:"+l+":select",g);G.postCountMetric("dppc_"+l);return!1})});return function(b,g,r,u){N=this;R=b;O=g;l.refToModel=O;K=u;N.render=function(a,b,c,l,k,g){G.postCountMetric("dpcc_altThumbs_"+b);P=!0};N.update=function(a){};N.getTitle=function(){};N.getVariationSelectionInfo=function(){};H();
a.isImmersiveViewEnabled(R,O.getCurrentItem().color)||a.addTag("immersiveViewNotAvailable");K.register("imageClick",ia);K.register("button360Click",ia);R.collapsibleThumbnails&&c.declarative("thumb-action",["click"],function(a){a.$declarativeParent.hasClass("overlayRestOfImages")&&ia(a)});a.useTabbedImmersiveView(R)&&(K.register("videoIngressClick",ia),K.register("showroomIngressClick",ia))}});"use strict";A.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric",
"postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(c,b,a,G,l,D,u,r){function ra(e){return e.hiRes||e.large||e.main[e.main.length-1]}function ia(){h.find("#ivTitle").click(function(){ba.hide()})}function N(){t=Qa?{type:"360-spin"}:W.getCurrentItem()}function R(){var e=h.find("#ivStage"),a=ba.$container.find(".a-popover-wrapper"),b=a.find(".a-popover-inner");a=a.height()-r.getDimension(b,"padding-top")-r.getDimension(b,"padding-bottom");h.css("height",a);b=
h.find("#ivTitle").outerHeight(!0);var f=h.find("#ivVariationSelection").outerHeight(!0),d=h.find("#ivMediaSelection").outerHeight(!0),c=h.find("#ivThumbs"),k=r.getDimension(c,"margin-top")+r.getDimension(c,"margin-bottom");c.css("height",a-b-f-d-k);h.find("#ivLargeImage").css("height",a);e.css("width",h.width()-r.getDimension(h,"padding-left")-r.getDimension(h,"padding-right")-h.find("#ivThumbColumn").width()-r.getDimension(e,"margin-left")-r.getDimension(e,"margin-right"))}function O(){h.find("#ivMediaSelect").change(function(){var e=
b(this).val();"all"===e?(h.find("#ivVideoList").hide(),h.find("#ivThumbs").show(),h.find(".ivThumbVideo").show(),"chromeful-video"===t.type&&h.find("#ivVideo_"+t.index).click()):"images"===e?(h.find("#ivVideoList").hide(),h.find("#ivThumbs").show(),h.find(".ivThumbVideo").hide(),"chromeful-video"===t.type&&(0===X&&0===M?h.find("#iv360").click():0===X?h.find("#ivHeroImage_0").click():h.find("#ivImage_0").click())):"videos"===e&&(h.find("#ivVideoList").show(),h.find("#ivThumbs").hide(),"chromeful-video"!==
t.type?h.find("#ivVideoList_0").click():h.find("#ivVideoList_"+t.index).click())})}function K(){var e=h.find("#ivStage").find("#ivLargeImage"),a=e.width(),b=e.height(),f=e.find(".fullscreen");f.removeAttr("style");var d=f.width(),c=f.height();0<f.length&&(f[0].naturalWidth&&(d=f[0].naturalWidth),f[0].naturalHeight&&(c=f[0].naturalHeight));e.css("cursor","auto");d=0===d?1:d;c=0===c?1:c;var k=Math.min(a/d,b/c),l=c*k,g=d*k;1>k?(Ra?e.css("cursor","url('"+n.staticImages.zoomIn+"'), auto"):(e.css("cursor",
"-webkit-zoom-in"),e.css("cursor","-moz-zoom-in"),e.css("cursor","zoom-in")),Aa=!0):Aa=!1;d=Math.min(g,d);c=Math.min(l-20,c);f.css({"margin-top":(b-c)/2,"margin-left":(a-d)/2,height:c,width:d});e.css("visibility","visible");Ba=!1}function P(e){var a=h.find("#ivLargeImage");a.css("visibility","hidden");a.empty();r.animateStageIn(a);a.append(e);K()}function fa(){Q&&Q.pause();h.find("#ivLarge360").css("display","none");h.find("#ivLargeVideo").css("display","none");h.find("#ivLargeImage").css("display",
"none");E()}function V(e){fa();h.find("#ivLargeImage").css("display","block");var f;"hero-image"===e?a.isDefined(ja)&&(f=ra(ja[t.index])):a.isDefined(ka)&&(f=ra(ka[t.index]));if(a.isDefined(f)){h.find(".fullscreen").remove();var d=b("\x3cimg\x3e").attr("src",f).addClass("fullscreen"),c=h.find("#ivLargeImage");r.animateStageOut(c,function(){d.load(function(){P(d)});if(d[0].complete)P(d);else{c.empty();var e=(c.height()-104)/2,a=(c.width()-80)/2;b("\x3cimg\x3e").attr("src",n.staticImages.spinner).css({position:"relative",
top:e+"px",left:a+"px"}).appendTo(c)}})}}function L(){var e=parseInt(t.index,10)+1;e>=ha.length||h.find("#ivVideo_"+e).click()}function T(){var e;a.isDefined(ha)&&(e=ha[t.index]);if(a.isDefined(e)){fa();var b=h.find("#ivLargeVideo").css("display","block");Q?(Q.isDetached()&&Q.attach(b[0]),a.loadMediaIntoAiry(Q,e,ya,n.tabletWeb),Q.show()):(Q=a.createAiryInstanceForChromeful(b,e,ya,"ImmersiveView"),ya.enableContinuousPlay&&Q.bind("ended",L));Q.play({isAsync:!0})}}function H(){N();var e="hero-image"===
t.type?h.find("#ivHeroImage_"+t.index):"image"===t.type?h.find("#ivImage_"+t.index):"chromeful-video"===t.type||"chromeless-video"===t.type?h.find("#ivVideo_"+t.index):"360-spin"===t.type?h.find("#iv360"):a.isDefined(ja)?h.find("#ivHeroImage_"+t.index):h.find("#ivImage_"+t.index);a.isjQueryObjDefined(e)||(e=h.find("#ivImage_0"));m(e)}function m(e){h.find(".ivThumb").removeClass("selected");e.addClass("selected");e.hasClass("ivThumbVideo")?(t.type="chromeful-video",t.index=e.attr("id").split("_")[1],
T()):e.hasClass("ivHeroImage")?(t.type="hero-image",t.index=e.attr("id").split("_")[1],V(t.type)):e.hasClass("iv360Image")?(t.type="360-spin",t.index=0,g()):(t.type="image",t.index=e.attr("id").split("_")[1],V(t.type))}function g(){fa();h.find("#ivLarge360").css("display","block");v();var e=h.find("#ivLarge360");e.css({opacity:0});setTimeout(function(){e.css({opacity:.4});r.animateStageIn(e)},200);x();l.postCountMetric("dppc_click360");ua=Date.now()}function E(){0<ua&&(B("dppc_duration360",Date.now()-
ua),ua=0)}function B(e,a){C.ue&&C.ue.count(e,a)}function x(){if(0<sa){var e=h.find(".iv360Hint");e.removeClass("iv360HintFaded");e.animate({opacity:1},200)}}function F(e,a){if(sa<e.length){var f=b("\x3cimg /\x3e").css({display:"block",width:6*qa+"px",height:va+"px"});f.hide();a.append(f);f.get(0).onload=function(){a.closest(document.documentElement).length&&(sa++,1===sa&&(x(),0<ua&&B("dppc_loadTime360",Date.now()-ua)),0<Ia&&B("dppc_perSpriteloadTime360",Date.now()-Ia),h.find("#iv360Spinner").hide(),
f.show(),Ca=5*I.imageLocations[Math.floor(za/I.imageLocations[0].length)][za%I.imageLocations[0].length],F(e,a))};f.attr("src",e[sa].replace(/(\._SP)\d+(,)\d+/,"$1"+wa+"$2"+xa));Ia=Date.now()}}function y(e){if(a.isDefined(I.spriteWidthSizes)&&0<I.spriteWidthSizes.length){var b=I.spriteWidthSizes,f=b.length,d=b[0],c=b[f-1];if(e<=d)return d;if(e>c)return c;for(d=0;d<f;d++)if(e>b[d]&&e<=b[d+1])return b[d+1]}else return e}function v(){var a=h.find("#ivLarge360");a.children("#image-360-sprites").length||
(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",n.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),Ja=!0,k())}function k(){if(a.isDefined(I.spriteURLs)&&
a.isDefined(h)&&Ja&&!Ka){var e=h.find("#ivLarge360"),f=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});a.isDefined(I.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",I.staticImages.hint360).appendTo(f);b("\x3cdiv\x3e").css({"text-align":"center"}).text(n.staticStrings.dragToSpin).appendTo(f);f.appendTo(e);f=I.imageWidth;var c=I.imageHeight,k=e.parent().width(),l=e.parent().height(),
g=0,m=0;f/c>k/l?(wa=y(k),xa=Math.round(c/f*wa),qa=Math.ceil(k),va=Math.ceil(xa/wa*k),m=(l-va)/2):(xa=y(l),wa=Math.round(f/c*xa),va=Math.ceil(l),qa=Math.ceil(wa/xa*l),g=(k-qa)/2);e.css({"margin-left":g,"margin-top":m,width:qa+"px",height:va+"px",overflow:"hidden",position:"relative"});e.children("#image-360-sprites").css("width",6*qa+"px");F(I.spriteURLs,h.find("#image-360-sprites"),0);f=h.find("#ivLarge360");f.bind("mousedown",Z);f.bind("touchstart",w);f.bind("touchmove",d);f.bind("touchend",q);b(document).bind("mousemove",
p);b(document).bind("mouseup",z);a.isDefined(n.staticImages.grab)&&e.css("cursor","url('"+n.staticImages.grab+"'), auto");Ka=!0}}function w(a){Da=!0;La=a.originalEvent.targetTouches[0].clientX}function d(a){Da&&(S(a.originalEvent.targetTouches[0].clientX-La),La=a.originalEvent.targetTouches[0].clientX)}function q(a){Da&&(Da=!1)}function Z(e){Ea=!0;Ma=e.originalEvent.clientX;a.isDefined(n.staticImages.grabbing)&&(e=h.find("#ivLarge360"),e.css("cursor","url('"+n.staticImages.grabbing+"'), auto"),e.parents(".a-declarative").last().css("cursor",
"url('"+n.staticImages.grabbing+"'), auto"));return!1}function p(a){Ea&&(S(a.originalEvent.clientX-Ma),Ma=a.originalEvent.clientX)}function z(e){Ea&&(Ea=!1,a.isDefined(n.staticImages.grab)&&(e=h.find("#ivLarge360"),e.css("cursor","url('"+n.staticImages.grab+"'), auto"),e.parents(".a-declarative").last().css("cursor","auto")))}function S(e){for(e=Ca-=e/qa*180;0>e;)e+=360;for(;360<e;)e-=360;Ca=e;e=360;for(var f=0;f<sa;f++)for(var b=0;b<I.imageLocations[f].length;b++){var d=Math.abs(Ca-5*I.imageLocations[f][b]);
if(d<e){e=d;var c=f*I.imageLocations[0].length+b}}c!==za&&(e=Math.floor(c/I.imageLocations[0].length),e!==Math.floor(za/I.imageLocations[0].length)&&(a.isDefined(Na)||(Na=document.createElement("canvas").getContext("2d")),f=h.find("#image-360-sprites").children(),Na.drawImage(f[e],0,0)),e=h.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(e)&&(e.addClass("iv360HintFaded"),e.animate({opacity:0},750)));za=c;e=c%I.imageLocations[0].length*-1*qa;c=-1*Math.floor(c/I.imageLocations[0].length)*va;f=
h.find("#ivLarge360").children("#image-360-sprites");f.css("-webkit-transform","translate3d("+e+"px, "+c+"px, 0)");f.css("transform","translate3d("+e+"px, "+c+"px, 0)")}function J(){h.delegate(".ivThumb","click",function(){var a=b(this);m(a)});h.delegate(".ivThumbVideoListOuter","click",function(){h.find(".ivThumbVideoListOuter").removeClass("selected");var a=b(this);a.addClass("selected");t.type="chromeful-video";t.index=a.attr("id").split("_")[1];T()})}function ca(){Q&&!Q.isDetached()&&(ya.volume=
Q.getVolume(),Q.detach(),!document.all||C.atob||document.addEventListener||(Q=null));h.find("#ivLargeImage").empty();E()}function da(a,f){return 0<f?f/2:Math.min(0,Math.max(f,a))}function Y(a){var f=ta.left-(a.pageX-Fa[0])*Ga;c.capabilities.rtl&&(f=ta.left-(b(C).width()-a.pageX-Fa[0])*Ga);a=ta.top-(a.pageY-Fa[1])*Ga;f=da(f,Ha.left);a=da(a,Ha.top);h.find(".fullscreen").css({left:f,top:a})}function ma(){h.delegate("#ivLargeImage","click",function(a){if(Ba)K();else if(Aa){h.find(".fullscreen").removeAttr("style");
if(Aa){var f=h.find("#ivLargeImage"),b=f.find(".fullscreen");Ra?f.css("cursor","url('"+n.staticImages.zoomOut+"'), auto"):(f.css("cursor","-webkit-zoom-out"),f.css("cursor","-moz-zoom-out"),f.css("cursor","zoom-out"));Ba=!0;var e=h.find("#ivLargeImage");Ha.left=e.width()-b.width();Ha.top=e.height()-b.height();e=f.height()/2;var d=f.width()/2;Fa=[f.offset().left+d,f.offset().top+e];ta.top=e-b.height()/2;ta.left=d-b.width()/2;b.css({position:"relative",left:ta.left,top:ta.top});Ga=Math.max(b.height()/
f.height(),b.width()/f.width())}Y(a)}});h.delegate("#ivLargeImage","mousemove",function(a){Ba&&Y(a)})}function ea(e){if(a.isImmersiveViewEnabled(n,W.getCurrentItem().color))if(Oa){var d=e.$event.originalEvent;d.acknowledge&&d.acknowledge(e.$currentTarget[0]);Qa=a.isDefined(e)&&"button-360-click"===e.action;D.isEnabled&&u.logImmersiveViewRequestServed(D);l.postCountMetric("dppc_immersiveViewOpened");if(a.isDefined(ba))ba.show();else{e=b("#auiImmersiveViewDiv");d=b(C).height()-150;var k=b(C).width()-
75;ba=Oa.create(e,{name:"immersiveView",activate:"onclick",width:k,height:d,popoverLabel:"ImmersiveView",hideHeader:!0});e.click()}if(Pa){h=b("#ivMain");e=W.getCurrentItem().color;ka=n.colorImages[e];ja=n.heroImage[e];ha=n.useChildVideos?n.colorToVideo[e]:n.videos;Sa=U()&&n.spin360ColorEnabled[e];I=U()?n.spin360ColorData[e]:pa;N();oa=M=f=X=0;a.isDefined(ja)&&(M=ja.length);a.isDefined(ka)&&(X=ka.length);a.isDefined(ha)&&(f=ha.length);Sa&&(oa=1);r.populateTitle(h.find("#ivTitle"),45,n);r.populateVariationSelection(h.find("#ivVariationSelection"));
e=h.find("#ivMediaSelect");0===X+oa||0===f?(e.parent().hide(),h.find("#ivThumbs").addClass("noMediaSelection")):(e.empty(),b("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(n.staticStrings.allMedia+" ("+(M+X+oa+f)+")").appendTo(e),b("\x3coption/\x3e").attr("value","images").text(n.staticStrings.images+" ("+(M+X+oa)+")").appendTo(e),b("\x3coption/\x3e").attr("value","videos").text(n.staticStrings.videos+" ("+f+")").appendTo(e),e.parent().show(),e.val("all"));e=h.find("#ivThumbs");e.find(".ivRow").not(".placeholder").remove();
d=M+X+f+oa;for(var g=k=0;k<d;)for(var m=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),w=0;3>w&&k<d;w++,k++,g++)if(g<M){var t=ja[k].thumb,q=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+k).appendTo(m);q.find(".ivThumbImage").css("background",'url("'+r.getResizedThumbnailURL(t)+'") center no-repeat')}else if(g>=M&&g<X+M)t=ka[k-M].thumb,q=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(k-M)).appendTo(m),q.find(".ivThumbImage").css("background",'url("'+r.getResizedThumbnailURL(t)+'") center no-repeat');else if(g>=M+X&&g<X+M+oa)q=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(m),q.find(".ivThumbImage").css("background",'url("'+(a.isDefined(n.staticImages.icon360)?r.getResizedThumbnailURL(n.staticImages.icon360,!0):"")+'") center no-repeat');else if(t=ha[k-X-M-oa],q=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id",
"ivVideo_"+(k-X-M-oa)).appendTo(m),q.find(".ivThumbImage").css("background",'url("'+t.thumbUrl+'") center no-repeat'),a.isDefined(t)){var Q={position:"triggerTop"},p=h.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");p.find(".ivVideoPopoverTitle").text(t.title);p.find(".ivVideoPopoverDuration").text(t.durationTimestamp);Q.inlineContent=p[0];c.declarative.create(q,"a-tooltip",Q)}e=h.find("#ivVideoList");e.find(".ivThumbVideoListOuter").not(".placeholder").remove();
d=e.find(".placeholder");for(k=0;k<f;k++)g=ha[k],m=d.clone().removeClass("placeholder").appendTo(e),m.attr("id","ivVideoList_"+k),m.find(".ivThumbImage").css("background",'url("'+g.thumbUrl+'") center no-repeat'),m.find(".ivThumbTitle").text(g.title),m.find(".ivThumbDuration").text(g.durationTimestamp);h.find("#ivLarge360").empty();sa=0;Ka=Ja=!1;ya=n.airyConfig;Pa=!1;Ta()}}else C.performance&&performance.now&&C.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||
0)+1);else l.postCountMetric("immersiveViewNotExistsClickCount")}function na(f){var b=n.colorToAsin[f],d={},e=500;if(b&&b.asin){d.params={asin:b.asin};var c="360"+b.asin,g=Date.now();d.success=function(b){B("dppc_asyncRequestTime360",Date.now()-g);b&&a.isDefined(b.spin360.spin360Model)?(a.ajaxState(c,"success"),n.spin360ColorData[f]=b.spin360.spin360Model,f===W.getCurrentItem().color&&(I=n.spin360ColorData[f],k())):d.error()};d.error=function(){l.postCountMetric("dppc_asyncFailed360");B("dppc_asyncRequestTime360",
Date.now()-g);e*=2;16E3>=e?setTimeout(function(){g=Date.now();G.load("/gp/product/features/apparel-main-image/360.html",d)},e):a.ajaxState(c,"fail")};a.ajaxState(c)&&"fail"!==a.ajaxState(c)||(G.load("/gp/product/features/apparel-main-image/360.html",d),a.ajaxState(c,"sent"))}}function U(){return a.isDefined(n.spin360ConfigEnabled)&&n.spin360ConfigEnabled}var aa,n,W,la,ba,h,ja,ka,ha,M,X,f,oa,t,Q,ya,I,Sa,qa,va,xa,wa,Ma,La,Qa=!1,Ja=!1,Ka=!1,Ca=0,za=0,ua=0,Ia=0,Ea=!1,Da=!1,sa=0,Na,Ra=navigator.userAgent.match(/msie|trident/i),
Pa=!0,Ba=!1,Aa=!1,Ha={},ta={},Ga,Fa,Oa;A.when("a-modal").execute(function(a){Oa=a});var Ta=c.once(function(){O();J();ma();c.on("a:popover:afterUpdatePosition:immersiveView",R);c.on("a:popover:afterShow:immersiveView",H);c.on("a:popover:afterHide:immersiveView",ca);ia()});return function(f,d,k,g){aa=this;n=f;W=d;D.refToModel=W;la=g;U()&&(n.spin360ColorData[n.landingAsinColor]=n.spin360ColorData[n.defaultColor],n.spin360ColorEnabled[n.landingAsinColor]=n.spin360ColorEnabled[n.defaultColor]);a.isDefined(n.staticImages.icon360)&&
b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",r.addStyleCodeToURL(n.staticImages.icon360,"_FMpng_RI_"));aa.render=function(f,b,d,e,k,g){Pa=!0;U()&&n.spin360ColorEnabled[f]&&!a.isDefined(n.spin360ColorData[f])&&(n.spin360ColorData[f]={},na(f));a.isImmersiveViewEnabled(n,W.getCurrentItem().color)&&U()&&n.spin360ColorEnabled[f]&&(b===n.maxAlts&&(f=e.find(".item.imageThumbnail"),d=e.find(".item.videoThumbnail"),a.isDefined(d)&&1<d.length?d.last().remove():f.last().remove(),
b--),f=e.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),c.declarative.create(f,"button-360-click"),e.append(f),b++,l.postCountMetric("dppc_display360"));return b};aa.update=function(a){};a.isImmersiveViewEnabled(n,W.getCurrentItem().color)||a.addTag("immersiveViewNotAvailable");la.register("imageClick",ea);la.register("button360Click",ea)}});"use strict";A.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric",
"imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(c,b,a,G,l,D,u,r,C){function A(){var a=b("#iv360Tab").height();p.css("height",a);var d=p.find("#ivTitle360").outerHeight(!0),c=p.find("#ivVariationSelection360").outerHeight(!0),k=p.find("#ivThumbs360"),g=u.getDimension(k,"margin-top")+u.getDimension(k,"margin-bottom");k.css("height",a-d-c-g);a=p.find("#ivStage360");d=p[0]&&p[0].getBoundingClientRect&&Math.floor(p[0].getBoundingClientRect().width)||
p.width();a.css("width",d-u.getDimension(p,"padding-left")-u.getDimension(p,"padding-right")-p.find("#ivThumbColumn360").width()-u.getDimension(a,"margin-left")-u.getDimension(a,"margin-right"))}function N(){P();var a=p.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});u.animateStageIn(a)},200);R()}function R(){if(0<h){var a=p.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function O(a,c){if(h<a.length){var f=b("\x3cimg /\x3e").css({display:"block",
width:6*S+"px",height:J+"px"});f.hide();c.append(f);f.get(0).onload=function(){c.closest(document.documentElement).length&&(h++,1===h&&(R(),0<n&&(l.time("dppc_loadTime360",Date.now()-n,d.mediaAsin),D.postTimeMetric("dppc_loadTime360",Date.now()-n))),0<W&&(l.time("dppc_perSpriteloadTime360",Date.now()-W,d.mediaAsin),D.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-W)),p.find("#iv360Spinner").hide(),f.show(),U=5*z.imageLocations[Math.floor(aa/z.imageLocations[0].length)][aa%z.imageLocations[0].length],
O(a,c))};f.attr("src",a[h].replace(/(\._SP)\d+(,)\d+/,"$1"+da+"$2"+ca));W=Date.now()}}function K(f){if(a.isDefined(z.spriteWidthSizes)&&0<z.spriteWidthSizes.length){var b=z.spriteWidthSizes,d=b.length,c=b[0],k=b[d-1];if(f<=c)return c;if(f>k)return k;for(c=0;c<d;c++)if(f>b[c]&&f<=b[c+1])return b[c+1]}else return f}function P(){var a=p.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),
height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",d.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),ea=!0,ra())}function ra(){if(a.isDefined(z.spriteURLs)&&a.isDefined(p)&&ea&&!na){var f=p.find("#ivLarge360"),c=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});a.isDefined(z.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",z.staticImages.hint360).appendTo(c);b("\x3cdiv\x3e").css({"text-align":"center"}).text(d.staticStrings.dragToSpin).appendTo(c);c.appendTo(f);c=z.imageWidth;var k=z.imageHeight,h=f.parent().width(),l=f.parent().height(),w=0,q=0;c/k>h/l?(da=K(h),ca=Math.round(k/c*da),S=Math.ceil(h),J=Math.ceil(ca/da*h),q=(l-J)/2):(ca=K(l),
da=Math.round(c/k*ca),J=Math.ceil(l),S=Math.ceil(da/ca*l),w=(h-S)/2);f.css({"margin-left":w,"margin-top":q,width:S+"px",height:J+"px",overflow:"hidden",position:"relative"});f.children("#image-360-sprites").css("width",6*S+"px");O(z.spriteURLs,p.find("#image-360-sprites"),0);c=p.find("#ivLarge360");c.bind("mousedown",H);c.bind("touchstart",V);c.bind("touchmove",L);c.bind("touchend",T);b(document).bind("mousemove",m);b(document).bind("mouseup",g);a.isDefined(d.staticImages.grab)&&f.css("cursor","url('"+
d.staticImages.grab+"'), auto");na=!0}}function V(a){ba=!0;ma=a.originalEvent.targetTouches[0].clientX}function L(a){ba&&(E(a.originalEvent.targetTouches[0].clientX-ma),ma=a.originalEvent.targetTouches[0].clientX)}function T(a){ba&&(ba=!1)}function H(b){la=!0;Y=b.originalEvent.clientX;a.isDefined(d.staticImages.grabbing)&&(b=p.find("#ivLarge360"),b.css("cursor","url('"+d.staticImages.grabbing+"'), auto"),b.parents(".a-declarative").last().css("cursor","url('"+d.staticImages.grabbing+"'), auto"));
return!1}function m(a){la&&(E(a.originalEvent.clientX-Y),Y=a.originalEvent.clientX)}function g(b){la&&(la=!1,a.isDefined(d.staticImages.grab)&&(b=p.find("#ivLarge360"),b.css("cursor","url('"+d.staticImages.grab+"'), auto"),b.parents(".a-declarative").last().css("cursor","auto")))}function E(b){U-=b/S*180;ka&&(l.count("dppc_360dragToSpin",d.mediaAsin),D.postCountMetric("dppc_360dragToSpin"));ka=!1;for(b=U;0>b;)b+=360;for(;360<b;)b-=360;U=b;b=360;for(var c=0;c<h;c++)for(var f=0;f<z.imageLocations[c].length;f++){var k=
Math.abs(U-5*z.imageLocations[c][f]);if(k<b){b=k;var g=c*z.imageLocations[0].length+f}}g!==aa&&(b=Math.floor(g/z.imageLocations[0].length),b!==Math.floor(aa/z.imageLocations[0].length)&&(a.isDefined(ja)||(ja=document.createElement("canvas").getContext("2d")),c=p.find("#image-360-sprites").children(),ja.drawImage(c[b],0,0)),b=p.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(b)&&(b.addClass("iv360HintFaded"),b.animate({opacity:0},750)));aa=g;b=g%z.imageLocations[0].length*-1*S;g=-1*Math.floor(g/
z.imageLocations[0].length)*J;c=p.find("#ivLarge360").children("#image-360-sprites");c.css("-webkit-transform","translate3d("+b+"px, "+g+"px, 0)");c.css("transform","translate3d("+b+"px, "+g+"px, 0)")}function B(){if(M){p=b("#ivMain360");var a=q.getCurrentItem().color;F()&&y(a);z=F()?d.spin360ColorData[a]:pa;u.populateTitle(p.find("#ivTitle360"),160,d);u.populateVariationSelection(p.find("#ivVariationSelection360"));p.find("#ivLarge360").empty();h=0;na=ea=!1;aa=U=0;X();M=!1}0!==b("#iv360Tab").height()&&
(u.detachImmersiveViewResizeHandler(B),A(),N(),n=Date.now(),ha=ka=!0,l.count("dppc_click360",d.mediaAsin),D.postCountMetric("dppc_click360"))}function x(b,c,k){b=d.colorToAsin[k];var f={},g=500;if(!b||!b.asin)if(k===d.defaultColor)b={asin:d.winningAsin};else return;f.params={asin:b.asin};var h="360"+b.asin,m=Date.now();f.success=function(b){l.time("dppc_asyncRequestTime360",Date.now()-m,d.mediaAsin);D.postTimeMetric("dppc_asyncRequestTime360",Date.now()-m);b&&a.isDefined(b.spin360)?((b=b.spin360.spin360Model)&&
r.setData(b),a.ajaxState(h,"success")):f.error()};f.error=function(){l.count("dppc_asyncFailedTransient360",d.mediaAsin);D.postCountMetric("dppc_asyncFailedTransient360");l.time("dppc_asyncRequestTime360",Date.now()-m,d.mediaAsin);D.postTimeMetric("dppc_asyncRequestTime360",Date.now()-m);g*=2;16E3>=g?setTimeout(function(){m=Date.now();G.load("/gp/product/features/apparel-main-image/360.html",f)},g):(l.count("dppc_asyncFailed360",d.mediaAsin),D.postCountMetric("dppc_asyncFailed360"),a.ajaxState(h,
"fail"))};a.ajaxState(h)&&"fail"!==a.ajaxState(h)||(G.load("/gp/product/features/apparel-main-image/360.html",f),a.ajaxState(h,"sent"))}function F(){return d&&a.isDefined(d.spin360ConfigEnabled)&&d.spin360ConfigEnabled}function y(b){return a.isDefinedAndNotEmpty(d.spin360ColorData[b])?!0:a.isDefined(d.spin360LazyLoadEnabled)&&d.spin360LazyLoadEnabled}function v(){ha&&(l.time("dppc_duration360",Date.now()-n,d.mediaAsin),D.postTimeMetric("dppc_duration360",Date.now()-n),ha=!1)}function k(a){a=d.colorToAsin[a.color]&&
d.colorToAsin[a.color].asin;a||(a=d.mediaAsin);return a}var w,d,q,Z,p,z,S,J,ca,da,Y,ma,ea=!1,na=!1,U=0,aa=0,n=0,W=0,la=!1,ba=!1,h=0,ja,ka=!0,ha=!1,M=!0,X=c.once(function(){u.attachImmersiveViewResizeHandler(B);u.attachImmersiveViewResizeHandler(A);u.attachImmersiveViewResetHandler(v);u.attachTabDeselectHandler("iv360Tab",v)});return function(f,g,h,m){w=this;d=f;q=g;Z=m;f=d.landingAsinColor;g=d.defaultColor;a.isDefined(d.staticImages.icon360)&&b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
u.addStyleCodeToURL(d.staticImages.icon360,"_FMpng_RI_"));F()&&(d.spin360ColorData||(d.spin360ColorData={}),f===g&&a.isDefinedAndEmpty(d.spin360ColorData[g])&&delete d.spin360ColorData[g]);c.on(C.TWISTER_DATA_EVENT,function(a){k(q.getCurrentItem())===a&&(z=r.getData(a),ra(),a={type:"updatedData",data:q.getCurrentItem()},Z.dispatch("updateView",a))});w.render=function(f,g,h,m,w,n){M=!0;!F()||a.isDefinedAndEmpty(d.spin360ColorData[f])&&!r.getData(k(q.getCurrentItem()))?u.hideTabHeading("iv360TabHeading"):
(d.spin360ColorData[f]=r.getData(k(q.getCurrentItem())),a.isDefinedAndNotEmpty(d.spin360ColorData[f])?(b("#ivThumbs360").hide(),u.unhideTabHeading("iv360TabHeading"),a.isImmersiveViewEnabled(d,q.getCurrentItem().color)&&F()&&y(f)&&(g===d.maxAlts&&(f=m.find(".item.imageThumbnail"),g=m.find(".item.videoThumbnail"),a.isDefined(g)&&1<g.length?g.last().remove():f.last().remove()),f=m.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),c.declarative.create(f,
"button-360-click"),m.append(f),l.count("dppc_display360",d.mediaAsin),D.postCountMetric("dppc_display360"))):a.isDefined(d.spin360LazyLoadEnabled)&&d.spin360LazyLoadEnabled?(d.spin360ColorData[f]={},u.hideTabHeading("iv360TabHeading"),x(m,g,f)):u.hideTabHeading("iv360TabHeading"))};w.update=function(a){};u.attachTabSelectHandler("iv360Tab",B)}});A.register("nexusLogger360",function(){return{count:function(c,b){C.ue&&C.ue.event({asin:b,metricName:c,metricValue:1},"hit-360","hit360.clientEvent.3")},
time:function(c,b,a){C.ue&&C.ue.event({asin:a,metricName:c,metricValue:b},"hit-360","hit360.clientEvent.3")}}});A.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});A.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(c,b){var a={};return{setData:function(G){var l=G.asin;a[l]||(a[l]=G,c.trigger(b.TWISTER_DATA_EVENT,l))},getData:function(b){return a[b]}}});"use strict";A.when("postMetric").register("ImageBlockImmersiveViewShowroom",
function(c){function b(){this.render=function(){};this.update=function(){}}return function(a,C,l,D){var u=!1,r=new b;A.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(b){b!==pa&&(u=!0,r=new b(a,C,l,D))});a&&!0===a.showroomEnabled&&!1===u&&c.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return r}});"use strict";A.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",
function(c,b,a,A,l,D,u){function r(){x.delegate(".ivThumb","click",function(){var a=b(this);x.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")&&(F.type="chromeful-video",F.index=a.attr("id").split("_")[1])})}function G(){if(ea){var a=b("#ivVideosTab").height();x.css("height",a);var c=x.find(".vse-lb-container");y=a-l.getDimension(c,"padding-top")-l.getDimension(c,"padding-bottom");c.css({"max-height":a,overflow:"hidden"});if(ca){x.css({"max-width":Math.floor(1.77*
y)});return}a=x.find(".vse-player-container");c=x.find(".vse-video-action-strip");var d=x.find(".vse-lb-video-metadata"),k=Math.floor(y-l.getDimension(d,"height")-l.getDimension(c,"height")),g=Math.floor(1.77*k);a.css({"max-height":k,"max-width":g,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":g,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":g,marginLeft:"auto",marginRight:"auto"})}da&&(a=x.find(".vse-vertical-scroll"),c=l.getDimension(a,"margin-top")+l.getDimension(a,"margin-bottom"),
a.css("max-height",y-c))}function ia(){N();v&&v.pause();Y=!1;S=!0;q=null;ma=!0;ea=!1}function N(){Y=!1;v&&v.pause()}function R(d){q=d.clickTimeStamp?d.clickTimeStamp:c.now();a.isDefined(B)&&(B.eventTimestamp=q);Y=!0;J&&(u.get(c,"#ivVideoBlock",E,ba,h),x=b("#ivVideoBlock"),g.getCurrentItem(),F=g.getCurrentItem(),n(),L());G();J=!1;P()}function O(a){J&&(x=b("#ivVideoBlock"),g.getCurrentItem(),F=g.getCurrentItem(),n());Y&&P();G()}function K(a){v=a.player;A.postTimeMetric("vse_ib_desktop_player_initialisation_duration",
c.now()-aa);m.imageBlockRenderingStartTime&&A.postTimeMetric("vse_ib_desktop_time_to_player_interactive",c.now()-m.imageBlockRenderingStartTime);ea&&(L(),P())}function P(){if(v&&Y&&(x.find(".vse-lb-container").animate({opacity:1},200),v.play(B),A.postCountMetric("dpcc_vse_videoBlock_video_played"),S)){var a=C.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,A.postTimeMetric("dpcc_vse_vitff",a),S=!1)}}function fa(){c.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function V(a){k=
a.popover.$popover;ea=!0;L()}function L(){if(ea&&ma&&Y&&v){k.addClass(c.$(k).find(".vse-lb-container").data("cssClass"));var a=B;na&&(a=U,na=!1);c.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});G();ma=!1}}function T(a){document.getElementsByClassName("videoBlockIngress")[0].click();U=a;na=!0}var H,m,g,E,B,x,F,y,v,k,w,d,q,Z,p,z,S=!0,J=!0,ca=!1,da=!1,Y=!1,ma=!0,ea=!1,na=!1,U,aa=0,n=c.once(function(){r();l.attachImmersiveViewResizeHandler(O);l.attachTabDeselectHandler("ivVideosTab",
N);l.attachImmersiveViewResetHandler(ia)}),W=function(c,d,k){b("#ivVideoBlockSpinner").addClass("aok-hidden");A.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+d.placement);c=g.getCurrentItem().color;c=a.getVideoHash(c,0,m);v||(v=a.createAiryInstanceForChromeful(b("#ivVideoBlock"),c,m.airyConfig,"ImmersiveView"));ca=!0;b("#ivVideoBlock").css({"max-width":1.77*y,margin:"0 auto"});Y&&ca&&v.play({isAsync:!0})},la=function(a,c,d){J||u.get(a,"#ivVideoBlock",E,ba,h);b("#ivVideoBlockSpinner").addClass("aok-hidden")},
ba=function(a,b,c){da=!0;G()},h=function(a,b,c){A.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(b,k,h,n){H=this;m=b;g=k;H.render=function(b,f,k,h,n,r){b=g.getCurrentItem().color;f=a.getVideoHash(b,0,m);!0===r?w=m.mediaAsin:(w=m.colorToAsin[b]&&m.colorToAsin[b].asin,w=a.isDefined(w)?w:m.mediaAsin);d=!0===m.useVSEVideos?"VIDEO_ID":"physicalID";Z=m.contentWeblab;p=m.contentWeblabTreatment;z=m.parentAsin||"";J=!0;-1===f?l.hideTabHeading("ivVideosTabHeading"):
(l.unhideTabHeading("ivVideosTabHeading"),E={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:f.marketPlaceID,locale:f.languageCode,product:{contentID:w,contentIDType:"ASIN",parentContentID:z,parentContentIDType:"ASIN"},video:{contentID:f.mediaObjectId,contentIDType:d,videoURL:f.url,imageURL:f.slateUrl,rankingStrategy:f.rankingStrategy},requestId:m.dpRequestId,weblabContext:[{name:Z,assignment:p,ignoreForG2S2Key:!0}],metadata:{ProductTitle:m.title}},B={videoUrl:E.video.videoURL,
contentId:E.video.contentID,duration:0,vendorCode:"",eventTimestamp:a.isDefined(q)?q:c.now(),imageUrl:E.video.imageURL,productAsin:E.product.contentID,rankingStrategy:E.video.rankingStrategy,index:0},a.isDefinedAndNotEmpty(v)&&(v.destroy(),v=null),aa=c.now(),D.get(c,"#ivVideoBlock",E,la,W))};H.update=function(a){};l.attachTabSelectHandler("ivVideosTab",R);c.on("vsePlayer-detailpage-imageblock",K);c.on("a:popover:afterShow:immersiveView",V);c.on("a:popover:beforeHide:immersiveView",fa);c.on("detailpage-imageblock-leave-pip",
T)}});"use strict";A.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockShoppableSceneImmersiveView",function(c,b,a,C,l){function D(a,c){if(a){B=m.getCurrentItem();0==Object.entries(v).length&&u();var d=B.shoppableScene;d==pa?(a=L(Object.values(v)[0]),d=Object.values(v)[0].shoppableScene):a=L(E[B.index]);y=d.physicalId;var k=b(".shoppable-scene-image-block-placeholder-in-iv");if(0<k.length){var l=b("\x3cimg\x3e");l.attr("id","shoppableSceneIvImage");
l.attr("src",a);l.css({"max-height":"500px","max-width":"650px"});k.replaceWith(l);a=r(d);d=b(".shoppable-scene-image-block-tags-in-iv");d.empty();a.appendTo(d)}else g.hide(),K();ia();a=B.shoppableScene?B.shoppableScene:Object.values(v)[0].shoppableScene;N(a);P(c,x,null,y)}}function u(){E=H.colorImages[B.color];x=H.colorToAsin[B.color].asin;E.forEach(function(a){a.shoppableScene!=pa&&(v[a.shoppableScene.physicalId]=a)})}function r(a){var k=b("\x3cspan\x3e");c.each(a.tags,function(d){var g=b("\x3cdiv\x3e").css({position:"absolute",
left:100*d.left+"%",top:100*d.top+"%",height:"auto",width:"auto"});g.append(G(!1));g.append(G(!0));c.declarative.create(g,"scenes-show-details-tags-ib-iv-click",{tagId:d.link,physicalId:a.physicalId});k.append(g)});return k.children()}function G(a){var c=b("\x3cimg src\x3d'"+(a?H.staticImages.shoppableSceneDotHighlighted:H.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");c.css({display:a?"none":"inline-block"});c.addClass("mirai-scene-tag-in-iv").addClass(a?"active-tag":"inactive-tag");return c}
function ia(){var a=b(".ivBottomThumbImagesShoppableScene");a.empty();Object.keys(v).forEach(function(g){var d=v[g],k=b("\x3cimg\x3e");d=L(d);k.attr("id","shoppable-scene-thumbnail-"+g);k.attr("src",d);k.addClass("shoppable-scene-thumbnail");c.declarative.create(k,"scenes-thumbnail-ib-iv-click",{physicalId:g});k.appendTo(a)})}function N(a){V();A.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-render",function(){c.trigger("mirai:scene-immersive-recommendation-col-init",
{scene:a})})}function R(a,b){V();A.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){c.trigger("mirai:scene-immersive-recommendation-col-update",{tagId:a,physicalId:b})})}function O(){var a=v[y].shoppableScene,c=b(".shoppable-scene-image-block-tags-in-iv");c.hide();a=r(a);c.empty();a.appendTo(c);c.show();g.show()}function K(){var a=L(v[y]),c=b("#shoppableSceneIvImage");c.bind("load",O);c.attr("src",a)}function P(a,b,d,g){var k="shoppable-scene-dp-iv:mirai:"+
a;A.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){c.trigger("mirai:scene-immersive-publish-metric",{nexusTargetName:a,csmCounterName:k,asin:b,tagId:d,physicalId:g})})}function fa(){var a=b(".shoppable-scene-image-block-tags-in-iv").find(".mirai-scene-tag-in-iv");a.removeClass("mirai-scene-dot-pulsate").addClass("mirai-scene-dot-pulsate");c.delay(function(){a.removeClass("mirai-scene-dot-pulsate")},3600)}function V(){var a=b("#shoppable-scene-iv-recommendation-waiting-spinner");
0<a.length&&a.remove();a=b("#shoppableSceneRecommendationColumn");b(".shoppable-scene-recommendation-iv").hide();var c=b("\x3cimg\x3e");c.attr("id","shoppable-scene-iv-recommendation-waiting-spinner");c.attr("src",H.staticImages.spinner);c.css({position:"relative"}).appendTo(a)}function L(a){return a.hiRes||a.large||a.main[a.main.length-1]}var T=void 0,H=void 0,m=void 0,g=void 0,E=void 0,B=void 0,x=void 0,F=void 0,y=void 0,v={};c.declarative("shoppable-scene-image-click","click",function(a){D(!0,
"IMAGE_BLOCK_SHOPPABLE_SCENE")});c.declarative("scenes-show-details-tags-ib-iv-click","click",function(a){var b=a.$currentTarget;if(null!=F){var c=F.find(".active-tag"),g=F.find(".inactive-tag");c.css({display:"none"});g.css({display:"inline-block"})}c=b.find(".active-tag");g=b.find(".inactive-tag");c.css({display:"inline-block"});c.addClass("mirai-scene-dot-pulsate");g.css({display:"none"});F=b;fa();R(a.data.tagId,a.data.physicalId);P("IMMERSIVE_VIEW_PRODUCT_TAG",x,a.data.tagId,a.data.physicalId)});
c.declarative("scenes-thumbnail-ib-iv-click","click",function(a){y=a.data.physicalId;K();N(v[y].shoppableScene)});return function(a,c,d,l){T=this;H=a;m=c;g=b("#ivMainShoppableScene");T.render=function(a,b,c,d,g,k){};T.update=function(a){};(a=document.getElementById("ivShoppableSceneHeading"))&&a.addEventListener("click",function(a){a=m.getCurrentItem();D(null==B||B.index!=a.index,"IMMERSIVE_VIEW_TAB")})}})});
/* ******** */
(function(e){var f=window.AmazonUIPageJS||window.P,l=f._namespace||f.attributeErrors,a=l?l("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):f;a.guardFatal?a.guardFatal(e)(a,window):a.execute(function(){e(a,window)})})(function(e,f,l){e.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,b){try{var c=a.$,d=c("#featurebullets_feature_div"),k=c("#productOverview_feature_div");if(d&&0<d.length&&(b.postCountMetric("FeatureBulletsRendered.GV"),k&&
0<k.length)){b.postCountMetric("FeatureBulletsRenderedWithPO.GV");var g=c("#featurebullets_feature_div .a-expander-container");g&&0<g.length&&"feature-bullets-expander"===g.data("aExpanderName")&&(b.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){b.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){b.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(m){e.log("Feature bullets metric logging failed with error: ( "+
m+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";e.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,b,c,d,k){var g=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=c.colorImages,b=0,h;for(h in a)a[h]&&a[h].length&&(b+=a[h].length);a="image_size_bucket:gt"+g[g.length-1];for(h=1;h<g.length;h++)if(b<=g[h]){a="image_size_bucket:"+g[h-1]+"-"+g[h];break}k.postCountMetric(a);d.addTag(a)})();(function(){var a=b.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,f.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=c.lazyLoadExperienceDisabled;d.isDefined(c.lazyLoadExperienceDisabled)&&!a&&(k.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),d.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";e.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});e.register("postEarlyMetric",function(){return null});"use strict";e.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var b=f.ue;if(b){var c=b.count(a)||0;b.count(a,c+1)}}},postTimeMetric:function(a,b){if("undefined"!==typeof a&&"undefined"!==typeof b){var c=f.ue;c&&c.count(a,b)}},emitNexusMetric:function(a){f.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.5",{ssd:!1})},buildNexusMetric:function(a,b,c,d,k,g,e,f,h){return{eventSource:"IBCarousel",placementContext:h,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:b,videoAsin:c,videoAsinList:"",
rankingStrategy:d,groupType:k,pageUrl:g,pageAsin:e,weblabIds:f}}}});"use strict";e.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,b,c){var d=a.state("desktop-landing-image-data");d&&(d=a.values(d),b=b.getResourceTimeByName("img",d),a.each(b,function(a){a&&(a.responseEnd!=l&&c.postCountMetric("ibDesktopLandingImageDownloadTime",f.parseInt(a.responseEnd)),a.transferSize!=l&&(0===a.transferSize?c.postCountMetric("ibDesktopLandingImageCached",1):(c.postCountMetric("ibDesktopLandingImageSizeInBytes",
f.parseInt(a.transferSize)),c.postCountMetric("ibDesktopLandingImageNotCached",1))))}))})});
/* ******** */
(function(l){var g=window.AmazonUIPageJS||window.P,r=g._namespace||g.attributeErrors,e=r?r("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):g;e.guardFatal?e.guardFatal(l)(e,window):e.execute(function(){l(e,window)})})(function(l,g,r){l.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(e){function f(d){d&&(l.load.js(d),g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",g.parseInt(performance.now())))}function k(d){d&&l.load.css(d)}
var d=e.airyConfig;d===r?l.when("ImageBlockBTF").execute(function(e){d=e.airyConfig;f(d.jsUrl);k(d.cssUrl)}):(f(d.jsUrl),k(d.cssUrl))});"use strict";l.when("A","jQuery").execute(function(e,f){e.on("a:image:load:landingImage",function(){g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});e.loadDynamicImage(f("#landingImage"))});"use strict";l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(e,f){function k(a,c){if(c.repositionHeroImage){c=
a[1];a=a[0];if(768>=(g.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,a*=.7;else{var b=Math.max(Math.min(((g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,1),0);c*=.7+.3*b;a*=.7+.3*b}b=[c,a]}return b}function d(a,c,b){if(b.repositionHeroImage){var d=g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;b=b.heroFocalPoint;if(f.isDefined(b)){var e=Math.max((d-Math.min(1500,a))/2,0);var k=Math.max((d-
a)/2,0);d=Math.max(Math.min(d,1500),1024);e=e-k+(d-420-23)/2-a/c[1]*b}}return e}function h(a,c,b){a=a.heroImage;return!(f.isDefined(a)&&f.isDefined(a[c])&&f.isDefined(a[c][b])&&f.isDefined(a[c][b].main))||1>e.map(a[c][b].main,function(a,b){return b}).length?-1:a[c][b]}return{getHeroImageHash:h,getHeroDimParams:function(a,c,b){if(a.repositionHeroImage){if(!f.isDefined(b)){b=h(a,c.color,c.index);if(-1===b)return;c=e.map(b.main,function(a,b){return b})[0];b=b.main[c]}c=k(b,a);a=d(c[0],b,a);return{height:c[1],
width:c[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(e,f,k){function d(a,c){var b=e.copy(a);if(k.isDefined(a)&&a.length>c){try{for(var d=-1,h=0;h<a.length;h++){var f=a.charAt(h);if(" "===f||"."===f||"?"===f||";"===f||","===f||":"===f)d=h;if(h===c-4){b=a.substring(0,-1===d?h:d);break}}}catch(m){b=a.substring(0,c-3)}b+="..."}return b}function h(a,c){var b=a.lastIndexOf(".");return a="_"===a.charAt(b-1)?a.substring(0,b-1)+
c+a.substring(b):a.substring(0,b)+"."+c+a.substring(b)}return{getDimension:function(a,c){a=parseInt(a.css(c),10);return isNaN(a)?0:a},attachTabSelectHandler:function(a,c){e.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){e.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){e.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){e.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){e.on("a:popover:afterHide:immersiveView",
a)},hideTabHeading:function(a){f("#"+a).hide()},unhideTabHeading:function(a){f("#"+a).show()},addStyleCodeToURL:h,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";c&&(b+="FMpng_RI_");return h(a,b)},populateVariationSelection:function(a){if(k.isDefined(g.DetailPage)&&k.isDefined(g.DetailPage.StateController)){a.empty();
var c=g.DetailPage.StateController.getState(),b=c.variation_label_order,d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d],h=c.selected_variations[e];e=c.variation_display_labels[e];h&&f("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+h).appendTo(a)}}},populateTitle:function(a,c,b){a.html(b.title);a.attr("title",a.text());a.html(d(b.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},100,c)},logError:function(a,c,b,d){g.ueLogError&&
g.ueLogError(d,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(e){return{load:function(f,k){k=k||{};k.timeout=k.timeout||4E3;e.ajax(f,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(e,f){l.register("vse_ns_preLoaderHook",function(){function k(d,h){try{var a=d.A,c=d.block,b=d.request,g=d.handleFailure,l=d.handleSuccess,p=a.$;h--;var m=3-h-1,n=a.now();a.ajax("/vap/ew/componentbuilder",
{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(d){var h=a.now()-n;e.postTimeMetric("vse_preLoaderHook:success:",h);e.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+m);p(c).html(d);l(a,b,d)},error:function(c){e.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+m);(0===c.http.status||500<=c.http.status&&599>=c.http.status)&&0<h?k(d,h):(e.postCountMetric("vse_preLoaderHook:error:",
1),g(a,b,c))}})}catch(q){f.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(d,e,a,c,b){k({A:d,block:e,request:a,handleFailure:b,handleSuccess:c},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(d,h,a){try{var c=d.A,b=d.context,g=d.handleFailure,l=d.handleSuccess;h.attr("data-configuration");var p=atob(h.attr("data-configuration")),m=JSON.parse(p),n={pageContext:b,configuration:m},q=c.now();a--;var t=3-a-1;c.ajax("/vap/ew/subcomponent/"+m.type,{params:n,
paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var d=c.now()-q;e.postTimeMetric("vse_lazyLoaderHook:success:",d);e.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+m.type+":"+t);h.html(a);l(c,n,a)},error:function(f){e.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+m.type+":"+t);(0===f.http.status||500<=f.http.status&&599>=f.http.status)&&0<a?k(d,h,a):(e.postCountMetric("vse_lazyLoaderHook:error:",
1),g(c,n,f))}})}catch(u){f.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(d,e,a,c,b){var f=d.$;f(e+" div[data-configuration]").each(function(){k({A:d,context:a,handleFailure:b,handleSuccess:c},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(d,h,a){try{var c=d.A,b=d.block,g=d.request,l=d.handleFailure,p=d.handleSuccess,m=c.$;a--;var n=3-a-1,q=c.now();c.ajax("/vap/ew/subcomponent/vseplayer",{params:g,paramsFormat:"json",crossDomain:!0,method:"post",
contentType:"application/json",timeout:g.timeout||5E3,withCredentials:!0,success:function(a){var d=c.now()-q;e.postTimeMetric("vse_lightPlayerLoaderHook:success:",d);e.postCountMetric("vse_lightPlayerLoaderHook:success:"+g.page+":"+g.placement+":"+n);m(b).html(a);p(c,g,a)},error:function(b){e.postCountMetric("vse_lightPlayerLoaderHook:error:"+g.page+":"+g.placement+":"+n);(0===b.http.status||500<=b.http.status&&599>=b.http.status)&&0<a?k(d,a):(e.postCountMetric("vse_lightPlayerLoaderHook:error:",
1),l(c,g,b))}})}catch(t){f.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",t)}}return{get:function(d,e,a,c,b){k({A:d,block:e,request:a,handleFailure:b,handleSuccess:c},3)}}})})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,b=p?p("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,p){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,f,m,g,e,a){function c(h){h.interaction===p.MOUSE_ENTER&&
h.type===e.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function d(b,e){var d=new Date;b.interaction=e.type;b.isUserGenerated=!0;if(f.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===e.type&&m.isDataValidForAsin(u(b))&&(c(b),q&&clearTimeout(q),q=setTimeout(function(){var a=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,a,r);g.showShowroomMainImage(h);n.usePeekHover||f.selectGivenThumbnail(e.$declarativeParent,
x)},f.getHoveringDelayTimer())),"mouseleave"===e.type&&q&&clearTimeout(q),"click"===e.type){if(m.isDataValidForAsin(u(b))){var l=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,l,r);g.showShowroomMainImage(h)}f.selectGivenThumbnail(e.$declarativeParent,x);f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e)}}else m.isDataValidForAsin(u(b))&&(c(b),l=m.getDataForAsin(u(b)).imageData,g.updateMainImage(h,l,r),g.showShowroomMainImage(h)),n.usePeekHover&&"click"!==e.type||(f.selectGivenThumbnail(e.$declarativeParent,
x),"click"===e.type&&f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}function u(a){a=n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var k=void 0,n=void 0,l=void 0,r=void 0,x=void 0,h=void 0,y=void 0,q=void 0,v=void 0,p={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(c,q,t,z){t=new Date;k=this;n=c;l=q;r=z;b.on(e.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},r.dispatch("updateView",a))});k.render=function(e,f,c,d,k,q){e=new Date;x=d;h=k.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var p=new Date,t=m.getDataForAsin(w);g.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-p);if(!q){var B=new Date;g.updateMainImage(h,
t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;f=g.createThumbnail(n,d,f,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==y){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(t.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);y=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-e);return f};k.update=function(b){var r=new Date;try{var c=b.data;l.setCurrentEvent(b);c.type===e.SHOWROOM_THUMBNAIL_TYPE?
d(c,b):c.type!==e.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===p.SWATCH_HOVER?c.color===l.getCurrentItem().color&&l.getCurrentItem().type===e.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):f.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(c);g.hideShowroomMainImage(h)},f.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(c),
g.hideShowroomMainImage(h))):g.hideShowroomMainImage(h))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-r)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(y).defaultStageId;b=a.createShowroomAtfEvent(b,y,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-t)}});
"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery",
"imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,f,m,g,e,a){function c(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)}function d(a){a.action="showroomIngressClick";a.data=l;p.dispatch("showroomIngressClick",a)}var k,p,
n,l;return{createThumbnail:function(a,b,c,f){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:f.variant};m.createThumbnail({type:e.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:f.variant},f.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var h=a.find("#showroom-main-image");h.length?h.attr("src",d.hiRes):(h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),h=f(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cbutton class\x3d"a-button" style\x3d"border-width: 0"\x3e\n                        \x3cimg src\x3d"'+
d.hiRes+'" id\x3d"showroom-main-image" alt\x3d"'+h+'"/\x3e                    \x3c/button\x3e\n                \x3c/div\x3e').trim()),h.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],c),h.addClass("image-gradient-hue"),d=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),f(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
d+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cbutton class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png" alt\x3d""/\x3e'+h+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/button\x3e                \x3c/div\x3e").trim()).appendTo(a))},
hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return f("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:d,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,
a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)},handleShowroomMainImageClick:c,refresh:function(a,b,c){p=a;k=b;n=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,
m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(g){}},createShowroomAtfEvent:function(f,d,g,e){var a={};a.showroomId=f;a.asin=d;a.eventType=g;a.status=e;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return e[a]}function g(a){return a in e}var e={},a;return{setData:function(c){c&&c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,g(c.asin)||(e[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return e[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
