(function(l){var c=window.AmazonUIPageJS||window.P,r=c._namespace||c.attributeErrors,k=r?r("DetailPageLookInsideAssets",""):c;k.guardFatal?k.guardFatal(l)(k,window):k.execute(function(){l(k,window)})})(function(l,c,r){function k(g){c.ue&&c.ue.count&&c.ue.tag&&(ue.count(g,0),ue.tag(G()))}function h(g){if("undefined"!==typeof g){var e=c.ue;if(e&&e.count&&e.tag){var d=e.count(g)||0;e.count(g,d+1);e.tag(G())}}}function G(){var c=/ipad|tablet/i.test(navigator.userAgent);return/mobile/i.test(navigator.userAgent)&&
!c?"mobile":c?"tablet":"desktop"}function V(c,e){var d={};var f=W.COUNT;f={Timestamp:Date.now(),CloudWatchMetrics:[{Namespace:"LITB",Dimensions:[["region"],["marketplace"],["platform"]],Metrics:[{Name:c,Unit:f}]}]};d._aws=f;d.region=e.region;d.marketplace=e.marketplace;d.platform=G();d[c]=1;return{logs:[{level:"info",message:c,context:{emfLog:d,logTime:Date.now()}}]}}l.when("A","jQuery","ebooksImageBlockATF","cf").execute(function(g,e,d){function f(){k("litbReaderIframeSrcNotAvailable");k("litbReaderIframeContentWindowNotAvailable");
k("litbStickerClickedOnKindleBook");k("bookImageClickedOnKindleBook");H();r.addClass("image-2d");if(d&&d.litbData&&d.litbData.hasLitb&&d.litbData.litbReftag){r.addClass("clickableImage");var a=document.getElementById("litb-read-frame");a&&a.dataset&&a.dataset.src?a.src=a.dataset.src:h("litbReaderIframeSrcNotAvailable");d.litbData.showNewDesktopLitb&&a?(x.click(function(a){m(!0);n(a.target)&&(h("litbStickerClickedOnKindleBook"),y.incrementMetric("litbStickerClickedOnKindleBook"))}),c.addEventListener("popstate",
X,!1),c.addEventListener("message",u,!1),t(),a=v(c.location.search),a.asin&&a.format&&m(!1)):x.click(function(a){Q(!0);n(a.target)&&h("litbStickerClickedOnKindleBook")})}e(c).resize(l)}function n(a){return a&&("ebooksSitbLogoImg"===a.getAttribute("id")||"ebooksSitbLogo"===a.getAttribute("id"))}function t(){var a=document.getElementById("litb-read-frame");if(a&&a.contentWindow){if(p){a.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),"*");return}a.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),
"*");if(R>S)return;R++}else a&&h("litbReaderIframeContentWindowNotAvailable");setTimeout(t,M)}function m(a){T++;p?Q(a):T>S||setTimeout(function(){m(a)},M)}function Q(a){h("bookImageClickedOnKindleBook");y.incrementMetric("bookImageClickedOnKindleBook");var b=document.getElementById("litb-read-frame");d.litbData&&d.litbData.showNewDesktopLitb&&b&&b.contentWindow?(a=JSON.stringify({command:"initializeLITB",time:Date.now(),search:c.location.search,newSession:a}),b.contentWindow.postMessage(a,"*"),A(),
b.focus()):(b&&!b.contentWindow&&h("litbReaderIframeContentWindowNotAvailable"),"undefined"!=typeof SitbReader&&SitbReader.LightboxActions.openReader(d.litbData.litbReftag))}function X(){var a=document.getElementById("litb-read-frame");d.litbData&&d.litbData.showNewDesktopLitb&&a&&a.contentWindow?(I||!C()&&!D||(A(),a.contentWindow.postMessage(JSON.stringify({command:"updateLITB",search:c.location.search}),a.src)),I=!1):a&&h("litbReaderIframeContentWindowNotAvailable");D||w()}function A(){var a=document.getElementById("litb-read-frame");
if(a){O=c.scrollY;var b=document.body;b.style.position="fixed";b.style.top="-"+O+"px";b.style.right="0";b.style.left="0";a.style.cssText="position:fixed; width:100%; height:100%; top:0px; left:0px; z-index:1000; display: block; border: 0 none;";D=!0}}function z(a){var b=document.getElementById("litb-read-frame");b&&(b.style.cssText="display: none",b=document.body,b.style.position="",b.style.top="",b.style.right="",b.style.left="",c.scrollTo(0,parseInt(O||"0",10)),D=!1,a&&w())}function w(){C()&&c.history.replaceState({},
document.title,c.location.origin+c.location.pathname+E()+c.location.hash)}function u(a){var b;if(b="string"===typeof a.data)try{JSON.parse(a.data),b=!0}catch(ca){b=!1}b&&(a=JSON.parse(a.data),b=a.command,"closeLITB"===b?a.depth?(I=!0,c.history.go(-1*a.depth),z(!1)):z(!0):"updateLITB"===b&&a.search?(b=v(c.location.search),c.history.pushState({},document.title,c.location.origin+c.location.pathname+B(a.search)+c.location.hash),b.asin!==a.search.asin&&c.dispatchEvent(new PopStateEvent("popstate"))):"readyLITB"===
b?p=!0:"reloadLITB"===b&&c.location.reload())}function H(){var a=K.outerWidth(),b=K.outerHeight(),y=U.outerHeight()-(U.outerHeight()-K.outerHeight())/2;r.width(a).height(b);K.css({position:"relative",top:"0",left:"0"});P.height(y);(c.innerWidth||document.body.offsetWidth)<d.windowWidthThreshold&&l()}function l(){var a=c.innerWidth||document.body.offsetWidth;if(!(0>=a))if(a>d.windowWidthThreshold){a=d.configWidths[1];var b=a/d.holderRatio,y=d.frontImageWidth,e=d.frontImageHeight;J(a,b,y,e)}else a<
d.windowWidthThreshold&&(a=d.configWidths[0],b=a/d.holderRatio,d.frontImageAspectRatio>d.holderRatio?(y=a,e=y/d.frontImageAspectRatio):(e=b,y=e*d.frontImageAspectRatio),J(a,b,y,e))}function J(a,b,c,y){if(0<a&&0<b&&0<c&&0<y){L.length&&G.length&&(L.css("margin-left",a+d.centerColMargin).removeClass("centerColumn"),G.width(a));var f=b+d.containerMargin;x.width(a).height(f);K.width(c).height(y);r.width(c).height(y);P.height(b-(b-K.outerHeight())/2);e(this).trigger("imageResize")}}function v(a){var b=
{};0<a.length&&a.substr(1).split("\x26").forEach(function(a){a=a.split("\x3d");2===a.length&&(b[a[0]]=a[1])});return b}function q(a){var b="";Object.keys(a).forEach(function(c){0<b.length&&(b+="\x26");b+=c+"\x3d"+a[c]});return b}function B(a){if(c.location.search){var b=v(c.location.search);b.asin=a.asin;b.revisionId=a.revisionId;b.format=a.format;b.depth=a.depth;a=q(b)}else a=q(a);return"?"+a}function E(){var a="";c.location.search&&(a=v(c.location.search),delete a.asin,delete a.revisionId,delete a.format,
delete a.depth,a=q(a));return"?"+a}function C(){var a=v(c.location.search);return a.asin&&a.format}var I=!1,p=!1,D=!1,x=e("#ebooksImageBlock"),F=e("#ebooksImgBlkFront"),a=e("#ebooksImgBlockInlineVideo"),b=e("#ebooksImgBlockInlineVideoSrc"),y=new N(g,e,d);if(x.length){var U=x.find("#ebooks-img-wrapper"),P=x.find("#ebooksImageBlockContainer"),r=x.find("#ebooks-img-canvas"),K=r.find(".frontImage"),G=e("#leftCol"),L=e("#centerCol");f()}else throw Error("Element with id imageBlock is missing");g.on("a:image:load",
function(c){a.length&&b.length&&d.hasCoverImageInlineVideo&&(F.hide(),a.show())});g.loadDynamicImage(F);var M=100,S=50,R=0,T=0,O=0});l.when("A","jQuery","ImageBlockATF","cf").execute(function(g,e,d){function f(){var e=c.innerWidth||document.body.offsetWidth;if(!(0>=e))if(e>d.windowWidthThreshold&&m.width()<=d.configWidths[0]){e=d.configWidths[1];var f=e/d.holderRatio,g=d.frontImageWidth,t=d.frontImageHeight;n(e,f,g,t)}else e<d.windowWidthThreshold&&m.width()>d.configWidths[0]&&(e=d.configWidths[0],
f=e/d.holderRatio,d.frontImageAspectRatio>d.holderRatio?(g=e,t=g/d.frontImageAspectRatio):(t=f,g=t*d.frontImageAspectRatio),n(e,f,g,t))}function n(c,f,g,n){if(0<c&&0<f&&0<g&&0<n){J.css("margin-left",c+d.centerColMargin).removeClass("centerColumn");r.css("width",c);var h=f+d.containerMargin+d.flipLinkMinHeight+d.litbHeight;m.css("width",c).css("height",h);t(g,n);k.css("height",f+d.litbHeight-(f+d.litbHeight-u.outerHeight())/2);e(this).trigger("imageResize")}}function t(c,d){u.css("width",c).css("height",
d);c=u.width();d=u.height();A.css("width",c).css("height",d);q.resizeCanvas(c);"undefined"!==typeof z&&0<z.length&&(z.css("width",c).css("height",d),w.css("height",d),isShowing3D&&l&&(d=w.width(),v=(c-d)/2-2,w.removeClass("ieTransition").css("left",(c-d)/2),w.css("transform","perspective(3000px) rotateY(-65deg) translateZ("+v+"px)"),g.delay(function(){w.addClass("ieTransition")},10)))}var m=e("#imageBlock"),h=m.find("#img-wrapper"),k=m.find("#imageBlockContainer"),A=m.find("#img-canvas"),z=A.find(".backImage"),
w=A.find(".sideImage"),u=A.find(".frontImage"),l=e.browser.msie||!!navigator.userAgent.match(/Trident/),r=e("#leftCol"),J=e("#centerCol"),v=0,q=new L(g,e,m,d,!0);q.initializeMetrics();(function(){if(u.offset()){var c=h.outerHeight()-(h.outerHeight()-u.outerHeight())/2,d=w.outerWidth();h.css("position","relative");u.css({position:"relative",top:"0",left:"0"});z.css("position","absolute").css("top","0").css("left","0");w.css("position","absolute").css("top","0").css("left","-"+d+"px");k.css("height",
c)}})();A.addClass("image-2d");q.initializeSticker("front");d.disableResize||e(c).resize(f)});l.when("a-modal-handlers").execute("mark-booksimageblock-interactive-time",function(){"function"===typeof c.markFeatureInteractive&&c.markFeatureInteractive("booksImageBlock",{hasComponents:!0,components:[{name:"thumbnail"}]})});l.when("A","jQuery","MinimalLITBImageBlockATF").execute(function(c,e,d){var f=e("#minimalImageBlock");c=new L(c,e,f,d,!1);c.initializeMetrics();c.initializeSticker(r)});var L=function(){return function(g,
e,d,f,n){function t(){var a=document.getElementById("litb-read-frame");if(a){if(I){a.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),"*");return}a.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),"*");if(50<D)return;D++}setTimeout(t,100)}function m(a,b){x++;I?l(a,b):50<x?h("litbReadyMaxAttempts"):setTimeout(function(){m(a,b)},100)}function l(a,b){h("litbStickerClickedOnPrintBook");E.incrementMetric("litbStickerClickedOnPrintBook");var d=document.getElementById("litb-read-frame");
f.litbData&&f.litbData.showNewDesktopLitb&&d?(a=JSON.stringify({command:"initializeLITB",time:Date.now(),search:c.location.search,newSession:a}),d.contentWindow.postMessage(a,"*"),w(),d.focus()):"undefined"!=typeof SitbReader&&(h("sitbReaderCodePathUsed"),"back"==b&&SitbReader.currentBook&&SitbReader.currentBook.bookmarks?(d=SitbReader.currentBook.bookmarks.getFirstAndLastPageNumberByName("Back Cover").first,a=SitbReader.currentBook.bookmarks.getFirstAndLastPageNumberByName("Back Flap").first,d?SitbReader.LightboxActions.openReaderToPage(d):
a?SitbReader.LightboxActions.openReaderToPage(a):SitbReader.LightboxActions.openReader(f.litbData.litbReftag)):SitbReader.LightboxActions.openReader(f.litbData.litbReftag))}function r(){H()&&c.history.replaceState({},document.title,c.location.origin+c.location.pathname+A()+c.location.hash)}function A(){var a="";c.location.search&&(a=q(c.location.search),delete a.asin,delete a.revisionId,delete a.format,delete a.depth,a=v(a));return"?"+a}function z(a){var b=document.getElementById("litb-read-frame");
b&&(b.style.cssText="display: none",b=document.body,b.style.position="",b.style.top="",b.style.right="",b.style.left="",c.scrollTo(0,parseInt(F||"0",10)),p=!1,a&&r())}function w(){var a=document.getElementById("litb-read-frame");if(a){F=c.scrollY;var b=document.body;b.style.position="fixed";b.style.top="-"+F+"px";b.style.right="0";b.style.left="0";a.style.cssText="position:fixed; width:100%; height:100%; top:0px; left:0px; z-index:1000; display: block; border: 0 none;";p=!0}}function u(){var a=document.getElementById("litb-read-frame");
f.litbData&&f.litbData.showNewDesktopLitb&&a&&(C||!H()&&!p||(w(),a.contentWindow.postMessage(JSON.stringify({command:"updateLITB",search:c.location.search}),a.src)),C=!1);p||r()}function H(){var a=q(c.location.search);return a.asin&&a.format}function G(a){var b;if(b="string"===typeof a.data)try{JSON.parse(a.data),b=!0}catch(y){b=!1}b&&(a=JSON.parse(a.data),b=a.command,"closeLITB"===b?a.depth?(C=!0,c.history.go(-1*a.depth),z(!1)):z(!0):"updateLITB"===b&&a.search?(b=q(c.location.search),c.history.pushState({},
document.title,c.location.origin+c.location.pathname+J(a.search)+c.location.hash),b.asin!==a.search.asin&&c.dispatchEvent(new PopStateEvent("popstate"))):"readyLITB"===b?I=!0:"reloadLITB"===b&&c.location.reload())}function J(a){if(c.location.search){var b=q(c.location.search);b.asin=a.asin;b.revisionId=a.revisionId;b.format=a.format;b.depth=a.depth;a=v(b)}else a=v(a);return"?"+a}function v(a){var b="";Object.keys(a).forEach(function(c){0<b.length&&(b+="\x26");b+=c+"\x3d"+a[c]});return b}function q(a){var b=
{};0<a.length&&a.substr(1).split("\x26").forEach(function(a){a=a.split("\x3d");2===a.length&&(b[a[0]]=a[1])});return b}n={};var B=d.find("#litb-canvas"),E=new N(g,e,f),C=!1,I=!1,p=!1,D=0,x=0,F=0;n.initializeMetrics=function(){k("litbReadyMaxAttempts");k("litbReaderIframeSrcNotAvailable");k("sitbReaderCodePathUsed");k("litbStickerClickedOnPrintBook")};n.initializeSticker=function(a){if(f&&f.litbData&&(f.litbData.hasLitb&&f.litbData.litbReftag||f.litbData.showNewDesktopLitb)){B.addClass("litb-on-click");
B.click(m.bind(this,!0,a));var b=document.getElementById("litb-read-frame");b&&b.dataset&&b.dataset.src?b.src=b.dataset.src:h("litbReaderIframeSrcNotAvailable");f.litbData.showNewDesktopLitb&&b?(c.addEventListener("popstate",u,!1),c.addEventListener("message",G,!1),t(),b=q(c.location.search),b.asin&&b.format&&m(!1,a)):B.click(function(){l(this,!0,a)});b={hasComponents:!0,components:[{name:"mainimage"}]};"function"===typeof c.markFeatureInteractive&&c.markFeatureInteractive("booksImageBlock",b)}};
n.resizeCanvas=function(a){B.css("width",a)};return n}}();l.when("A","jQuery","EbooksReadSample","cf").execute(function(c,e,d){(new Y(c,e,d)).setupInteractions(d)});l.when("A","jQuery","PbooksReadSample","cf").execute(function(c,e,d){var f=e("#imageBlock"),n=e("#pbooksReadSample");(new Z(c,e,f,d,n)).initializeSticker(r)});var Y=function(){return function(g,e,d){function f(){var a=document.getElementById("litb-read-frame");if(a&&a.contentWindow){if(B){a.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),
"*");p.isSpinnerVisible()&&(h("SpinnerShown:Count"),p.hideSpinnerAndShowText(!1),t(!0));return}a.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),"*");if(F>x)return;F++}else a&&h("litbReaderIframeContentWindowNotAvailable");setTimeout(f,D)}function n(b){a++;B?t(b):a>x||setTimeout(function(){n(b)},D)}function t(a){a&&(h("readSampleButtonClicked"),I.incrementMetric("readSampleButtonClicked"));var b=document.getElementById("litb-read-frame");b&&!b.contentWindow&&h("litbReaderIframeContentWindowNotAvailable");
d.litbData&&d.litbData.showNewDesktopLitb&&b&&b.contentWindow?(p.isSpinnerVisible()&&p.hideSpinnerAndShowText(!1),a=JSON.stringify({command:"initializeLITB",time:Date.now(),search:c.location.search,newSession:a}),b.contentWindow.postMessage(a,"*"),k(),b.focus()):d&&d.litbData&&d.litbData.hasLitb&&(c.smash?l.when("mash").execute(function(a){a.navigate({url:d.litbData.litbReaderUrl,transition:"slide"})}):c.location.href=d.litbData.litbReaderUrl)}function m(){var a=document.getElementById("litb-read-frame");
d.litbData&&d.litbData.showNewDesktopLitb&&a&&a.contentWindow?(q||!z()&&!E||(k(),a.contentWindow.postMessage(JSON.stringify({command:"updateLITB",search:c.location.search}),a.src)),q=!1):a&&h("litbReaderIframeContentWindowNotAvailable");E||A()}function k(){var a=document.getElementById("litb-read-frame");if(a){b=c.scrollY;var d=document.body;d.style.position="fixed";d.style.top="-"+b+"px";d.style.right="0";d.style.left="0";a.style.cssText="position:fixed; width:100%; height:100%; top:0px; left:0px; z-index:1000; display: block; border: 0 none;";
E=!0}}function r(a){var d=document.getElementById("litb-read-frame");d&&(d.style.cssText="display: none",d=document.body,d.style.position="",d.style.top="",d.style.right="",d.style.left="",c.scrollTo(0,parseInt(b||"0",10)),E=!1,a&&A())}function A(){z()&&c.history.replaceState({},document.title,c.location.origin+c.location.pathname+J())}function z(){var a=u(c.location.search);return a.asin&&a.format}function w(a){var b;if(b="string"===typeof a.data)try{JSON.parse(a.data),b=!0}catch(P){b=!1}b&&(a=JSON.parse(a.data),
b=a.command,"closeLITB"===b?a.depth?(q=!0,c.history.go(-1*a.depth),r(!1)):r(!0):"updateLITB"===b&&a.search?(b=u(c.location.search),c.history.pushState({},document.title,c.location.origin+c.location.pathname+G(a.search)),b.asin!==a.search.asin&&c.dispatchEvent(new PopStateEvent("popstate"))):"readyLITB"===b&&(B=!0))}function u(a){var b={};0<a.length&&a.substr(1).split("\x26").forEach(function(a){a=a.split("\x3d");2===a.length&&(b[a[0]]=a[1])});return b}function H(a){var b="";Object.keys(a).forEach(function(c){0<
b.length&&(b+="\x26");b+=c+"\x3d"+a[c]});return b}function G(a){if(c.location.search){var b=u(c.location.search);b.asin=a.asin;b.revisionId=a.revisionId;b.format=a.format;b.depth=a.depth;a=H(b)}else a=H(a);return"?"+a}function J(){var a="";c.location.search&&(a=u(c.location.search),delete a.asin,delete a.revisionId,delete a.format,delete a.depth,a=H(a));return"?"+a}var v={},q=!1,B=!1,E=!1,C=e("#ebooksReadSample"),I=new N(g,e,d),p=new M(g,e);v.setupInteractions=function(){if(d&&d.litbData&&d.litbData.hasLitb){var a=
document.getElementById("litb-read-frame");a&&a.dataset&&a.dataset.src?a.src=a.dataset.src:d.litbData.showNewDesktopLitb&&h("litbReaderIframeSrcNotAvailable");d.litbData.showNewDesktopLitb&&a?(C.click(function(a){B||p.isSpinnerVisible()||(p.showSpinnerAndHideText(),h("SpinnerShown:Count"),setTimeout(function(){1>e("#litb-read-frame").length&&p.hideSpinnerAndShowText(!1)},3E4));n(!0)}),c.addEventListener("popstate",m,!1),c.addEventListener("message",w,!1),f(),a=u(c.location.search),a.asin&&a.format&&
n(!1)):C.click(function(a){t(!0)})}};var D=100,x=20,F=0,a=0,b=0;return v}}(),Z=function(){return function(g,e,d,f,n){function t(){var a=document.getElementById("litb-read-frame");if(a){if(E){a.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),"*");p.isSpinnerVisible()&&(h("SpinnerShown:Count"),p.hideSpinnerAndShowText(!1),l(!0));return}a.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),"*");if(50<D)return;D++}setTimeout(t,100)}function m(a,b){x++;E?l(a,b):50<x?h("litbReadyMaxAttempts"):
setTimeout(function(){m(a,b)},100)}function l(a){h("printReadSampleButtonClicked");I.incrementMetric("printReadSampleButtonClicked");var b=document.getElementById("litb-read-frame");f.litbData&&f.litbData.showNewDesktopLitb&&b?(p.isSpinnerVisible()&&p.hideSpinnerAndShowText(!1),a=JSON.stringify({command:"initializeLITB",time:Date.now(),search:c.location.search,newSession:a}),b.contentWindow.postMessage(a,"*"),w(),b.focus()):c.location.href=f.litbData.litbReaderUrl}function r(){H()&&c.history.replaceState({},
document.title,c.location.origin+c.location.pathname+A()+c.location.hash)}function A(){var a="";c.location.search&&(a=q(c.location.search),delete a.asin,delete a.revisionId,delete a.format,delete a.depth,a=v(a));return"?"+a}function z(a){var b=document.getElementById("litb-read-frame");b&&(b.style.cssText="display: none",b=document.body,b.style.position="",b.style.top="",b.style.right="",b.style.left="",c.scrollTo(0,parseInt(F||"0",10)),C=!1,a&&r())}function w(){var a=document.getElementById("litb-read-frame");
if(a){F=c.scrollY;var b=document.body;b.style.position="fixed";b.style.top="-"+F+"px";b.style.right="0";b.style.left="0";a.style.cssText="position:fixed; width:100%; height:100%; top:0px; left:0px; z-index:1000; display: block; border: 0 none;";C=!0}}function u(){var a=document.getElementById("litb-read-frame");f.litbData&&f.litbData.showNewDesktopLitb&&a&&(B||!H()&&!C||(w(),a.contentWindow.postMessage(JSON.stringify({command:"updateLITB",search:c.location.search}),a.src)),B=!1);C||r()}function H(){var a=
q(c.location.search);return a.asin&&a.format}function G(a){var b;if(b="string"===typeof a.data)try{JSON.parse(a.data),b=!0}catch(y){b=!1}b&&(a=JSON.parse(a.data),b=a.command,"closeLITB"===b?a.depth?(B=!0,c.history.go(-1*a.depth),z(!1)):z(!0):"updateLITB"===b&&a.search?(b=q(c.location.search),c.history.pushState({},document.title,c.location.origin+c.location.pathname+J(a.search)+c.location.hash),b.asin!==a.search.asin&&c.dispatchEvent(new PopStateEvent("popstate"))):"readyLITB"===b?E=!0:"reloadLITB"===
b&&c.location.reload())}function J(a){if(c.location.search){var b=q(c.location.search);b.asin=a.asin;b.revisionId=a.revisionId;b.format=a.format;b.depth=a.depth;a=v(b)}else a=v(a);return"?"+a}function v(a){var b="";Object.keys(a).forEach(function(c){0<b.length&&(b+="\x26");b+=c+"\x3d"+a[c]});return b}function q(a){var b={};0<a.length&&a.substr(1).split("\x26").forEach(function(a){a=a.split("\x3d");2===a.length&&(b[a[0]]=a[1])});return b}d={};var B=!1,E=!1,C=!1,I=new N(g,e,f),p=new M(g,e),D=0,x=0,
F=0;d.initializeMetrics=function(){k("litbReadyMaxAttempts");k("litbReaderIframeSrcNotAvailable");k(sitbReaderCodePathUsedMetric);k(litbStickerClickedMetric)};d.initializeSticker=function(a){if(f&&f.litbData&&(f.litbData.hasLitb&&f.litbData.litbReftag||f.litbData.showNewDesktopLitb)){n.click(function(){E||p.isSpinnerVisible()||!f.litbData.showNewDesktopLitb||(p.showSpinnerAndHideText(),h("SpinnerShown:Count"),setTimeout(function(){1>e("#litb-read-frame").length&&spinnerUtls.hideSpinnerAndShowText(!1)},
3E4));m(this,!0,a)});var b=document.getElementById("litb-read-frame");b&&b.dataset&&b.dataset.src?b.src=b.dataset.src:h("litbReaderIframeSrcNotAvailable");f.litbData.showNewDesktopLitb&&b?(c.addEventListener("popstate",u,!1),c.addEventListener("message",G,!1),t(),b=q(c.location.search),b.asin&&b.format&&m(!1,a)):n.click(l.bind(this,!0,a))}};return d}}();l.when("A","jQuery","MobileLitbImageBlockATF").execute(function(g,e,d){var f=new aa(g,e,d);(function(){!c.smash&&d&&d.litbData&&d.litbData.hasLitb&&
e("#sitb-sticker-container").click(function(c){f.triggerWeblab("LITB_EVO_PBOOK_MWEB_CLICK_ON_COVER_DPX_598270")})})()});var aa=function(){return function(c,e,d){function f(){var c=document.createElement("a");c.href=d.litbData.litbReaderUrl;return c.hostname}return{triggerWeblab:function(c){e.ajax("https://"+f()+"/sample/trigger-weblab?weblab\x3d"+c,{method:"get",xhrFields:{withCredentials:!0},success:function(c){return c.treatment},error:function(c){return"Unable to trigger weblab due to "+c.responseText}})}}}}(),
ba={"read.amazon.com":{marketplace:"US",region:"us-east-1",katalCloudWatchEndpointEmf:"https://b11v5ewz9l.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"read.amazon.co.jp":{marketplace:"JP",region:"us-west-2",katalCloudWatchEndpointEmf:"https://bs7kdk5kxb.execute-api.us-west-2.amazonaws.com/prod/v1/log"},"read.amazon.ca":{marketplace:"CA",region:"us-east-1",katalCloudWatchEndpointEmf:"https://b11v5ewz9l.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"ler.amazon.com.br":{marketplace:"BR",region:"us-east-1",
katalCloudWatchEndpointEmf:"https://b11v5ewz9l.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"read.amazon.com.au":{marketplace:"AU",region:"us-west-2",katalCloudWatchEndpointEmf:"https://bs7kdk5kxb.execute-api.us-west-2.amazonaws.com/prod/v1/log"},"www.amazon.sg":{marketplace:"SG",region:"us-west-2",katalCloudWatchEndpointEmf:"https://bs7kdk5kxb.execute-api.us-west-2.amazonaws.com/prod/v1/log"},"leer.amazon.com.mx":{marketplace:"MX",region:"us-east-1",katalCloudWatchEndpointEmf:"https://b11v5ewz9l.execute-api.us-east-1.amazonaws.com/prod/v1/log"},
"read.amazon.co.uk":{marketplace:"GB",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"lesen.amazon.de":{marketplace:"DE",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"lire.amazon.fr":{marketplace:"FR",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"leggi.amazon.it":{marketplace:"IT",region:"eu-west-1",
katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"leer.amazon.es":{marketplace:"ES",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"lezen.amazon.nl":{marketplace:"NL",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"read.amazon.in":{marketplace:"IN",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},
"read-preprod.amazon.com":{marketplace:"US",region:"us-east-1",katalCloudWatchEndpointEmf:"https://wa9hufu4c9.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"read-pre-prod-jp.amazon.com":{marketplace:"JP",region:"us-west-2",katalCloudWatchEndpointEmf:"https://arufknsm9d.execute-api.us-west-2.amazonaws.com/prod/v1/log"},"read-pre-prod-ca.amazon.com":{marketplace:"CA",region:"us-east-1",katalCloudWatchEndpointEmf:"https://wa9hufu4c9.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"read-pre-prod-br.amazon.com":{marketplace:"BR",
region:"us-east-1",katalCloudWatchEndpointEmf:"https://wa9hufu4c9.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"read-pre-prod-au.amazon.com":{marketplace:"AU",region:"us-west-2",katalCloudWatchEndpointEmf:"https://arufknsm9d.execute-api.us-west-2.amazonaws.com/prod/v1/log"},"read-pre-prod-mx.amazon.com":{marketplace:"MX",region:"us-east-1",katalCloudWatchEndpointEmf:"https://wa9hufu4c9.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"read-pre-prod-uk.amazon.com":{marketplace:"GB",region:"eu-west-1",
katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"read-pre-prod-de.amazon.com":{marketplace:"DE",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"read-pre-prod-fr.amazon.com":{marketplace:"FR",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"read-pre-prod-it.amazon.com":{marketplace:"IT",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},
"read-pre-prod-es.amazon.com":{marketplace:"ES",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"lezen-nl-preprod.dub.xcorp.amazon.com":{marketplace:"NL",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"read-pre-prod-in.amazon.com":{marketplace:"IN",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},
"sg-gamma.aka.amazon.com":{marketplace:"SG",region:"us-west-2",katalCloudWatchEndpointEmf:"https://arufknsm9d.execute-api.us-west-2.amazonaws.com/prod/v1/log"}},N=function(){return function(c,e,d){function f(){var c=document.createElement("a"),e=document.getElementById("litb-read-frame");e?c.href=e.src:d&&d.litbData&&(c.href=d.litbData.litbReaderUrl);return c.hostname}return{incrementMetric:function(c){try{var d=ba[f()];d&&e.ajax({url:d.katalCloudWatchEndpointEmf,type:"POST",data:JSON.stringify(V(c,
d)),success:function(c){return c},error:function(c){return"Unable to log metric due to "+c}})}catch(m){return"Failed to emit metrics to cloudwatch due to "+m}}}}}(),W={COUNT:"Count",MILLISECONDS:"Milliseconds",NONE:"None"},M=function(){return function(c,e){c={};var d=0,f=e("#spinny-spinner"),g=e(".read-sample-button-text");c.hideSpinnerAndShowText=function(c){if(null!==f){var e=f.data("startTime");d=0===e.length?d:e;f.css("display","none");null!==g&&g.first().css("display","block");c?h("SPINNER_TIMED_OUT"):
/^-?\d+$/.test(d)&&(c=Math.floor(Date.now()/1E3)-d,"undefined"!==typeof ue&&"undefined"!==typeof ue.count&&ue.count("SpinnerLoading:Time",(ue.count("SpinnerLoading:Time")||0)+c),d=0)}};c.showSpinnerAndHideText=function(){null!==f&&(f.css("display","block"),null!==g&&g.first().css("display","none"),d=Math.floor(Date.now()/1E3),k("SPINNER_TIMED_OUT"))};c.isSpinnerVisible=function(){var c=document.getElementById("spinny-spinner");return null!=c?"none"!==c.style.display:!1};return c}}()});