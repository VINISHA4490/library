'use strict';mix_d("BuffetDisclaimersCards__buffet-high-priority-disclaimers-card:buffet-high-priority-disclaimers-card__PmGtMbRV","exports tslib @c/logger @c/remote-operations @c/scoped-dom @p/buffet-sidesheet-atf @c/aui-utils @c/metrics".split(" "),function(N,w,V,W,X,Y,O,Z){function D(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}var E=D(V),aa=D(W),g=D(X),P=D(Y),Q;(function(a){a.BEFORE_FIRST_OPEN="before first open";a.OPEN="open";a.CLOSE="close"})(Q||(Q={}));var R;(function(a){a.RIGHT_OUT_OF_SCREEN=
"-120%";a.INSIDE_SCREEN="0px"})(R||(R={}));var q;(function(a){a.MOBILE="mobile";a.DESKTOP="desktop"})(q||(q={}));var r;(function(a){a.ATF="ATF";a.BTF="BTF"})(r||(r={}));var A;(function(a){a.FATAL="FATAL";a.ERROR="ERROR";a.WARN="WARN"})(A||(A={}));var k;(function(a){a.CLIENT_LOAD="Buffet.Client.Load";a.INGRESS_LINK_CLICK="Buffet.Sidesheet.IngressLinkClick";a.SIDESHEET_OPENED="Buffet.Sidesheet.Open";a.SIDESHEET_CLOSED="Buffet.Sidesheet.Close";a.SIDESHEET_DWELL_TIME="Buffet.Sidesheet.DwellTime";a.SIDESHEET_CONTENT_LOADED=
"Buffet.SdesheetContent.Load";a.SIDESHEET_CONTENT_LOAD_LATENCY="Buffet.SidesheetContent.LoadLatency";a.PSI_PILL_CLICK="Buffet.SidesheetContent.PsiPillClick";a.MANUFACTURER_PILL_CLICK="Buffet.SidesheetContent.ManufacturerPillClick";a.RSP_PILL_CLICK="Buffet.SidesheetContent.RspPillClick";a.PSI_ZOOM_IN_CLICK="Buffet.SidesheetContent.PsiZoomInClick";a.PSI_ZOOM_OUT_CLICK="Buffet.SidesheetContent.PsiZoomOutClick";a.MISSING_ASIN_ERROR="Buffet.MissingAsin.Error";a.MISSING_CRUCIAL_ELEMENTS_ERROR="Buffet.MissingCrucialElements.Error";
a.MISSING_GPSR_CONTENT_ERROR="Buffet.MissingGpsrContent.Error";a.SIDESHEET_OPEN_ERROR="Buffet.Sidesheet.Open.Error";a.SIDESHEET_CONTENT_LOAD_ERROR="Buffet.Sidesheet.ContentLoad.Error"})(k||(k={}));var F=function(a,b){a&&!a.classList.contains(b)&&a.classList.add(b)},I=function(a,b){a&&a.classList.contains(b)&&a.classList.remove(b)},J=function(a){if(!a.every(function(b){return b})||!a.map(function(b){return b.id}).every(function(b){return b}))throw Error("Some HTML elements are missing.");},S=function(a){return{html:a.innerHTML,
className:a.className,style:a.style.cssText}},G=function(a,b){a.innerHTML=b.html;a.className=b.className;a.style.cssText=b.style},u;(function(a){a.LANDING_ASIN="buffet-atf-asin";a.OPEN_BUTTON_IMG_DOC_CONT="buffet-sidesheet-atf-open-button-show-image-doc-contact";a.CLOSE_BUTTON="buffet-sidesheet-atf-close-button";a.DARKENED_BACKGROUND="buffet-atf-darkened-background";a.SIDESHEET="buffet-sidesheet-atf";a.SIDESHEET_CONTENT="buffet-sidesheet-atf-content";a.SIDESHEET_CONTENT_BUFFER_SPINNER="buffet-sidesheet-atf-content-spinner";
a.SIDESHEET_ERROR_ALERT="buffet-sidesheet-atf-error-alert";a.SIDESHEET_PILLS_CONTAINER="buffet-sidesheet-pills-container";a.SIDESHEET_RSP_PILL="buffet-sidesheet-rsp-pill";a.SIDESHEET_MANUFACTURER_PILL="buffet-sidesheet-manufacturer-pill";a.SIDESHEET_PSI_PILL="buffet-sidesheet-psi-pill";a.SIDESHEET_RSP_CONTENT="buffet-sidesheet-rsp-content-container";a.SIDESHEET_MANUFACTURER_CONTENT="buffet-sidesheet-manufacturer-content-container";a.SIDESHEET_PSI_CONTENT="buffet-sidesheet-psi-content-container";a.SIDESHEET_PSI_CAROUSEL=
"buffet-psi-component"})(u||(u={}));var m=function(a,b,d,c){void 0===c&&(c=1);Z.count(a+"."+b+"."+d,c)},ba=function(a,b,d){if(a){var c=!1,l=a.querySelectorAll("li"),e=a.querySelectorAll("img");l.forEach(function(x){x.style.maxWidth="1600px"});e.forEach(function(x){x.addEventListener("click",function(){return w.__awaiter(void 0,void 0,void 0,function(){return w.__generator(this,function(t){c?(m(b,d,k.PSI_ZOOM_OUT_CLICK),l.forEach(function(f){f.style.width=""}),e.forEach(function(f){f.style.maxWidth=
"100%";var v=g["default"].cardRoot.querySelector("#"+f.id+"-zoomed-out").value;f.src=v}),c=!1):(m(b,d,k.PSI_ZOOM_IN_CLICK),l.forEach(function(f){f.style.width="1600px"}),e.forEach(function(f){f.style.maxWidth="1600px";var v=g["default"].cardRoot.querySelector("#"+f.id+"-zoomed-in").value;f.src=v}),c=!0);return[2]})})})})}},T;(function(a){a.SHOW="show";a.HIDE="hide";a.CLICK="click";a.BEFORE_SHOW="beforeShow";a.WEE_SHOW="weeShow";a.RSP_SHOW="rspShow"})(T||(T={}));var h;(function(a){a[a.RSP=0]="RSP";
a[a.MANUFACTURER=1]="MANUFACTURER";a[a.PSI=2]="PSI"})(h||(h={}));var H=function(a,b,d){for(var c in h){var l=h[c];l===a?(F(b[l],"a-button-selected"),I(d[l],"aok-hidden")):(I(b[l],"a-button-selected"),F(d[l],"aok-hidden"))}},ca=function(a,b){var d=b.offsetWidth;a.forEach(function(c){var l=c.offsetWidth;c.addEventListener("click",function(){var e=c.offsetLeft-d/2+l/2;0>e?e=0:e+d>b.scrollWidth&&(e=b.scrollWidth-d);b.scroll({left:e,behavior:"smooth"})})})},K,L,U=Object.keys(h).length/2,da=function(a,
b,d,c,l,e,x,t,f,v){return w.__awaiter(void 0,void 0,void 0,function(){var z,C,B,M,n,p;return w.__generator(this,function(y){switch(y.label){case 0:z=Date.now();a&&(a=!1,K=S(t),L=S(f));if(b)return[3,4];y.label=1;case 1:return y.trys.push([1,3,,4]),G(t,K),G(f,L),[4,l.getContent({asin:x})];case 2:C=y.sent();f.innerHTML+=C.outerHTML;B=g["default"].cardRoot.querySelector("#"+e.SIDESHEET_PSI_CAROUSEL);ba(B,d,c);M=g["default"].cardRoot.querySelector("#"+e.SIDESHEET_PILLS_CONTAINER);n=Array(U);p=Array(U);
n[h.RSP]=g["default"].cardRoot.querySelector("#"+e.SIDESHEET_RSP_PILL);n[h.MANUFACTURER]=g["default"].cardRoot.querySelector("#"+e.SIDESHEET_MANUFACTURER_PILL);n[h.PSI]=g["default"].cardRoot.querySelector("#"+e.SIDESHEET_PSI_PILL);p[h.RSP]=g["default"].cardRoot.querySelector("#"+e.SIDESHEET_RSP_CONTENT);p[h.MANUFACTURER]=g["default"].cardRoot.querySelector("#"+e.SIDESHEET_MANUFACTURER_CONTENT);p[h.PSI]=g["default"].cardRoot.querySelector("#"+e.SIDESHEET_PSI_CONTENT);try{J(n),J(p)}catch(ea){throw E["default"].log("Cannot find the HTML components for Buffet side sheet GPSR content.",
A.ERROR),m(d,c,k.MISSING_GPSR_CONTENT_ERROR),Error("Cannot find the HTML components for Buffet side sheet GPSR content.");}ca(n,M);H(h.PSI,n,p);n[h.RSP].addEventListener("click",function(){H(h.RSP,n,p);m(d,c,k.RSP_PILL_CLICK)});n[h.MANUFACTURER].addEventListener("click",function(){H(h.MANUFACTURER,n,p);m(d,c,k.MANUFACTURER_PILL_CLICK)});n[h.PSI].addEventListener("click",function(){H(h.PSI,n,p);m(d,c,k.PSI_PILL_CLICK)});t.style.opacity="0";m(d,c,k.SIDESHEET_CONTENT_LOAD_LATENCY,Date.now()-z);O.delay(function(){F(t,
"aok-hidden");f.style.opacity="1"},200);b=!0;return[3,4];case 3:return y.sent(),E["default"].log("Experiencing some issues to load side sheet view",A.ERROR),m(d,c,k.SIDESHEET_CONTENT_LOAD_ERROR),G(t,K),G(f,L),v=g["default"].cardRoot.querySelector("#"+e.SIDESHEET_ERROR_ALERT),I(v,"aok-hidden"),t.style.opacity="0",O.delay(function(){F(t,"aok-hidden");f.style.opacity="1"},200),[3,4];case 4:return[2,[a,b]]}})})};N._operationNames=["getContent"];N.card=function(){return w.__awaiter(void 0,void 0,void 0,
function(){var a,b,d,c,l,e,x,t,f,v,z,C,B;return w.__generator(this,function(M){m(q.DESKTOP,r.ATF,k.CLIENT_LOAD);a=g["default"].cardRoot.querySelector("#"+u.LANDING_ASIN);if(!a||!a.value)return E["default"].log("ASIN is missing from the side sheet and second call to AAPI.",A.FATAL),m(q.DESKTOP,r.ATF,k.MISSING_ASIN_ERROR),[2];b=g["default"].cardRoot.querySelector("#"+u.OPEN_BUTTON_IMG_DOC_CONT);d=g["default"].cardRoot.querySelector("#"+u.SIDESHEET_CONTENT);c=g["default"].cardRoot.querySelector("#"+
u.DARKENED_BACKGROUND);l=g["default"].cardRoot.querySelector("#"+u.SIDESHEET_CONTENT_BUFFER_SPINNER);e=g["default"].cardRoot.querySelector("#"+u.SIDESHEET_ERROR_ALERT);x=g["default"].cardRoot.querySelector("#"+u.CLOSE_BUTTON);t=[b,d,c,l,e,x];try{J(t)}catch(n){return E["default"].log("Cannot find crucial HTML Elements for rendering Buffet side sheet.",A.FATAL),m(q.DESKTOP,r.ATF,"Cannot find crucial HTML Elements for rendering Buffet side sheet."),[2]}f=aa["default"].setup(["getContent"]);v=!0;z=!1;
b.addEventListener("click",function(n){return w.__awaiter(void 0,void 0,void 0,function(){var p;return w.__generator(this,function(y){switch(y.label){case 0:return n.preventDefault(),m(q.DESKTOP,r.ATF,k.INGRESS_LINK_CLICK),P["default"].showSidesheet(),m(q.DESKTOP,r.ATF,k.SIDESHEET_OPENED),[4,da(v,z,q.DESKTOP,r.ATF,f,u,a.value,l,d,e)];case 1:p=w.__read.apply(void 0,[y.sent(),2]);v=p[0];if(z=p[1])m(q.DESKTOP,r.ATF,k.SIDESHEET_CONTENT_LOADED),C=Date.now();return[2]}})})});B=function(){P["default"].closeSidesheet();
m(q.DESKTOP,r.ATF,k.SIDESHEET_CLOSED);z&&m(q.DESKTOP,r.ATF,k.SIDESHEET_DWELL_TIME,Date.now()-C)};x.addEventListener("click",function(){B()});c.addEventListener("click",function(){B()});return[2]})})}});
