////////////////////////////////////////////
// BEGIN ASSET BooksDesignSystemWebBuzzAssets@BaseAssets-1.0.1150.0
/////////////////////////
// BEGIN FILE bds-hns-integration.js
/////////////////////////
/*


Full source (including license, if applicable) included below.
*/
window.BDS = window.BDS || {};
window.BDS.enableHNSIntegration = true;
/////////////////////////
// END FILE bds-hns-integration.js
/////////////////////////
/////////////////////////
// BEGIN FILE bds-qv-sf-experiment.js
/////////////////////////
/*


Full source (including license, if applicable) included below.
*/
window.BDS = window.BDS || {};
window.BDS.isBDSStarRatingEnabledOnStorefront = false;
/////////////////////////
// END FILE bds-qv-sf-experiment.js
/////////////////////////
/////////////////////////
// BEGIN FILE bds-qv-typ-experiment.js
/////////////////////////
/*


Full source (including license, if applicable) included below.
*/
window.BDS = window.BDS || {};
window.BDS.isBDSStarRatingEnabledOnTYP = false;
/////////////////////////
// END FILE bds-qv-typ-experiment.js
/////////////////////////
/////////////////////////
// BEGIN FILE bds-qv-cc-experiment.js
/////////////////////////
/*


Full source (including license, if applicable) included below.
*/
window.BDS = window.BDS || {};
window.BDS.isBDSStarRatingEnabledOnYourBooks = false;
/////////////////////////
// END FILE bds-qv-cc-experiment.js
/////////////////////////
/////////////////////////
// BEGIN FILE bds-base-assets.js
/////////////////////////
/*


Full source (including license, if applicable) included below.
*/
!function(e){function t(e,t,o,i){var r,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(s=(a<3?r(s):a>3?r(t,o,s):r(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s}function o(e,t,o,i){return new(o||(o=Promise))((function(r,a){function s(e){try{l(i.next(e))}catch(e){a(e)}}function n(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,n)}l((i=i.apply(e,t||[])).next())}))}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function a(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function s(e,t,o,i,r,a,s){try{var n=e[a](s),l=n.value}catch(e){return void o(e)}n.done?t(l):Promise.resolve(l).then(i,r)}function n(e,t,o){return(t=a(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}
/**
     * @license
     * Copyright 2019 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */"function"==typeof SuppressedError&&SuppressedError;var l=window,d=l.ShadowRoot&&(void 0===l.ShadyCSS||l.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,u=Symbol(),b=new WeakMap;class c{constructor(e,t,o){if(this._$cssResult$=!0,o!==u)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){var e=this.o,t=this.t;if(d&&void 0===e){var o=void 0!==t&&1===t.length;o&&(e=b.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),o&&b.set(t,e))}return e}toString(){return this.cssText}}var h,g,p=e=>new c("string"==typeof e?e:e+"",void 0,u),m=function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];var r=1===e.length?e[0]:o.reduce(((t,o,i)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(o)+e[i+1]),e[0]);return new c(r,e,u)},v=d?e=>e:e=>e instanceof CSSStyleSheet?(e=>{var t="";for(var o of e.cssRules)t+=o.cssText;return p(t)})(e):e
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */,f=window,y=f.trustedTypes,_=y?y.emptyScript:"",k=f.reactiveElementPolyfillSupport,w={toAttribute(e,t){switch(t){case Boolean:e=e?_:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){var o=e;switch(t){case Boolean:o=null!==e;break;case Number:o=null===e?null:Number(e);break;case Object:case Array:try{o=JSON.parse(e)}catch(e){o=null}}return o}},x=(e,t)=>t!==e&&(t==t||e==e),S={attribute:!0,type:String,converter:w,reflect:!1,hasChanged:x},T="finalized";class C extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),(null!==(t=this.h)&&void 0!==t?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();var e=[];return this.elementProperties.forEach(((t,o)=>{var i=this._$Ep(o,t);void 0!==i&&(this._$Ev.set(i,o),e.push(i))})),e}static createProperty(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){var o="symbol"==typeof e?Symbol():"__"+e,i=this.getPropertyDescriptor(e,o,t);void 0!==i&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,t,o){return{get(){return this[t]},set(i){var r=this[e];this[t]=i,this.requestUpdate(e,r,o)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||S}static finalize(){if(this.hasOwnProperty(T))return!1;this[T]=!0;var e=Object.getPrototypeOf(this);if(e.finalize(),void 0!==e.h&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var t=this.properties,o=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(var i of o)this.createProperty(i,t[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){var t=[];if(Array.isArray(e)){var o=new Set(e.flat(1/0).reverse());for(var i of o)t.unshift(v(i))}else void 0!==e&&t.push(v(e));return t}static _$Ep(e,t){var o=t.attribute;return!1===o?void 0:"string"==typeof o?o:"string"==typeof e?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,o;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(o=e.hostConnected)||void 0===o||o.call(e))}removeController(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e,t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{d?e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):t.forEach((t=>{var o=document.createElement("style"),i=l.litNonce;void 0!==i&&o.setAttribute("nonce",i),o.textContent=t.cssText,e.appendChild(o)}))})(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,o){this._$AK(e,o)}_$EO(e,t){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,r=this.constructor._$Ep(e,i);if(void 0!==r&&!0===i.reflect){var a=(void 0!==(null===(o=i.converter)||void 0===o?void 0:o.toAttribute)?i.converter:w).toAttribute(t,i.type);this._$El=e,null==a?this.removeAttribute(r):this.setAttribute(r,a),this._$El=null}}_$AK(e,t){var o,i=this.constructor,r=i._$Ev.get(e);if(void 0!==r&&this._$El!==r){var a=i.getPropertyOptions(r),s="function"==typeof a.converter?{fromAttribute:a.converter}:void 0!==(null===(o=a.converter)||void 0===o?void 0:o.fromAttribute)?a.converter:w;this._$El=r,this[r]=s.fromAttribute(t,a.type),this._$El=null}}requestUpdate(e,t,o){var i=!0;void 0!==e&&(((o=o||this.constructor.getPropertyOptions(e)).hasChanged||x)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===o.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,o))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}_$Ej(){var e,t=this;return(e=function*(){t.isUpdatePending=!0;try{yield t._$E_}catch(e){Promise.reject(e)}var e=t.scheduleUpdate();return null!=e&&(yield e),!t.isUpdatePending},function(){var t=this,o=arguments;return new Promise((function(i,r){var a=e.apply(t,o);function n(e){s(a,i,r,n,l,"next",e)}function l(e){s(a,i,r,n,l,"throw",e)}n(void 0)}))})()}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((e,t)=>this[t]=e)),this._$Ei=void 0);var t=!1,o=this._$AL;try{(t=this.shouldUpdate(o))?(this.willUpdate(o),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(o)):this._$Ek()}catch(e){throw t=!1,this._$Ek(),e}t&&this._$AE(o)}}willUpdate(e){}_$AE(e){var t;null===(t=this._$ES)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){void 0!==this._$EC&&(this._$EC.forEach(((e,t)=>this._$EO(t,this[t],e))),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}}C[T]=!0,C.elementProperties=new Map,C.elementStyles=[],C.shadowRootOptions={mode:"open"},null==k||k({ReactiveElement:C}),(null!==(h=f.reactiveElementVersions)&&void 0!==h?h:f.reactiveElementVersions=[]).push("1.6.3");var $=window,A=$.trustedTypes,P=A?A.createPolicy("lit-html",{createHTML:e=>e}):void 0,B="$lit$",R="lit$".concat((Math.random()+"").slice(9),"$"),I="?"+R,z="<".concat(I,">"),L=document,O=()=>L.createComment(""),F=e=>null===e||"object"!=typeof e&&"function"!=typeof e,E=Array.isArray,M="[ \t\n\f\r]",U=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,N=/-->/g,V=/>/g,D=RegExp(">|".concat(M,"(?:([^\\s\"'>=/]+)(").concat(M,"*=").concat(M,"*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),H=/'/g,j=/"/g,G=/^(?:script|style|textarea|title)$/i,W=(e=>function(t){for(var o=arguments.length,i=new Array(o>1?o-1:0),r=1;r<o;r++)i[r-1]=arguments[r];return{_$litType$:e,strings:t,values:i}})(1),Q=Symbol.for("lit-noChange"),q=Symbol.for("lit-nothing"),J=new WeakMap,K=L.createTreeWalker(L,129,null,!1);function X(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==P?P.createHTML(t):t}var Y=(e,t)=>{for(var o,i=e.length-1,r=[],a=2===t?"<svg>":"",s=U,n=0;n<i;n++){for(var l=e[n],d=void 0,u=void 0,b=-1,c=0;c<l.length&&(s.lastIndex=c,null!==(u=s.exec(l)));)c=s.lastIndex,s===U?"!--"===u[1]?s=N:void 0!==u[1]?s=V:void 0!==u[2]?(G.test(u[2])&&(o=RegExp("</"+u[2],"g")),s=D):void 0!==u[3]&&(s=D):s===D?">"===u[0]?(s=null!=o?o:U,b=-1):void 0===u[1]?b=-2:(b=s.lastIndex-u[2].length,d=u[1],s=void 0===u[3]?D:'"'===u[3]?j:H):s===j||s===H?s=D:s===N||s===V?s=U:(s=D,o=void 0);var h=s===D&&e[n+1].startsWith("/>")?" ":"";a+=s===U?l+z:b>=0?(r.push(d),l.slice(0,b)+B+l.slice(b)+R+h):l+R+(-2===b?(r.push(void 0),n):h)}return[X(e,a+(e[i]||"<?>")+(2===t?"</svg>":"")),r]};class Z{constructor(e,t){var o,{strings:i,_$litType$:r}=e;this.parts=[];var a=0,s=0,n=i.length-1,l=this.parts,[d,u]=Y(i,r);if(this.el=Z.createElement(d,t),K.currentNode=this.el.content,2===r){var b=this.el.content,c=b.firstChild;c.remove(),b.append(...c.childNodes)}for(;null!==(o=K.nextNode())&&l.length<n;){if(1===o.nodeType){if(o.hasAttributes()){var h=[];for(var g of o.getAttributeNames())if(g.endsWith(B)||g.startsWith(R)){var p=u[s++];if(h.push(g),void 0!==p){var m=o.getAttribute(p.toLowerCase()+B).split(R),v=/([.?@])?(.*)/.exec(p);l.push({type:1,index:a,name:v[2],strings:m,ctor:"."===v[1]?re:"?"===v[1]?se:"@"===v[1]?ne:ie})}else l.push({type:6,index:a})}for(var f of h)o.removeAttribute(f)}if(G.test(o.tagName)){var y=o.textContent.split(R),_=y.length-1;if(_>0){o.textContent=A?A.emptyScript:"";for(var k=0;k<_;k++)o.append(y[k],O()),K.nextNode(),l.push({type:2,index:++a});o.append(y[_],O())}}}else if(8===o.nodeType)if(o.data===I)l.push({type:2,index:a});else for(var w=-1;-1!==(w=o.data.indexOf(R,w+1));)l.push({type:7,index:a}),w+=R.length-1;a++}}static createElement(e,t){var o=L.createElement("template");return o.innerHTML=e,o}}function ee(e,t){var o,i,r,a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3?arguments[3]:void 0;if(t===Q)return t;var l=void 0!==n?null===(o=s._$Co)||void 0===o?void 0:o[n]:s._$Cl,d=F(t)?void 0:t._$litDirective$;return(null==l?void 0:l.constructor)!==d&&(null===(i=null==l?void 0:l._$AO)||void 0===i||i.call(l,!1),void 0===d?l=void 0:(l=new d(e))._$AT(e,s,n),void 0!==n?(null!==(r=(a=s)._$Co)&&void 0!==r?r:a._$Co=[])[n]=l:s._$Cl=l),void 0!==l&&(t=ee(e,l._$AS(e,t.values),l,n)),t}class te{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t,{el:{content:o},parts:i}=this._$AD,r=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:L).importNode(o,!0);K.currentNode=r;for(var a=K.nextNode(),s=0,n=0,l=i[0];void 0!==l;){if(s===l.index){var d=void 0;2===l.type?d=new oe(a,a.nextSibling,this,e):1===l.type?d=new l.ctor(a,l.name,l.strings,this,e):6===l.type&&(d=new le(a,this,e)),this._$AV.push(d),l=i[++n]}s!==(null==l?void 0:l.index)&&(a=K.nextNode(),s++)}return K.currentNode=L,r}v(e){var t=0;for(var o of this._$AV)void 0!==o&&(void 0!==o.strings?(o._$AI(e,o,t),t+=o.strings.length-2):o._$AI(e[t])),t++}}class oe{constructor(e,t,o,i){var r;this.type=2,this._$AH=q,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=o,this.options=i,this._$Cp=null===(r=null==i?void 0:i.isConnected)||void 0===r||r}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cp}get parentNode(){var e=this._$AA.parentNode,t=this._$AM;return void 0!==t&&11===(null==e?void 0:e.nodeType)&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e){e=ee(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this),F(e)?e===q||null==e||""===e?(this._$AH!==q&&this._$AR(),this._$AH=q):e!==this._$AH&&e!==Q&&this._(e):void 0!==e._$litType$?this.g(e):void 0!==e.nodeType?this.$(e):(e=>E(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator]))(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==q&&F(this._$AH)?this._$AA.nextSibling.data=e:this.$(L.createTextNode(e)),this._$AH=e}g(e){var t,{values:o,_$litType$:i}=e,r="number"==typeof i?this._$AC(e):(void 0===i.el&&(i.el=Z.createElement(X(i.h,i.h[0]),this.options)),i);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===r)this._$AH.v(o);else{var a=new te(r,this),s=a.u(this.options);a.v(o),this.$(s),this._$AH=a}}_$AC(e){var t=J.get(e.strings);return void 0===t&&J.set(e.strings,t=new Z(e)),t}T(e){E(this._$AH)||(this._$AH=[],this._$AR());var t,o=this._$AH,i=0;for(var r of e)i===o.length?o.push(t=new oe(this.k(O()),this.k(O()),this,this.options)):t=o[i],t._$AI(r),i++;i<o.length&&(this._$AR(t&&t._$AB.nextSibling,i),o.length=i)}_$AR(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,o=arguments.length>1?arguments[1]:void 0;for(null===(e=this._$AP)||void 0===e||e.call(this,!1,!0,o);t&&t!==this._$AB;){var i=t.nextSibling;t.remove(),t=i}}setConnected(e){var t;void 0===this._$AM&&(this._$Cp=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class ie{constructor(e,t,o,i,r){this.type=1,this._$AH=q,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=r,o.length>2||""!==o[0]||""!==o[1]?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=q}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=this.strings,a=!1;if(void 0===r)e=ee(this,e,t,0),(a=!F(e)||e!==this._$AH&&e!==Q)&&(this._$AH=e);else{var s,n,l=e;for(e=r[0],s=0;s<r.length-1;s++)(n=ee(this,l[o+s],t,s))===Q&&(n=this._$AH[s]),a||(a=!F(n)||n!==this._$AH[s]),n===q?e=q:e!==q&&(e+=(null!=n?n:"")+r[s+1]),this._$AH[s]=n}a&&!i&&this.j(e)}j(e){e===q?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class re extends ie{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===q?void 0:e}}var ae=A?A.emptyScript:"";class se extends ie{constructor(){super(...arguments),this.type=4}j(e){e&&e!==q?this.element.setAttribute(this.name,ae):this.element.removeAttribute(this.name)}}class ne extends ie{constructor(e,t,o,i,r){super(e,t,o,i,r),this.type=5}_$AI(e){var t;if((e=null!==(t=ee(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,0))&&void 0!==t?t:q)!==Q){var o=this._$AH,i=e===q&&o!==q||e.capture!==o.capture||e.once!==o.once||e.passive!==o.passive,r=e!==q&&(o===q||i);i&&this.element.removeEventListener(this.name,this,o),r&&this.element.addEventListener(this.name,this,e),this._$AH=e}}handleEvent(e){var t,o;"function"==typeof this._$AH?this._$AH.call(null!==(o=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==o?o:this.element,e):this._$AH.handleEvent(e)}}class le{constructor(e,t,o){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=o}get _$AU(){return this._$AM._$AU}_$AI(e){ee(this,e)}}var de=$.litHtmlPolyfillSupport;null==de||de(Z,oe),(null!==(g=$.litHtmlVersions)&&void 0!==g?g:$.litHtmlVersions=[]).push("2.8.0");var ue,be;
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */class ce extends C{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t,o=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=o.firstChild),o}update(e){var t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,o)=>{var i,r,a=null!==(i=null==o?void 0:o.renderBefore)&&void 0!==i?i:t,s=a._$litPart$;if(void 0===s){var n=null!==(r=null==o?void 0:o.renderBefore)&&void 0!==r?r:null;a._$litPart$=s=new oe(t.insertBefore(O(),n),n,void 0,null!=o?o:{})}return s._$AI(e),s})(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return Q}}ce.finalized=!0,ce._$litElement$=!0,null===(ue=globalThis.litElementHydrateSupport)||void 0===ue||ue.call(globalThis,{LitElement:ce});var he=globalThis.litElementPolyfillSupport;null==he||he({LitElement:ce}),(null!==(be=globalThis.litElementVersions)&&void 0!==be?be:globalThis.litElementVersions=[]).push("3.3.3");
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
class ge extends Event{constructor(e,t,o){super("context-request",{bubbles:!0,composed:!0}),this.context=e,this.callback=t,this.subscribe=o}}
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
class pe{constructor(e,t,o,i){var r;if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(e,t)=>{this.unsubscribe&&(this.unsubscribe!==t&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=e,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(e,t)),this.unsubscribe=t},this.host=e,void 0!==t.context){var a=t;this.context=a.context,this.callback=a.callback,this.subscribe=null!==(r=a.subscribe)&&void 0!==r&&r}else this.context=t,this.callback=o,this.subscribe=null!=i&&i;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new ge(this.context,this.t,this.subscribe))}}
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */class me{constructor(e){this.disposers=new Map,this.updateObservers=()=>{for(var[e,t]of this.disposers)e(this.o,t)},void 0!==e&&(this.value=e)}get value(){return this.o}set value(e){this.setValue(e)}setValue(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!Object.is(e,this.o);this.o=e,t&&this.updateObservers()}addCallback(e,t){if(t){this.disposers.has(e)||this.disposers.set(e,(()=>{this.disposers.delete(e)}));var o=this.disposers.get(e);e(this.value,o)}else e(this.value)}clearCallbacks(){this.disposers.clear()}}
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */class ve extends Event{constructor(e){super("context-provider",{bubbles:!0,composed:!0}),this.context=e}}class fe extends me{constructor(e,t,o){super(void 0!==t.context?t.initialValue:o),this.onContextRequest=e=>{e.context===this.context&&e.composedPath()[0]!==this.host&&(e.stopPropagation(),this.addCallback(e.callback,e.subscribe))},this.host=e,void 0!==t.context?this.context=t.context:this.context=t,this.attachListeners(),this.host.addController(this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest)}hostConnected(){this.host.dispatchEvent(new ve(this.context))}}
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
/**
     * @license
     * Copyright 2022 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
function ye(e){var{context:t,subscribe:o}=e;return(e=>{var{finisher:t,descriptor:o}=e;return(e,i)=>{var a;if(void 0===i){var s=null!==(a=e.originalKey)&&void 0!==a?a:e.key,n=null!=o?{kind:"method",placement:"prototype",key:s,descriptor:o(e.key)}:r(r({},e),{},{key:s});return null!=t&&(n.finisher=function(e){t(e,s)}),n}var l=e.constructor;void 0!==o&&Object.defineProperty(e,i,o(i)),null==t||t(l,i)}})({finisher:(e,i)=>{e.addInitializer((e=>{new pe(e,{context:t,callback:t=>{e[i]=t},subscribe:o})}))}})}
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */var _e,ke=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?r(r({},t),{},{finisher(o){o.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(o){o.createProperty(t.key,e)}},we=(e,t,o)=>{t.constructor.createProperty(o,e)};
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */function xe(e){return(t,o)=>void 0!==o?we(e,t,o):ke(e,t)}
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */function Se(e){return xe(r(r({},e),{},{state:!0}))}
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */null===(_e=window.HTMLSlotElement)||void 0===_e||_e.prototype.assignedElements;const Te="render-context",Ce="asin-metadata-context",$e=e=>customElements.get(e)?(console.warn(`BDS Custom Element '${e}' already defined, will not re-define`),()=>{}):(e=>t=>"function"==typeof t?((e,t)=>(customElements.define(e,t),t))(e,t):((e,t)=>{var{kind:o,elements:i}=t;return{kind:o,elements:i,finisher(t){customElements.define(e,t)}}})(e,t))(e);function Ae(e){return function(){const e=document.documentElement;return e.classList.contains("a-mobile")||e.classList.contains("a-tablet")}()&&!function(e){return"iOS"===e.operatingsystem&&"tablet"===e.devicetype&&"detailPage"===e.pagetype}(e)&&!("UICTFontTextStyleBody"===window.getComputedStyle(document.documentElement).getPropertyValue("font-family"))}var Pe;function Be(e,t,o="jpg",i,r=500){return[1,1.5,2,3,4].filter(((e,o)=>e*t<=r||0===o)).map((r=>function(e,t,o="jpg",i){return`https://m.media-amazon.com/images/I/${e}._AC_UY${t}${i?`_FM${i}_`:""}.${o}`}(e,t*r,o,i)+` ${r}x`)).join(", ")}e.RenderContextProvider=Pe=class extends ce{constructor(){super(...arguments),this.marketplace="default",this.devicetype="default",this.operatingsystem="default",this.hostapplication="default",this.pagetype="default",this.theme="light",this.locale="en-US",this.renderContext=new fe(this,{context:Te,initialValue:{marketplace:this.marketplace,devicetype:this.devicetype,operatingsystem:this.operatingsystem,hostapplication:this.hostapplication,pagetype:this.pagetype,theme:this.theme,locale:this.locale}}),this.asinMetadataContext=new fe(this,{context:Ce,initialValue:{asinMetadataCallbacks:[]}})}willUpdate(){this.renderContext.setValue({marketplace:this.marketplace,devicetype:this.devicetype,operatingsystem:this.operatingsystem,hostapplication:this.hostapplication,pagetype:this.pagetype,theme:this.theme,locale:this.locale})}render(){return Ae(this.renderContext.value)?this.classList.add(Pe.AUIMobileTabletRootFontSizeClass):this.classList.remove(Pe.AUIMobileTabletRootFontSizeClass),W`<slot></slot>`}},e.RenderContextProvider.AUIMobileTabletRootFontSizeClass="aui-mobile-tablet-root-font-size",t([xe({type:String,reflect:!0})],e.RenderContextProvider.prototype,"marketplace",void 0),t([xe({type:String,reflect:!0})],e.RenderContextProvider.prototype,"devicetype",void 0),t([xe({type:String,reflect:!0})],e.RenderContextProvider.prototype,"operatingsystem",void 0),t([xe({type:String,reflect:!0})],e.RenderContextProvider.prototype,"hostapplication",void 0),t([xe({type:String,reflect:!0})],e.RenderContextProvider.prototype,"pagetype",void 0),t([xe({type:String,reflect:!0})],e.RenderContextProvider.prototype,"theme",void 0),t([xe({type:String,reflect:!0})],e.RenderContextProvider.prototype,"locale",void 0),e.RenderContextProvider=Pe=t([$e("bds-render-context-provider")],e.RenderContextProvider),e.AsinMetadataContextProvider=class extends ce{constructor(){super(...arguments),this.asinMetadataContext=new fe(this,{context:Ce,initialValue:{asinMetadataCallbacks:[]}})}render(){return W`<slot></slot>`}},e.AsinMetadataContextProvider=t([$e("bds-asin-metadata-context-provider")],e.AsinMetadataContextProvider);var Re=m`
    .coverImageWrapper {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
        margin-bottom: var(--bds-size-spacing-micro);
    }

    .programBadge {
        max-width: 100%;
    }

    .coverImage {
        display: block;
    }

    .coverImageWrapper.contained .coverImage {
        max-width: 100%;
        object-fit: contain;
    }

    .coverImageWrapper.blurredBackdrop {
        margin: 0;
    }

    .coverImageWrapper.blurredBackdrop .coverImageWithBackdrop {
        position: relative;
        width: 100%;
        height: 100%;
    }

    .coverImageWrapper.blurredBackdrop .blurredCoverImageWrapper {
        overflow: hidden;
        height: calc(100% - 2 * var(--bds-size-spacing-small));
        background: rgba(0, 0, 0, 0.03);
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .coverImageWrapper.blurredBackdrop .blurredCoverImageWrapper picture {
        width: 113%;
        height: 113%;
        display: flex;
    }

    .coverImageWrapper.blurredBackdrop .blurredCoverImage {
        filter: blur(7px);
        min-width: 100%;
        min-height: 100%;
        opacity: 0.5;
        object-fit: cover;
    }

    .coverImageWrapper.blurredBackdrop .coverImage {
        position: absolute;
        height: calc(100% - 2 * var(--bds-size-spacing-small));
        max-width: calc(100% - 2 * var(--bds-size-spacing-small));
        object-fit: contain;
        top: var(--bds-size-spacing-small);
        left: 50%;
        transform: translateX(-50%);
    }
`;const Ie=["theme","pagetype","devicetype","operatingsystem","hostapplication","locale","marketplace"];function ze(e,t,o){if(!t||!o)return e;let i=Object.assign({},e);return t.filter((e=>function(e,t){return Object.keys(e).every((o=>e[o]===t[o]))}(e.targeting,o))).sort(((e,t)=>function(e,t){const o=Object.keys(e.targeting).length-Object.keys(t.targeting).length;if(0!==o)return o;let i=0,r=0,a=0;const s=Object.keys(e.targeting),n=Object.keys(t.targeting);for(let e=0;e<s.length;e++){const t=Ie.indexOf(s[e]),o=Ie.indexOf(n[e]);i+=t-o,r=t>r?t:r,a=o>a?o:a}return 0===i?r-a:i}(e,t))).forEach((e=>{i=Object.assign(Object.assign({},i),e.overrides)})),i}class Le extends ce{getRenderConfiguration(){return ze(this.getDefaultConfiguration(),this.getConfigurationOverrides(),this.renderContext)}}
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
function Oe(e,t,o){return e?t():null==o?void 0:o()}
/**
     * @license
     * Copyright 2020 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */t([ye({context:Te,subscribe:!0})],Le.prototype,"renderContext",void 0);var Fe=1,Ee=2,Me=e=>function(){for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return{_$litDirective$:e,values:o}};
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */class Ue{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,o){this._$Ct=e,this._$AM=t,this._$Ci=o}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */var Ne=(e,t)=>{var o,i,r=e._$AN;if(void 0===r)return!1;for(var a of r)null===(i=(o=a)._$AO)||void 0===i||i.call(o,t,!1),Ne(a,t);return!0},Ve=e=>{var t,o;do{if(void 0===(t=e._$AM))break;(o=t._$AN).delete(e),e=t}while(0===(null==o?void 0:o.size))},De=e=>{for(var t;t=e._$AM;e=t){var o=t._$AN;if(void 0===o)t._$AN=o=new Set;else if(o.has(e))break;o.add(e),Ge(t)}};function He(e){void 0!==this._$AN?(Ve(this),this._$AM=e,De(this)):this._$AM=e}function je(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this._$AH,r=this._$AN;if(void 0!==r&&0!==r.size)if(t)if(Array.isArray(i))for(var a=o;a<i.length;a++)Ne(i[a],!1),Ve(i[a]);else null!=i&&(Ne(i,!1),Ve(i));else Ne(this,e)}var Ge=e=>{var t,o,i,r;e.type==Ee&&(null!==(t=(i=e)._$AP)&&void 0!==t||(i._$AP=je),null!==(o=(r=e)._$AQ)&&void 0!==o||(r._$AQ=He))};class We extends Ue{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,o){super._$AT(e,t,o),De(this),this.isConnected=e._$AU}_$AO(e){var t,o,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e!==this.isConnected&&(this.isConnected=e,e?null===(t=this.reconnected)||void 0===t||t.call(this):null===(o=this.disconnected)||void 0===o||o.call(this)),i&&(Ne(this,e),Ve(this))}setValue(e){if((e=>void 0===e.strings)(this._$Ct))this._$Ct._$AI(e,this);else{var t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}
/**
     * @license
     * Copyright 2020 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */var Qe=()=>new qe;class qe{}var Je,Ke=new WeakMap,Xe=Me(class extends We{render(e){return q}update(e,t){var o,[i]=t,r=i!==this.G;return r&&void 0!==this.G&&this.ot(void 0),(r||this.rt!==this.lt)&&(this.G=i,this.dt=null===(o=e.options)||void 0===o?void 0:o.host,this.ot(this.lt=e.element)),q}ot(e){var t;if("function"==typeof this.G){var o=null!==(t=this.dt)&&void 0!==t?t:globalThis,i=Ke.get(o);void 0===i&&(i=new WeakMap,Ke.set(o,i)),void 0!==i.get(this.G)&&this.G.call(this.dt,void 0),i.set(this.G,e),void 0!==e&&this.G.call(this.dt,e)}else this.G.value=e}get rt(){var e,t,o;return"function"==typeof this.G?null===(t=Ke.get(null!==(e=this.dt)&&void 0!==e?e:globalThis))||void 0===t?void 0:t.get(this.G):null===(o=this.G)||void 0===o?void 0:o.value}disconnected(){this.rt===this.lt&&this.ot(void 0)}reconnected(){this.ot(this.lt)}}),Ye=e=>null!=e?e:q,Ze=m`
    :host {
        line-height: 0;
    }
`;
/**
     * @license
     * Copyright 2018 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */e.ProgramBadge=Je=class extends ce{constructor(){super(...arguments),this.badgeExtension=Je.DEFAULT_BADGE_EXTENSION,this.badgeImageHeightPx=14}shouldRenderBadge(){return!!this.badgePhysicalId}renderBadge(){var e,t,o;return this.badgePhysicalId?W`<img
            style="height: ${this.badgeImageHeightPx}px;"
            class="programBadge"
            alt="${null!==(e=this.badgeAltText)&&void 0!==e?e:""}"
            src="${t=this.badgePhysicalId,o=this.badgeExtension||Je.DEFAULT_BADGE_EXTENSION,`https://m.media-amazon.com/images/I/${t}.${o}`}" />`:q}render(){return Oe(this.shouldRenderBadge(),(()=>this.renderBadge()))}},e.ProgramBadge.styles=Ze,e.ProgramBadge.DEFAULT_BADGE_EXTENSION="svg",t([xe({type:String})],e.ProgramBadge.prototype,"badgePhysicalId",void 0),t([xe({type:String})],e.ProgramBadge.prototype,"badgeAltText",void 0),t([xe({type:String})],e.ProgramBadge.prototype,"badgeExtension",void 0),t([xe({type:Number})],e.ProgramBadge.prototype,"badgeImageHeightPx",void 0),e.ProgramBadge=Je=t([$e("bds-program-badge")],e.ProgramBadge);const et=e=>p(`\n        overflow: hidden;\n        text-overflow: ellipsis;\n        display: -webkit-box;\n        -webkit-line-clamp: ${e};\n        -webkit-box-orient: vertical;\n    `),tt=e=>{try{return e/parseInt(getComputedStyle(document.documentElement).fontSize)}catch(t){return e/16}};e.BookCoverImage=class extends Le{constructor(){super(...arguments),this.imageRef=Qe(),this.layout="fixedHeight",this.badgeExtension=e.ProgramBadge.DEFAULT_BADGE_EXTENSION}getImageSource(){var e;return null===(e=this.imageRef.value)||void 0===e?void 0:e.currentSrc}getDefaultConfiguration(){return{coverImageHeightPx:266,containedImageWidthPx:150,containedImageHeightPx:180,blurredBackdropHeightPx:146,blurredBackdropWidthRem:tt(150),blurredBackdropCoverImageHeightPx:130,badgeImageHeightPx:14,badgeMarginSizePx:4}}getConfigurationOverrides(){return[{targeting:{devicetype:"tablet"},overrides:{coverImageHeightPx:210}},{targeting:{devicetype:"mobile"},overrides:{coverImageHeightPx:210,badgeImageHeightPx:10}},{targeting:{pagetype:"detailPage"},overrides:{badgeImageHeightPx:11,coverImageHeightPx:160}},{targeting:{pagetype:"detailPage",devicetype:"mobile"},overrides:{badgeImageHeightPx:11,coverImageHeightPx:160}},{targeting:{pagetype:"detailPage",devicetype:"tablet"},overrides:{badgeImageHeightPx:11,coverImageHeightPx:160}},{targeting:{pagetype:"detailPage",devicetype:"desktop"},overrides:{badgeImageHeightPx:11,coverImageHeightPx:160}}]}shouldRenderBadge(){return!!this.badgePhysicalId}getImageRenderHeight(e){return("contained"===this.layout?e.containedImageHeightPx:e.coverImageHeightPx)-(this.shouldRenderBadge()?e.badgeImageHeightPx+e.badgeMarginSizePx:0)}renderCoverImageWithBlurredBackdrop(e){var t;const o=Be(this.coverImagePhysicalId,e.blurredBackdropCoverImageHeightPx,"jpg","webp"),i=Be(this.coverImagePhysicalId,e.blurredBackdropCoverImageHeightPx);return W`
            <div class="coverImageWithBackdrop">
                <div class="blurredCoverImageWrapper" aria-hidden="true">
                    <picture>
                        <source srcset="${o}" type="image/webp" />
                        <img srcset="${i}" class="blurredCoverImage" />
                    </picture>
                </div>
                <picture>
                    <source srcset="${o}" type="image/webp" />
                    <img
                        ${Xe(this.imageRef)}
                        srcset="${i}"
                        class="coverImage"
                        alt="${null!==(t=this.coverImageAltText)&&void 0!==t?t:""}" />
                </picture>
            </div>
        `}renderCoverImage(e){var t;const o=this.getImageRenderHeight(e),i=o/2;return W`
            <bds-program-badge
                badgePhysicalId=${Ye(this.badgePhysicalId)}
                badgeAltText=${Ye(this.badgeAltText)}
                badgeExtension=${this.badgeExtension}
                badgeImageHeightPx=${e.badgeImageHeightPx}
                style="margin-bottom: ${e.badgeMarginSizePx}px">
            </bds-program-badge>
            <picture>
                <source
                    srcset="
                        ${Be(this.coverImagePhysicalId,o,"jpg","webp")}
                    "
                    type="image/webp" />
                <img
                    ${Xe(this.imageRef)}
                    srcset="
                        ${Be(this.coverImagePhysicalId,o)}
                    "
                    style="max-height: ${o}px; min-height: ${i}px;"
                    height="${Ye("contained"!=this.layout?o:void 0)}"
                    class="coverImage"
                    alt="${null!==(t=this.coverImageAltText)&&void 0!==t?t:""}" />
            </picture>
        `}getCoverImageWrapperStyles(e){switch(this.layout){case"contained":return`\n                    height: ${e.coverImageHeightPx}px;\n                    max-height: ${e.containedImageHeightPx}px;\n                    width: ${e.containedImageWidthPx}px;\n                `;case"blurredBackdrop":return`\n                    height: ${e.blurredBackdropHeightPx}px;\n                    width: ${e.blurredBackdropWidthRem}rem;\n                `;default:return`height: ${e.coverImageHeightPx}px;`}}render(){const e=this.getRenderConfiguration();return W`
            <div
                class="coverImageWrapper ${this.layout}"
                style="${this.getCoverImageWrapperStyles(e)}">
                ${Oe("blurredBackdrop"===this.layout,(()=>this.renderCoverImageWithBlurredBackdrop(e)),(()=>this.renderCoverImage(e)))}
            </div>`}},e.BookCoverImage.styles=Re,t([xe({type:String})],e.BookCoverImage.prototype,"layout",void 0),t([xe({type:String})],e.BookCoverImage.prototype,"coverImagePhysicalId",void 0),t([xe({type:String})],e.BookCoverImage.prototype,"coverImageAltText",void 0),t([xe({type:String})],e.BookCoverImage.prototype,"badgePhysicalId",void 0),t([xe({type:String})],e.BookCoverImage.prototype,"badgeAltText",void 0),t([xe({type:String})],e.BookCoverImage.prototype,"badgeExtension",void 0),e.BookCoverImage=t([$e("bds-book-cover-image")],e.BookCoverImage);var ot=m`
    :host {
        color: var(--bds-color-font-primary);
        font-size: var(--bds-size-font-base);
        font-weight: var(--bds-weight-font-base);
        line-height: var(--bds-size-line-height-base);
    }

    .unified-book-faceout {
        width: min-content;
        display: flex;
        flex-direction: row;
    }

    .unified-book-faceout.blurredBackdrop {
        border-radius: 4px;
        box-shadow: 0px 4px 12px 0px rgba(0, 0, 0, 0.25);
        overflow: hidden;
        background: var(--bds-color-background-base);
        height: 100%;
    }

    .unified-book-faceout.blurredBackdrop .ubf-metadata {
        padding: 0 var(--bds-size-spacing-small) var(--bds-size-spacing-small);
    }

    a {
        text-decoration: none;
    }
`,it=m`
    :host {
        font-family: var(--bds-font-family-body);
    }

    .sponsored {
        color: var(--bds-color-font-secondary);
        font-size: var(--bds-size-font-small);
        line-height: var(--bds-size-line-height-base);
    }

    .info-icon {
        margin-left: var(--bds-size-spacing-mini);
    }

    .mobile .info-icon,
    .tablet .info-icon {
        display: none;
    }
`;e.BookSponsored=class extends ce{constructor(){super(...arguments),this.isSponsored=!1}render(){return Oe(this.isSponsored,(()=>{var e;return W`<div class="sponsored ${null===(e=this.renderContext)||void 0===e?void 0:e.devicetype}">
                Sponsored
                <img
                    class="info-icon"
                    alt=""
                    src="https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/info.svg" />
            </div>`}))}},e.BookSponsored.styles=it,t([xe({type:Boolean})],e.BookSponsored.prototype,"isSponsored",void 0),t([ye({context:Te,subscribe:!0})],e.BookSponsored.prototype,"renderContext",void 0),e.BookSponsored=t([$e("bds-book-sponsored")],e.BookSponsored);var rt=m`
    :host {
        font-family: var(--bds-font-family-body);
    }

    .bookTitleContent {
        min-width: min(140px, 100%);
    }

    a {
        text-decoration: none;
    }

    .primaryText,
    .primaryText a {
        color: var(--bds-color-font-primary);
    }

    .primaryText {
        font-size: var(--bds-size-font-base);
        line-height: var(--bds-size-line-height-base);

        ${et(2)};
    }

    .secondaryText,
    .tertiaryText {
        color: var(--bds-color-font-secondary);
        font-size: var(--bds-size-font-small);
        line-height: var(--bds-size-line-height-base);

        ${et(2)};
    }

    .secondaryText a,
    .tertiaryText a {
        color: var(--bds-color-font-link);
    }

    .secondaryText a:hover,
    .tertiaryText a:hover {
        text-decoration: underline;
    }
`;e.BookTitleContent=class extends ce{constructor(){super(...arguments),this.suppressPrimaryAria=!1,this.suppressSecondaryAria=!1,this.suppressTertiaryAria=!1}renderTitleSlot(e,t,o=!1){if(!Array.isArray(t)||!t.length)return q;const i=t.map(((e,i)=>{const r=i<(null==t?void 0:t.length)-1?", ":"";return e.enableLink&&e.url?W`<a
                    @click=${e.handleClick}
                    href="${e.url}"
                    aria-hidden="${o}"
                    tabindex="${o?-1:0}"
                    >${e.displayText}${r}
                </a>`:W`<span aria-hidden="${o}"
                    >${e.displayText}${r}</span
                >`}));return W`<div class="${e}">${i}</div>`}render(){var e;return this.primaryTitleContent||this.secondaryTitleContent||this.tertiaryTitleContent?W`<div class="bookTitleContent ${Ye(null===(e=this.renderContext)||void 0===e?void 0:e.devicetype)}">
                ${this.renderTitleSlot("primaryText",this.primaryTitleContent,this.suppressPrimaryAria)}
                ${this.renderTitleSlot("secondaryText",this.secondaryTitleContent,this.suppressSecondaryAria)}
                ${this.renderTitleSlot("tertiaryText",this.tertiaryTitleContent,this.suppressTertiaryAria)}
            </div> `:q}},e.BookTitleContent.styles=rt,t([xe({type:Array,attribute:!1})],e.BookTitleContent.prototype,"primaryTitleContent",void 0),t([xe({type:Array,attribute:!1})],e.BookTitleContent.prototype,"secondaryTitleContent",void 0),t([xe({type:Array,attribute:!1})],e.BookTitleContent.prototype,"tertiaryTitleContent",void 0),t([xe({type:Boolean})],e.BookTitleContent.prototype,"suppressPrimaryAria",void 0),t([xe({type:Boolean})],e.BookTitleContent.prototype,"suppressSecondaryAria",void 0),t([xe({type:Boolean})],e.BookTitleContent.prototype,"suppressTertiaryAria",void 0),t([ye({context:Te,subscribe:!0})],e.BookTitleContent.prototype,"renderContext",void 0),e.BookTitleContent=t([$e("bds-book-title-content")],e.BookTitleContent);var at=m`
    :host {
        font-family: var(--bds-font-family-body);
    }

    .starRating {
        display: flex;
        align-items: center;
        font-size: var(--bds-size-font-base);
        line-height: var(--bds-size-line-height-base);
        padding-bottom: var(--bds-size-spacing-mini);
        padding-top: var(--bds-size-spacing-mini);
        white-space: nowrap;
    }

    .starRating.desktop {
        font-size: var(--bds-size-font-small);
    }

    .stars {
        align-items: center;
        display: flex;
        flex-shrink: 0;
    }

    .starRatingLinkDisabled,
    .starRatingLink {
        text-decoration: none;
        align-items: center;
        display: flex;
    }

    .starRatingLink:hover {
        text-decoration: underline;
        text-decoration-color: var(--bds-color-font-link);
    }

    .fullStar,
    .halfStar,
    .emptyStar {
        height: var(--bds-size-icon-star-height-small);
        width: var(--bds-size-icon-star-width-small);
    }

    .halfStar:dir(rtl) {
        transform: scaleX(-1);
    }

    .numberOfReviews {
        color: var(--bds-color-font-secondary);
        margin-left: var(--bds-size-spacing-mini);
    }

    .starRatingLink .numberOfReviews {
        color: var(--bds-color-font-link);
    }

    .starRating.mini .fullStar,
    .starRating.mini .halfStar,
    .starRating.mini .emptyStar {
        height: var(--bds-size-icon-star-height-mini);
        width: var(--bds-size-icon-star-width-mini);
    }

    .starRating.medium .fullStar,
    .starRating.medium .halfStar,
    .starRating.medium .emptyStar {
        height: var(--bds-size-icon-star-height-medium);
        width: var(--bds-size-icon-star-width-medium);
    }

    .starRating.mini {
        font-size: var(--bds-size-font-mini);
    }
`,st={resources:{bds_audible_sample_button_label:"Audible Sample",bds_author_follow_label:"✓ Following",bds_author_unfollow_label:"+ Follow",bds_download_sample_label:"Download Sample",bds_blurb_read_full_article_label:"Read Full Article",bds_ubf_book_single_other_format_label:"Other format:",bds_ubf_book_other_formats_label:"Other formats:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} more",sample_text:"Sample text here",sample_button:"Click sample {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} reviews",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},nt={resources:{bds_audible_sample_button_label:"Ejemplo de Audible",bds_author_follow_label:"✓ Siguiendo",bds_author_unfollow_label:"+ Seguir",bds_download_sample_label:"Descargar fragmento",bds_blurb_read_full_article_label:"Leer artículo completo",bds_ubf_book_single_other_format_label:"Otro formato:",bds_ubf_book_other_formats_label:"Otros formatos:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} más",sample_text:"Fragmento aquí",sample_button:"Haz clic en el fragmento {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} reseñas",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},lt={resources:{bds_audible_sample_button_label:"Extrait du livre audio Audible",bds_author_follow_label:"✓ Suivi",bds_author_unfollow_label:"+ Suivre",bds_download_sample_label:"Télécharger l’extrait",bds_blurb_read_full_article_label:"Lire l'article dans son intégralité",bds_ubf_book_single_other_format_label:"Autre format :",bds_ubf_book_other_formats_label:"Autres formats :",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} supplémentaires",sample_text:"Vous trouverez ici un extrait",sample_button:"Cliquez sur un extrait {stringText}{numberValue}{stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} évaluations",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},dt={resources:{bds_audible_sample_button_label:"Amostra do Audible",bds_author_follow_label:"✓ Seguindo",bds_author_unfollow_label:"+ Seguir",bds_download_sample_label:"Fazer download da amostra",bds_blurb_read_full_article_label:"Leia o artigo completo",bds_ubf_book_single_other_format_label:"Outro formato:",bds_ubf_book_other_formats_label:"Outros formatos:",bds_ubf_book_other_formats_more_text:"+ outros {numberOfFormats} formatos",sample_text:"Texto da amostra aqui",sample_button:"Clique na amostra {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} avaliações",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}};const ut={"ar-AE":{resources:{bds_audible_sample_button_label:"عيّنة Audible",bds_author_follow_label:"✓ جارية المتابعة",bds_author_unfollow_label:"+ متابعة",bds_download_sample_label:"تنزيل العيّنة",bds_blurb_read_full_article_label:"اقرأ المقال كاملاً",bds_ubf_book_single_other_format_label:"تنسيق آخر:",bds_ubf_book_other_formats_label:"تنسيقات أخرى:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} من التنسيقات الإضافية",sample_text:"العيّنة النصية هنا",sample_button:"انقر فوق العيّنة {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}، {numberOfReviews} من المراجعات",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},"bn-IN":{resources:{bds_audible_sample_button_label:"Audible নমুনা",bds_author_follow_label:"✓ অনুসরণ করছেন",bds_author_unfollow_label:"+ অনুসরণ করুন",bds_download_sample_label:"নমুনা ডাউনলোড করুন",bds_blurb_read_full_article_label:"সম্পূর্ণ নিবন্ধ পড়ুন",bds_ubf_book_single_other_format_label:"অন্যান্য ফর্ম্যাট:",bds_ubf_book_other_formats_label:"অন্যান্য ফর্ম্যাট:",bds_ubf_book_other_formats_more_text:"+ আরও {numberOfFormats}",sample_text:"এখানে নমুনা সংক্রান্ত পাঠ্য",sample_button:"নমুনা {stringText}{numberValue}{stringText} এ ক্লিক করুন",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} রিভিউ",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},"cs-CZ":{resources:{bds_audible_sample_button_label:"Ukázka Audible",bds_author_follow_label:"✓ Sledovaný",bds_author_unfollow_label:"+ Sledovat",bds_download_sample_label:"Stáhnout ukázku",bds_blurb_read_full_article_label:"Přečíst celý článek",bds_ubf_book_single_other_format_label:"Jiný formát:",bds_ubf_book_other_formats_label:"Jiné formáty:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} další",sample_text:"Ukázkový text zde",sample_button:"Ukázka ke kliknutí {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, počet recenzí:{numberOfReviews}",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},"de-DE":{resources:{bds_audible_sample_button_label:"Audible-Hörprobe",bds_author_follow_label:"✓ Abonniert",bds_author_unfollow_label:"+ Abonnieren",bds_download_sample_label:"Leseprobe herunterladen",bds_blurb_read_full_article_label:"Vollständigen Artikel lesen",bds_ubf_book_single_other_format_label:"Anderes Format:",bds_ubf_book_other_formats_label:"Andere Formate:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} weitere",sample_text:"Beispieltext hier",sample_button:"Leseprobe anklicken{stringText}{numberValue}{stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} Rezensionen",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},"en-AE":st,"en-AU":st,"en-CA":st,"en-GB":st,"en-IN":st,"en-NG":st,"en-SG":st,"en-US":st,"en-ZA":st,"es-ES":nt,"es-MX":nt,"es-US":nt,"fr-BE":lt,"fr-CA":lt,"fr-FR":lt,"he-IL":{resources:{bds_audible_sample_button_label:"דוגמית של Audible",bds_author_follow_label:"✓ עוקבים",bds_author_unfollow_label:"+ מעקב",bds_download_sample_label:"הורדת דוגמית",bds_blurb_read_full_article_label:"קרא את המאמר המלא",bds_ubf_book_single_other_format_label:"פורמט אחר:",bds_ubf_book_other_formats_label:"פורמטים אחרים:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} נוספים",sample_text:"טקסט לדוגמה כאן",sample_button:"יש ללחוץ על דוגמית {stringText}{numberValue}{stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} ביקורות",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},"hi-IN":{resources:{bds_audible_sample_button_label:"ऑडिबल सैम्पल",bds_author_follow_label:"फ़ॉलो कर रहे हैं",bds_author_unfollow_label:"+ फॉलो करें",bds_download_sample_label:"नमूना डाउनलोड करें",bds_blurb_read_full_article_label:"पूरा लेख पढ़ें",bds_ubf_book_single_other_format_label:"अन्य फ़ॉर्मेट:",bds_ubf_book_other_formats_label:"अन्य प्रारूप:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} अधिक",sample_text:"सैम्पल टेक्स्ट यहां",sample_button:"सैम्पल {stringText} {numberValue} {stringText}पर क्लिक करें",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} समीक्षाएं",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},"it-IT":{resources:{bds_audible_sample_button_label:"Estratto Audible",bds_author_follow_label:"✓ Storie seguite",bds_author_unfollow_label:"+ Segui",bds_download_sample_label:"Scarica estratto",bds_blurb_read_full_article_label:"Leggi l'articolo completo",bds_ubf_book_single_other_format_label:"Altro formato:",bds_ubf_book_other_formats_label:"Altri formati:",bds_ubf_book_other_formats_more_text:"+ altri {numberOfFormats}",sample_text:"Testo dell'estratto qui",sample_button:"Fai clic su un estratto {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} recensioni",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},"ja-JP":{resources:{bds_audible_sample_button_label:"Audible サンプル",bds_author_follow_label:"✓ フォロー",bds_author_unfollow_label:"+ フォロー",bds_download_sample_label:"サンプルのダウンロード",bds_blurb_read_full_article_label:"記事の全文を読む",bds_ubf_book_single_other_format_label:"その他のフォーマット:",bds_ubf_book_other_formats_label:"その他のフォーマット:",bds_ubf_book_other_formats_more_text:"{numberOfFormats} 以上",sample_text:"サンプル テキストはこちら",sample_button:"サンプル {stringText} {numberValue} {stringText} をクリック",bds_star_rating_review_count_summary:{value:"{ratingSummary} ({numberOfReviews} 件のレビュー)",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},"kn-IN":{resources:{bds_audible_sample_button_label:"Audible ಮಾದರಿ",bds_author_follow_label:"✓ ಈ ಕೆಳಗಿನ",bds_author_unfollow_label:"+ ಅನುಸರಿಸಿ",bds_download_sample_label:"ಮಾದರಿಯನ್ನು ಡೌನ್‌ಲೋಡ್ ಮಾಡಿ",bds_blurb_read_full_article_label:"ಪೂರ್ಣ ಲೇಖನವನ್ನು ಓದಿ",bds_ubf_book_single_other_format_label:"ಇತರ ಫಾರ್ಮ್ಯಾಟ್:",bds_ubf_book_other_formats_label:"ಇತರ ಫಾರ್ಮ್ಯಾಟ್‌ಗಳು:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} ಇನ್ನಷ್ಟು",sample_text:"ಮಾದರಿ ಪಠ್ಯ ಇಲ್ಲಿದೆ",sample_button:"ಮಾದರಿಯನ್ನು ಕ್ಲಿಕ್ ಮಾಡಿ {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} ವಿಮರ್ಶೆಗಳು",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},"ko-KR":{resources:{bds_audible_sample_button_label:"Audible 샘플",bds_author_follow_label:"✓ 팔로우하는 중",bds_author_unfollow_label:"+ 팔로우",bds_download_sample_label:"샘플 다운로드",bds_blurb_read_full_article_label:"전체 기사 읽기",bds_ubf_book_single_other_format_label:"기타 형식:",bds_ubf_book_other_formats_label:"기타 형식:",bds_ubf_book_other_formats_more_text:"+{numberOfFormats}개 더 보기",sample_text:"샘플 텍스트 위치",sample_button:"샘플 클릭 {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews}개의 리뷰",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},"ml-IN":{resources:{bds_audible_sample_button_label:"Audible സാമ്പിൾ",bds_author_follow_label:"✓ പിന്തുടരുന്നു",bds_author_unfollow_label:"+ പിന്തുടരുക",bds_download_sample_label:"സാമ്പിൾ ഡൗൺലോഡുചെയ്യുക",bds_blurb_read_full_article_label:"മുഴുവൻ ലേഖനവും വായിക്കുക",bds_ubf_book_single_other_format_label:"മറ്റ് ഫോർമാറ്റ്:",bds_ubf_book_other_formats_label:"മറ്റ് ഫോർമാറ്റുകൾ:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} കൂടുതൽ",sample_text:"സാമ്പിൾ ടെക്‌സ്‌റ്റ് ഇവിടെ നൽകുക",sample_button:"സാമ്പിൾ ക്ലിക്ക് ചെയ്യുക {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} അവലോകനങ്ങൾ",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},"mr-IN":{resources:{bds_audible_sample_button_label:"Audible नमुना",bds_author_follow_label:"✓ खालील",bds_author_unfollow_label:"+ फॉलो करा",bds_download_sample_label:"नमुना डाउनलोड करा",bds_blurb_read_full_article_label:"संपूर्ण लेख वाचा",bds_ubf_book_single_other_format_label:"इतर स्वरूप:",bds_ubf_book_other_formats_label:"इतर स्वरूपने:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} अधिक",sample_text:"येथे नमुना मजकूर",sample_button:"{stringText} {numberValue} {stringText} नमुना क्लिक करा",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} पुनरावलोकने",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},"nl-NL":{resources:{bds_audible_sample_button_label:"Audible-fragment",bds_author_follow_label:"✓ Volgend",bds_author_unfollow_label:"+ Volgen",bds_download_sample_label:"Fragment downloaden",bds_blurb_read_full_article_label:"Het volledige artikel lezen",bds_ubf_book_single_other_format_label:"Andere indeling:",bds_ubf_book_other_formats_label:"Andere uitvoeringen:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} meer",sample_text:"Tekst van fragment hier",sample_button:"Klik op fragment {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} recensies",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},"pl-PL":{resources:{bds_audible_sample_button_label:"Fragment z Audible",bds_author_follow_label:"✓ Obserwujesz",bds_author_unfollow_label:"+ Obserwuj",bds_download_sample_label:"Pobierz fragment",bds_blurb_read_full_article_label:"Przeczytaj cały artykuł",bds_ubf_book_single_other_format_label:"Inny format:",bds_ubf_book_other_formats_label:"Inne formaty:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} więcej",sample_text:"Fragment tekstu tutaj",sample_button:"Kliknij fragment {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} recenzje",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},"pt-BR":dt,"pt-PT":dt,"sv-SE":{resources:{bds_audible_sample_button_label:"Hörbart prov",bds_author_follow_label:"Följer",bds_author_unfollow_label:"+ Följ",bds_download_sample_label:"Ladda ned prov",bds_blurb_read_full_article_label:"Läs hela artikeln",bds_ubf_book_single_other_format_label:"Annat format:",bds_ubf_book_other_formats_label:"Andra format:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} till",sample_text:"Textprov här",sample_button:"Klicka på prov{stringText}{numberValue}{stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} recensioner",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},"ta-IN":{resources:{bds_audible_sample_button_label:"கேட்கக்கூடிய மாதிரி",bds_author_follow_label:"✓ பின்பற்றுதல்",bds_author_unfollow_label:"+ பின்பற்றவும்",bds_download_sample_label:"மாடலை பதிவிறக்குக",bds_blurb_read_full_article_label:"முழு கட்டுரையைப் படிக்கவும்",bds_ubf_book_single_other_format_label:"பிற வடிவம்:",bds_ubf_book_other_formats_label:"பிற வடிவங்கள்:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} மேலும்",sample_text:"மாடல் உரை இங்கே உள்ளது",sample_button:"{stringText} {numberValue} {stringText}மாதிரியைக் கிளிக் செய்க",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} மதிப்புரைகள்",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},"te-IN":{resources:{bds_audible_sample_button_label:"వినదగిన నమూనా",bds_author_follow_label:"✓ అనుసరిస్తున్నారు",bds_author_unfollow_label:"+ అనుసరించండి",bds_download_sample_label:"నమూనాను డౌన్‌లోడ్ చేయండి",bds_blurb_read_full_article_label:"పూర్తి కథనాన్ని చదవండి",bds_ubf_book_single_other_format_label:"మరో ఫార్మాట్:",bds_ubf_book_other_formats_label:"ఇతర ఫార్మాట్‌లలో:",bds_ubf_book_other_formats_more_text:"మరో + {numberOfFormats}",sample_text:"నమూనా టెక్స్ట్ ఇక్కడ ఉంది",sample_button:"నమూనాని క్లిక్ చేయండి {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} సమీక్షలు",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},"tr-TR":{resources:{bds_audible_sample_button_label:"Audible Örneği",bds_author_follow_label:"✓ Takip ediliyor",bds_author_unfollow_label:"+ Takip et",bds_download_sample_label:"Örnek Parça İndir",bds_blurb_read_full_article_label:"Makalenin Tamamını Oku",bds_ubf_book_single_other_format_label:"Diğer biçim:",bds_ubf_book_other_formats_label:"Diğer biçimler:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} daha",sample_text:"Örnek metin buraya gelecek",sample_button:"Örneğe tıklayın {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} değerlendirme",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},"zh-CN":{resources:{bds_audible_sample_button_label:"Audible 样章",bds_author_follow_label:"✓ 已关注",bds_author_unfollow_label:"+ 关注",bds_download_sample_label:"下载样章",bds_blurb_read_full_article_label:"阅读全文",bds_ubf_book_single_other_format_label:"其他格式：",bds_ubf_book_other_formats_label:"其他格式：",bds_ubf_book_other_formats_more_text:"更多 {numberOfFormats} 个格式",sample_text:"此处为样章文本",sample_button:"单击样章 {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}，{numberOfReviews} 条评论",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}},"zh-TW":{resources:{bds_audible_sample_button_label:"Audible 試讀本",bds_author_follow_label:"✓ 正在關注",bds_author_unfollow_label:"+ 關注",bds_download_sample_label:"下載試讀本",bds_blurb_read_full_article_label:"閱讀完整文章",bds_ubf_book_single_other_format_label:"其他格式：",bds_ubf_book_other_formats_label:"其他格式：",bds_ubf_book_other_formats_more_text:"+ 多 {numberOfFormats} 個",sample_text:"試讀本文字於此",sample_button:"按一下試讀本 {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}，{numberOfReviews} 則評論",note:"This text is used as an ARIA a11y label after the star rating, e.g. '{3 out of 5 stars}, {50 reviews}' when focusing an ASIN's review stars component"}}}},bt="en-US";function ct(e,t,o){var i,r,a;const s=(null===(r=null===(i=ut[null!=t?t:bt])||void 0===i?void 0:i.resources)||void 0===r?void 0:r[e])||(null===(a=ut[bt].resources)||void 0===a?void 0:a[e])||"";return void 0===o?ht(s):function(e,t){for(const o in t){if(!e.includes(o))return"";const i=new RegExp("{"+o+"}","g");e=e.replace(i,t[o])}return e}(ht(s),o)}function ht(e){return"object"==typeof e?e.value:e}var gt;e.StarRating=gt=class extends ce{constructor(){super(...arguments),this.hideEmptyStars=!1,this.layout="small",this.onClick=e=>{this.handleClick&&(e.preventDefault(),this.handleClick())}}getNumberofReviewsDisplayString(){var e,t;return this.numberOfReviewsDisplayString?this.numberOfReviewsDisplayString:null===(e=this.numberOfReviews)||void 0===e?void 0:e.toLocaleString(null===(t=this.renderContext)||void 0===t?void 0:t.locale)}getAriaLabel(){var e;const t=this.getNumberofReviewsDisplayString();return this.altText&&t?ct("bds_star_rating_review_count_summary",null===(e=this.renderContext)||void 0===e?void 0:e.locale,{ratingSummary:this.altText,numberOfReviews:t})||`${this.altText}, ${t}`:this.altText?this.altText:t||""}renderReviewStarAndCount(){const e=[];for(let t=0;t<this.numberOfStars;t++)e.push(W`<img class="fullStar" alt="" src=${gt.STAR_FULL_ICON_URL} />`);if(this.hasHalfStar&&e.push(W`<img class="halfStar" alt="" src=${gt.STAR_HALF_ICON_URL} />`),!this.hideEmptyStars){const t=gt.MAX_REVIEW_STARS-this.numberOfStars-(this.hasHalfStar?1:0);for(let o=0;o<t;o++)e.push(W`<img class="emptyStar" alt="" src=${gt.STAR_EMPTY_ICON_URL} />`)}return W`
            <span class="stars">${e}</span>
            ${Oe(this.numberOfReviewsDisplayString||this.numberOfReviews&&this.numberOfReviews>0,(()=>W`
                    <span class="numberOfReviews" aria-hidden="true">
                        ${this.getNumberofReviewsDisplayString()}
                    </span>
                `))}
        `}render(){var e;return W`<div class="starRating ${null===(e=this.renderContext)||void 0===e?void 0:e.devicetype} ${this.layout}">
            ${this.reviewUrl&&this.enableReviewsLink||this.handleClick?W`
                      <a
                          href="${Ye(this.reviewUrl&&this.enableReviewsLink?this.reviewUrl:void 0)}"
                          @click=${this.onClick}
                          class="starRatingLink"
                          aria-label=${Ye(this.getAriaLabel())}>
                          ${this.renderReviewStarAndCount()}
                      </a>
                  `:W`
                      <span
                          class="starRatingLinkDisabled"
                          aria-label=${Ye(this.getAriaLabel())}
                          role="text">
                          ${this.renderReviewStarAndCount()}
                      </span>
                  `}
        </div>`}},e.StarRating.MAX_REVIEW_STARS=5,e.StarRating.STAR_FULL_ICON_URL="https://m.media-amazon.com/images/G/01/Kindle/GenrePage/star.svg",e.StarRating.STAR_HALF_ICON_URL="https://m.media-amazon.com/images/G/01/Kindle/GenrePage/star-half.svg",e.StarRating.STAR_EMPTY_ICON_URL="https://m.media-amazon.com/images/G/01/Kindle/GenrePage/star-empty.svg",e.StarRating.styles=at,t([xe({type:Number})],e.StarRating.prototype,"numberOfStars",void 0),t([xe({type:Boolean})],e.StarRating.prototype,"hasHalfStar",void 0),t([xe({type:String})],e.StarRating.prototype,"numberOfReviewsDisplayString",void 0),t([xe({type:Number})],e.StarRating.prototype,"numberOfReviews",void 0),t([xe({type:String})],e.StarRating.prototype,"reviewUrl",void 0),t([xe({type:Boolean})],e.StarRating.prototype,"enableReviewsLink",void 0),t([xe({type:Boolean})],e.StarRating.prototype,"hideEmptyStars",void 0),t([xe({type:String})],e.StarRating.prototype,"layout",void 0),t([xe({type:String})],e.StarRating.prototype,"altText",void 0),t([xe()],e.StarRating.prototype,"handleClick",void 0),t([ye({context:Te,subscribe:!0})],e.StarRating.prototype,"renderContext",void 0),e.StarRating=gt=t([$e("bds-star-rating")],e.StarRating);var pt=m`
    :host {
        font-family: var(--bds-font-family-body);
    }

    .badge-container {
        white-space: nowrap;
        font-size: var(--bds-size-font-small);
        line-height: var(--bds-size-line-height-base-plus);
    }

    .badge {
        background-color: var(--bds-color-background-badge);
        color: var(--bds-color-font-badge);
        display: inline-block;
        margin-bottom: var(--bds-size-spacing-mini);
        padding: 0 5px;
        vertical-align: top;
    }

    .badge-container .badge {
        background-color: #565959;
    }

    .badge-container .stylized-edge {
        border-top-color: #565959;
    }

    .stylized-edge {
        border-top-color: var(--bds-color-background-badge);
        border-top-width: var(--bds-size-line-height-base-plus);
        border-top-style: solid;
        border-right: 9px solid transparent;
        display: inline-block;
        vertical-align: top;
    }

    .stylized-edge:dir(rtl) {
        transform: scaleX(-1);
    }

    .secondaryText {
        color: #11100f;
        font-family: var(--bds-font-family-body);
    }
`;e.BookMetadataBadge=class extends ce{render(){return Oe(this.giftGuideBadgeLabel,(()=>W`<div class="badge-container">
                <span class="badge">${this.giftGuideBadgeLabel}</span><span class="stylized-edge"></span> ${Oe(this.secondaryText,(()=>W`<span class="secondaryText">${this.secondaryText}</span>`))}
            </div>`))}},e.BookMetadataBadge.styles=pt,t([xe({type:String})],e.BookMetadataBadge.prototype,"giftGuideBadgeLabel",void 0),t([xe({type:String})],e.BookMetadataBadge.prototype,"secondaryText",void 0),e.BookMetadataBadge=t([$e("bds-book-metadata-badge")],e.BookMetadataBadge);var mt=m`
    :host {
        font-family: var(--bds-font-family-body);
    }

    .format {
        color: var(--bds-color-font-secondary);
        font-size: var(--bds-size-font-base);
        font-weight: var(--bds-weight-font-base);
        line-height: var(--bds-size-line-height-base);
        margin-bottom: var(--bds-size-spacing-mini);

        ${et(1)};
    }
`;e.BookFormat=class extends ce{render(){return Oe(this.format,(()=>{var e;return W`<div class="format ${null===(e=this.renderContext)||void 0===e?void 0:e.devicetype}">${this.format}</div>`}))}},e.BookFormat.styles=mt,t([xe({type:String})],e.BookFormat.prototype,"format",void 0),t([ye({context:Te,subscribe:!0})],e.BookFormat.prototype,"renderContext",void 0),e.BookFormat=t([$e("bds-book-format")],e.BookFormat);var vt=[m`
    :host {
        font-family: var(--bds-font-family-body);
    }

    .price {
        color: var(--bds-color-font-primary);
        margin-bottom: var(--bds-size-spacing-mini);
        font-size: var(--bds-size-font-base-plus);
        line-height: var(--bds-size-line-height-base);
    }

    .priceMessage {
        color: var(--bds-color-font-secondary);
        margin-bottom: var(--bds-size-spacing-mini);
        font-size: var(--bds-size-font-small);
        line-height: var(--bds-size-line-height-small);
    }

    .currencySymbol {
        font-size: var(--bds-size-font-mini);
        line-height: var(--bds-size-font-mini);
        vertical-align: 20%;
    }
`,m`
        .offscreen {
            position: absolute;
            z-index: -1;
            opacity: 0;
            clip: rect(0, 0, 0, 0);
        }
    `];e.BookPrice=class extends ce{isPriceFormatPartsValid(){return this.priceFormatParts&&this.priceFormatParts.displayString&&this.priceFormatParts.displayFieldOrder&&this.priceFormatParts.displayFields&&this.priceFormatParts.displayFields.currencySymbol&&this.priceFormatParts.displayFields.integerValue}renderPrice(e){return W`<div class="price">${e}</div>`}renderPriceMessage(e,t){return W`<div class="priceMessage">${e} ${t}</div>`}renderPriceFormatParts(){var e,t;return W`
            <div class="price">
                <span class="offscreen">${null===(e=this.priceFormatParts)||void 0===e?void 0:e.displayString}</span>
                ${null===(t=this.priceFormatParts)||void 0===t?void 0:t.displayFieldOrder.filter((e=>{var t,o;return!!(null===(o=null===(t=this.priceFormatParts)||void 0===t?void 0:t.displayFields)||void 0===o?void 0:o[e])})).map((e=>{var t;return W`<span class="${e}" aria-hidden="true"
                                >${null===(t=this.priceFormatParts)||void 0===t?void 0:t.displayFields[e]}</span
                            >`}))}
            </div>
        `}render(){return this.youPayPromotion&&this.youPayPromotion.youPayAmount&&this.youPayPromotion.basePrice&&this.youPayPromotion.promotionMessage?[this.renderPrice(this.youPayPromotion.youPayAmount),this.renderPriceMessage(this.youPayPromotion.basePrice,this.youPayPromotion.promotionMessage)]:this.isPriceFormatPartsValid()?this.renderPriceFormatParts():this.priceFormatParts&&this.priceFormatParts.displayString?this.renderPrice(this.priceFormatParts.displayString):this.unstylizedPrice?this.renderPrice(this.unstylizedPrice):q}},e.BookPrice.styles=vt,t([xe({type:String})],e.BookPrice.prototype,"unstylizedPrice",void 0),t([xe({type:Object})],e.BookPrice.prototype,"priceFormatParts",void 0),t([xe({type:Object})],e.BookPrice.prototype,"youPayPromotion",void 0),e.BookPrice=t([$e("bds-book-price")],e.BookPrice);var ft=m`
    :host {
        font-family: var(--bds-font-family-body);
    }

    .points {
        color: var(--bds-color-font-secondary);
        font-size: var(--bds-size-font-base);
        font-weight: var(--bds-weight-font-base);
        line-height: var(--bds-size-line-height-base);
        margin-bottom: var(--bds-size-spacing-mini);

        ${et(1)};
    }
`;e.BookPoints=class extends ce{getPointsDisplay(){var e;return(null===(e=this.pointsV2)||void 0===e?void 0:e.displayString)?this.pointsV2.displayString:this.points?this.points:""}render(){var e;return this.points||this.pointsV2?W`<div class="points ${null===(e=this.renderContext)||void 0===e?void 0:e.devicetype}">
                ${this.getPointsDisplay()}
            </div>`:q}},e.BookPoints.styles=ft,t([xe({type:String})],e.BookPoints.prototype,"points",void 0),t([xe({type:Object})],e.BookPoints.prototype,"pointsV2",void 0),t([ye({context:Te,subscribe:!0})],e.BookPoints.prototype,"renderContext",void 0),e.BookPoints=t([$e("bds-book-points")],e.BookPoints);var yt=m`
    :host {
        font-family: var(--bds-font-family-body);
    }

    .formats {
        color: var(--bds-color-font-secondary);
        font-weight: var(--bds-weight-font-base);
        margin-bottom: var(--bds-size-spacing-mini);
        line-height: var(--bds-size-line-height-base);
        font-size: var(--bds-size-font-base);
    }

    .formats.larger-text {
        font-size: var(--bds-size-font-base-plus);
        line-height: var(--bds-size-line-height-base-plus);
    }

    .formats a {
        color: var(--bds-color-font-secondary);
        font-weight: var(--bds-weight-font-base);
        margin-bottom: var(--bds-size-spacing-mini);
        line-height: var(--bds-size-line-height-base);
        font-size: var(--bds-size-font-base);
    }

    .formats.larger-text a {
        font-size: var(--bds-size-font-base-plus);
        line-height: var(--bds-size-line-height-base-plus);
    }
`;e.BookOtherFormats=class extends Le{getDefaultConfiguration(){return{enableLargerText:!1,disableIndividualFormatLinks:!1}}getConfigurationOverrides(){return[{targeting:{devicetype:"mobile"},overrides:{disableIndividualFormatLinks:!0}},{targeting:{devicetype:"tablet"},overrides:{disableIndividualFormatLinks:!0}},{targeting:{devicetype:"desktop"},overrides:{enableLargerText:!0}}]}render(){var e,t;const o=this.getRenderConfiguration();if(!Array.isArray(this.allFormats)||!this.allFormats.length)return q;let i=[];const r=Math.min(this.allFormats.length,void 0!==this.numFormatsToShow?this.numFormatsToShow:3);if(i=[...this.allFormats].splice(0,r).map((e=>o.disableIndividualFormatLinks?e.displayString:W`<a href="${e.detailUrl}"> ${e.displayString} </a>`)),this.allFormats.length>r){const t=this.allFormats.length-r,a=ct("bds_ubf_book_other_formats_more_text",null===(e=this.renderContext)||void 0===e?void 0:e.locale,{numberOfFormats:t});!o.disableIndividualFormatLinks&&this.detailPage?i.push(W`<a href="${this.detailPage}"> ${a} </a>`):i.push(W`${a}`)}const a=
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
function*(e,t){var o="function"==typeof t;if(void 0!==e){var i=-1;for(var r of e)i>-1&&(yield o?t(i):t),i++,yield r}}(i,W`<span aria-hidden="true">, </span>`),s=ct(1===r?"bds_ubf_book_single_other_format_label":"bds_ubf_book_other_formats_label",null===(t=this.renderContext)||void 0===t?void 0:t.locale);return W`<div class="formats ${o.enableLargerText?"larger-text":""}">
            ${s}
            ${o.disableIndividualFormatLinks&&this.detailPage?W`<a href="${this.detailPage}"> ${a} </a>`:a}
        </div>`}},e.BookOtherFormats.styles=yt,t([xe({type:String})],e.BookOtherFormats.prototype,"detailPage",void 0),t([xe({type:Number})],e.BookOtherFormats.prototype,"numFormatsToShow",void 0),t([xe({type:Array,attribute:!1})],e.BookOtherFormats.prototype,"allFormats",void 0),e.BookOtherFormats=t([$e("bds-book-other-formats")],e.BookOtherFormats);var _t=m`
    .blurb-wrapper {
        min-height: 295px;
        min-width: 231px;
        width: min-content;
        display: grid;
        grid-template-columns: 11px auto;
        box-sizing: border-box;
        word-wrap: break-word;
        word-break: break-word;
        font-family: var(--bds-font-family-body);
        color: var(--bds-color-font-primary);
        padding-left: var(--bds-size-spacing-mini);
    }

    .blurb-wrapper.compact {
        min-height: 295px;
        min-width: 160px;
    }

    .blurb-container {
        display: flex;
        flex-direction: column;
        position: relative;
        border-style: solid;
        padding: var(--bds-size-spacing-small-plus);
        line-height: var(--bds-size-line-height-base);
        border-width: var(--bds-size-border-thin);
        border-color: var(--bds-color-border-medium);
        border-left-width: var(--bds-size-border-extra-thick);
        border-left-color: #28a7dd;
    }

    .compact .blurb-container {
        padding: var(--bds-size-spacing-mini-plus);
        line-height: var(--bds-size-line-height-small);
    }

    .pointer-arrow {
        clip-path: polygon(
            0px 105px,
            10px 114px,
            10px 100%,
            11px 100%,
            11px 96px,
            11px 0%,
            10px 0%,
            10px 96px,
            0px 105px
        );
        background: #28a7dd;
    }

    a.blurb-container-link {
        color: unset;
        text-decoration: none;
        height: 100%;
    }

    .blurb-quote {
        display: block;
        align-self: flex-start;
        border: 0;
        height: 35px;
    }

    .compact .blurb-quote {
        height: 23px;
    }

    .blurb-text-container {
        margin-bottom: var(--bds-size-spacing-mini-plus);
    }

    .blurb-text {
        position: relative;
        font-size: var(--bds-size-font-base);
        padding-top: var(--bds-size-spacing-mini);
        margin-top: 0;
    }

    .blurb-text::after {
        content: '';
        position: absolute;
        pointer-events: none;
        height: var(--bds-size-spacing-medium);
        background: linear-gradient(to bottom, transparent, var(--bds-color-background-base));
        visibility: var(--fade-out-overlay-visibility, hidden);
        left: 0;
        bottom: 0;
        width: 100%;
    }

    a.read-full-article-link {
        text-decoration: none;
        cursor: pointer;
        display: block;
        color: var(--bds-color-font-link);
    }

    a.read-full-article-link:hover {
        text-decoration: underline;
    }

    .blurb-author-bottom-align {
        margin-top: auto;
    }

    .blurb-card-line {
        height: 5px;
        width: 45px;
        background-color: #28a7dd;
    }

    .compact .blurb-card-line {
        width: 35px;
    }

    .blurb-contributor-container {
        display: flex;
        padding-block: var(--bds-size-spacing-small);
        font-size: var(--bds-size-font-base-plus);
        min-height: 45px;
    }

    .compact .blurb-contributor-container {
        display: block;
        padding-block: var(--bds-size-spacing-mini-plus);
    }

    .blurb-contributor-details {
        padding-left: var(--bds-size-spacing-small);
    }

    .compact .blurb-contributor-details {
        padding-left: 0;
    }

    .blurb-contributor-image {
        position: relative;
        vertical-align: top;
        height: 45px;
        width: 45px;
        border-radius: 50%;
    }

    .compact .blurb-contributor-image {
        vertical-align: top;
        height: 34px;
        width: 34px;
    }

    .blurb-contributor-head {
        color: var(--bds-color-font-secondary);
    }

    a.blurb-contributor-subhead {
        text-decoration: none;
        font-weight: var(--bds-weight-font-heavy);
        color: var(--bds-color-font-selected);
    }

    a.blurb-contributor-subhead:hover {
        text-decoration: underline;
    }
`;let kt=class extends Le{getDefaultConfiguration(){return{displayMode:"default"}}getConfigurationOverrides(){return[{targeting:{devicetype:"mobile"},overrides:{displayMode:"compact"}}]}firstUpdated(){this.updateBlurbContextOnOverflow()}updated(e){e.has("blurbMetadata")&&this.updateBlurbContextOnOverflow()}updateBlurbContextOnOverflow(){const e=this.renderRoot.querySelector(".blurb-text");e instanceof HTMLElement&&(e.scrollHeight>e.clientHeight?e.style.setProperty("--fade-out-overlay-visibility","visible"):e.style.setProperty("--fade-out-overlay-visibility","hidden"))}shouldRenderBlurb(){var e,t;const o=!!(null===(e=this.blurbMetadata)||void 0===e?void 0:e.blurbText);return!!(null===(t=this.blurbMetadata)||void 0===t?void 0:t.blurbRefUrl)&&o}renderBlurbTextContainer(){var e,t;const o=function(e){if("string"!=typeof e)return!1;try{return new URL(e).protocol.startsWith("http")}catch(e){return!1}}(null===(e=this.blurbMetadata)||void 0===e?void 0:e.articleRefUrl);return W` <div class="blurb-text-container">
            <div class="blurb-text" .style="${Oe(o,(()=>et(7)))}">
                ${null===(t=this.blurbMetadata)||void 0===t?void 0:t.blurbText}
            </div>
            ${Oe(o,(()=>{var e,t;return W`<a
                    href="${Ye(null===(e=this.blurbMetadata)||void 0===e?void 0:e.articleRefUrl)}"
                    class="read-full-article-link"
                    >${ct("bds_blurb_read_full_article_label",null===(t=this.renderContext)||void 0===t?void 0:t.locale)}</a
                >`}))}
        </div>`}renderContributorContainer(){var e,t,o;const i=!!(null===(e=this.blurbMetadata)||void 0===e?void 0:e.contributorImageUrl),r=!!(null===(t=this.blurbMetadata)||void 0===t?void 0:t.contributorSubHeading);return Oe(!!(null===(o=this.blurbMetadata)||void 0===o?void 0:o.contributorHeading),(()=>{var e;return W` <div class="blurb-contributor-container">
                ${Oe(i,(()=>{var e;return W` <div aria-hidden="true" class="blurb-contributor-image-container">
                        <img
                            alt=""
                            src="${Ye(null===(e=this.blurbMetadata)||void 0===e?void 0:e.contributorImageUrl)}"
                            class="blurb-contributor-image" />
                    </div>`}))}
                <div class="blurb-contributor-details">
                    <div>
                        <span class="blurb-contributor-head"
                            >${null===(e=this.blurbMetadata)||void 0===e?void 0:e.contributorHeading}</span
                        >
                    </div>
                    ${Oe(r,(()=>{var e,t;return W` <div>
                            <a
                                class="blurb-contributor-subhead"
                                href="${Ye(null===(e=this.blurbMetadata)||void 0===e?void 0:e.contributorRefUrl)}">
                                ${null===(t=this.blurbMetadata)||void 0===t?void 0:t.contributorSubHeading}</a
                            >
                        </div>`}))}
                </div>
            </div>`}))}render(){const e=this.getRenderConfiguration();return W` ${Oe(this.shouldRenderBlurb(),(()=>{var t;return W` <div class="blurb-wrapper ${e.displayMode}">
                <div class="pointer-arrow"></div>
                <div class="blurb-container">
                    <img
                        alt=""
                        class="blurb-quote"
                        src="https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/blurbQuote.svg"
                        aria-hidden="true" />
                    <a
                        class="blurb-container-link"
                        href="${Ye(null===(t=this.blurbMetadata)||void 0===t?void 0:t.blurbRefUrl)}">
                        ${this.renderBlurbTextContainer()}
                    </a>
                    <div class="blurb-author-bottom-align">
                        <div class="blurb-card-line"></div>
                        ${this.renderContributorContainer()}
                    </div>
                </div>
            </div>`}))}`}};kt.styles=_t,t([xe({type:Object})],kt.prototype,"blurbMetadata",void 0),kt=t([$e("bds-book-blurb")],kt);const wt=[{targeting:{pagetype:"primeReadingStorefront",devicetype:"desktop"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:void 0,enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!0}}},{targeting:{pagetype:"primeReadingStorefront",devicetype:"mobile",hostapplication:"kindle",operatingsystem:"android"},overrides:{bookTitleContentConfiguration:{primaryText:"author",enablePrimaryLink:!1,suppressPrimaryAria:!1,secondaryText:void 0,enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}}],xt=[{targeting:{pagetype:"kuStorefront",devicetype:"desktop"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:void 0,enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!0}}},{targeting:{pagetype:"kuStorefront",devicetype:"mobile"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!1,secondaryText:void 0,enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1}}},{targeting:{pagetype:"kuStorefront",devicetype:"mobile",operatingsystem:"iOS",hostapplication:"kindle"},overrides:{bookTitleContentConfiguration:void 0}},{targeting:{pagetype:"kuStorefront",devicetype:"mobile",operatingsystem:"android",hostapplication:"kindle"},overrides:{bookTitleContentConfiguration:{primaryText:"author",enablePrimaryLink:!0,suppressPrimaryAria:!1,secondaryText:void 0,enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!0}}},{targeting:{pagetype:"kuStorefront",devicetype:"tablet",hostapplication:"default"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!1,secondaryText:void 0,enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!0}}},{targeting:{pagetype:"kuStorefront",devicetype:"tablet",operatingsystem:"iOS"},overrides:{bookTitleContentConfiguration:void 0}},{targeting:{pagetype:"kuStorefront",devicetype:"tablet",hostapplication:"mShop",operatingsystem:"android"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!1,secondaryText:void 0,enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1}}},{targeting:{pagetype:"kuStorefront",devicetype:"tablet",hostapplication:"kindle",operatingsystem:"android"},overrides:{bookTitleContentConfiguration:void 0}}],St=[{targeting:{pagetype:"eBooksTYP"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:void 0,enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!0},bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},enableBookPoints:!0,enableProgramBadge:!0}},{targeting:{pagetype:"eBooksTYP",devicetype:"mobile"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:void 0,enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}},{targeting:{pagetype:"eBooksTYP",devicetype:"tablet"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:void 0,enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}},{targeting:{pagetype:"eBooksTYP",devicetype:"desktop"},overrides:{enableBookFormat:!0}},{targeting:{pagetype:"eBooksTYP",operatingsystem:"iOS",hostapplication:"kindle"},overrides:{bookPriceConfiguration:{enableBookPrice:!1,enableQuickView:!1},enableBookPoints:!1}},{targeting:{pagetype:"eBooksTYP",operatingsystem:"iOS",hostapplication:"mShop"},overrides:{bookPriceConfiguration:{enableBookPrice:!1,enableQuickView:!1},enableBookPoints:!1}}],Tt=[{targeting:{marketplace:"AAHKV2X7AFYLW"},overrides:{fontFamilyCSSVariable:"--bds-font-family-china"}},{targeting:{marketplace:"A1VC38T7YXB528"},overrides:{fontFamilyCSSVariable:"--bds-font-family-japan",enableBookPoints:!0}}].concat([{targeting:{pagetype:"storefront"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!0,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!0},bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},enableBookPoints:!0,enableBookMetadataBadge:!0,enableProgramBadge:!0}},{targeting:{pagetype:"storefront",devicetype:"desktop"},overrides:{enableBookFormat:!0}},{targeting:{pagetype:"storefront",devicetype:"mobile"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}},{targeting:{pagetype:"storefront",devicetype:"tablet"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}},{targeting:{pagetype:"storefront",operatingsystem:"iOS",hostapplication:"kindle"},overrides:{bookPriceConfiguration:{enableBookPrice:!1,enableQuickView:!1},enableBookPoints:!1}},{targeting:{pagetype:"storefront",operatingsystem:"iOS",hostapplication:"mShop"},overrides:{bookPriceConfiguration:{enableBookPrice:!1,enableQuickView:!1},enableBookPoints:!1}}]).concat([{targeting:{pagetype:"multiFormatConfig"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!0,suppressSecondaryAria:!1,tertiaryText:"author",enableTertiaryLink:!0,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!0},enableBookFormat:!0,enableBookMetadataBadge:!0,enableBookPoints:!0,bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},enableBookSponsored:!1,enableBookFormats:!0,enableBookBlurb:!0}},{targeting:{pagetype:"multiFormatConfig",devicetype:"mobile"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:"author",enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}},{targeting:{pagetype:"multiFormatConfig",devicetype:"tablet"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!0,suppressSecondaryAria:!1,tertiaryText:"author",enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}},{targeting:{pagetype:"multiFormatConfig",hostapplication:"mShop",operatingsystem:"iOS"},overrides:{enableBookPoints:!1,bookPriceConfiguration:{enableBookPrice:!1,enableQuickView:!1}}},{targeting:{pagetype:"multiFormatConfig",hostapplication:"kindle",operatingsystem:"iOS"},overrides:{enableBookPoints:!1,bookPriceConfiguration:{enableBookPrice:!1,enableQuickView:!1}}}]).concat(wt).concat(xt).concat(St).concat([{targeting:{pagetype:"detailPage"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!0,suppressSecondaryAria:!1,tertiaryText:"author",enableTertiaryLink:!0,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!0},bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},enableBookPoints:!0,enableBookFormat:!0,enableBookFormats:!1}},{targeting:{pagetype:"detailPage",devicetype:"mobile"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:"author",enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}},{targeting:{pagetype:"detailPage",devicetype:"tablet"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:"author",enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}},{targeting:{pagetype:"detailPage",operatingsystem:"iOS",hostapplication:"kindle"},overrides:{bookPriceConfiguration:{enableBookPrice:!1,enableQuickView:!1},enableBookPoints:!1}},{targeting:{pagetype:"detailPage",operatingsystem:"iOS",hostapplication:"mShop"},overrides:{bookPriceConfiguration:{enableBookPrice:!1,enableQuickView:!1},enableBookPoints:!1}}]),Ct="bds-";var $t;!function(e){e.FATAL="FATAL",e.ERROR="ERROR",e.WARN="WARN"}($t||($t={}));class At{static logCountMetric(...e){var t;const o=this.getMetricName(e);null===(t=window.ue)||void 0===t||t.count(o,1)}static getMetricName(e){return Ct.concat(e.join("-"))}static logJSErrorMetric(e,t,o,i){var r;const a={logLevel:t,attribution:Ct.concat(o),message:i};null===(r=window.ue)||void 0===r||r.ueLogError(e,a)}}const Pt={openWebPage:e=>{window.location.assign(e)},isQuickViewEnabled:()=>{var e,t,o;return"true"===(null!==(t=null===(e=document.querySelector("meta[name='x-feature-quickview-enabled']"))||void 0===e?void 0:e.getAttribute("content"))&&void 0!==t?t:void 0)&&!!(null===(o=window.qv)||void 0===o?void 0:o.launchQuickView)},openQuickView:(e=0,t,o,i)=>{var r;if(0===t.asinMetadataCallbacks.length||e<0||e>=t.asinMetadataCallbacks.length||!(null===(r=window.qv)||void 0===r?void 0:r.launchQuickView))return At.logCountMetric("quickview-error"),void Pt.openWebPage(o);const a=t.asinMetadataCallbacks.map((e=>e()));At.logCountMetric("quickview-launched"),window.qv.launchQuickView({initialIndex:e,asins:a,title:i})}};e.UnifiedBookFaceout=class extends Le{constructor(){super(...arguments),this.asinIndex=0,this.bookImageRef=Qe(),this.position=0,this.isSponsored=!1,this.hasHalfStar=!1,this.handleClick=e=>{var t;Pt.isQuickViewEnabled()&&(null===(t=this.asinContext)||void 0===t?void 0:t.asinMetadataCallbacks)&&this.detailPageUrl&&(e.preventDefault(),Pt.openQuickView(this.asinIndex,this.asinContext,this.detailPageUrl))}}getDefaultConfiguration(){return{enableBookFormat:!1,enableProgramBadge:!1,enableBookMetadataBadge:!1,enableBookPoints:!1,enableBookSponsored:!1,enableBookFormats:!1,enableBookBlurb:!1,bookTitleContentConfiguration:void 0,starRatingConfiguration:void 0,bookCoverImageConfiguration:void 0,bookPriceConfiguration:void 0,fontFamilyCSSVariable:"--bds-font-family-body"}}getConfigurationOverrides(){return Tt}firstUpdated(){var e;this.setAsinContextForQuickView(),At.logCountMetric("ubf-displayed"),At.logCountMetric("ubf-displayed",`${null===(e=this.renderContext)||void 0===e?void 0:e.pagetype}`)}get badgeLabel(){return this.giftGuideBadgeLabel}set badgeLabel(e){this.giftGuideBadgeLabel=e}getTitleContentForSlot(e,t){var o,i,r,a,s,n,l,d,u,b,c,h;switch(e){case"title":return this.bookTitle?[{displayText:this.bookTitle,url:this.detailPageUrl,enableLink:t,handleClick:this.handleClick}]:void 0;case"author":{const e=this.byLineV2?(c=this.byLineV2,h=null!=t&&t,c.contributors.map((e=>{var t;return{displayText:e.name,url:null===(t=e.links.find((e=>"authorPageUrl"===e.rel)))||void 0===t?void 0:t.url,enableLink:h}}))):void 0;return e||[{displayText:null!==(o=this.bookAuthor)&&void 0!==o?o:"",url:null!==(i=this.bookAuthorLinkUrl)&&void 0!==i?i:this.detailPageUrl,enableLink:t}]}case"seriesBullet":return[{displayText:null!==(d="mobile"===(null===(r=this.renderContext)||void 0===r?void 0:r.devicetype)?null===(s=null===(a=this.seriesBullet)||void 0===a?void 0:a.message)||void 0===s?void 0:s.shortMessage:null===(l=null===(n=this.seriesBullet)||void 0===n?void 0:n.message)||void 0===l?void 0:l.longMessage)&&void 0!==d?d:"",url:null===(b=null===(u=this.seriesBullet)||void 0===u?void 0:u.link)||void 0===b?void 0:b.url,enableLink:t}];default:return}}getTitleContentConfiguration(e){var t,o,i,r,a,s;return{primaryTitleContent:this.getTitleContentForSlot(null===(t=e.bookTitleContentConfiguration)||void 0===t?void 0:t.primaryText,null===(o=e.bookTitleContentConfiguration)||void 0===o?void 0:o.enablePrimaryLink),secondaryTitleContent:this.getTitleContentForSlot(null===(i=e.bookTitleContentConfiguration)||void 0===i?void 0:i.secondaryText,null===(r=e.bookTitleContentConfiguration)||void 0===r?void 0:r.enableSecondaryLink),tertiaryTitleContent:this.getTitleContentForSlot(null===(a=e.bookTitleContentConfiguration)||void 0===a?void 0:a.tertiaryText,null===(s=e.bookTitleContentConfiguration)||void 0===s?void 0:s.enableTertiaryLink)}}getBookCoverImageAriaLabel(){return this.badgePhysicalId&&this.badgeAltText&&this.coverImageAltText?this.badgeAltText+", "+this.coverImageAltText:this.coverImageAltText?this.coverImageAltText:""}renderBookCoverImage(){return W`
            <bds-book-cover-image
                coverImagePhysicalId=${this.coverImagePhysicalId}
                coverImageAltText=${this.coverImageAltText}
                layout=${Ye(this.coverImageLayout)}
                badgePhysicalId=${Ye(this.badgePhysicalId)}
                badgeAltText=${Ye(this.badgeAltText)}
                badgeExtension=${Ye(this.badgeExtension)}
                ${Xe(this.bookImageRef)}>
            </bds-book-cover-image>
        `}onHoverHandler(e){!function(e,t,o){if("desktop"===(null==t?void 0:t.devicetype)&&"primeReadingStorefront"===(null==t?void 0:t.pagetype)&&o){const t={detail:{event:o},bubbles:!0,composed:!0};e.dispatchEvent(new CustomEvent("hoverEventOnKuAndPRRDesktop",t))}}(this,this.renderContext,e)}setAsinContextForQuickView(){var e;this.asin&&(null===(e=this.asinContext)||void 0===e?void 0:e.asinMetadataCallbacks)&&(this.asinIndex=this.asinContext.asinMetadataCallbacks.length,this.asinContext.asinMetadataCallbacks.push(this.getQuickViewMetadata.bind(this)))}getQuickViewMetadata(){var e,t;const o=(null===(e=this.byLineV2)||void 0===e?void 0:e.contributors)?this.byLineV2.contributors.map((e=>e.name)).join(", "):this.bookAuthor;return{asin:this.asin||"",physicalId:this.coverImagePhysicalId,title:this.bookTitle,imageUrl:null===(t=this.bookImageRef.value)||void 0===t?void 0:t.getImageSource(),authors:o,detailPageLink:this.detailPageUrl,binding:this.format,reviewStars:this.numberOfStars,reviewCount:this.numberOfReviews}}render(){var e,t;At.logCountMetric("ubf-rendered");const o=this.getRenderConfiguration();return W`
            <div
                class="unified-book-faceout ${this.coverImageLayout}"
                style="font-family: var(${o.fontFamilyCSSVariable})"
                @mouseenter=${e=>this.onHoverHandler(e)}>
                <div class="ubf-book-info">
                    ${Oe(!(null===(e=o.bookCoverImageConfiguration)||void 0===e?void 0:e.disableBookCoverImage),(()=>this.detailPageUrl?W`<a
                                  href="${Ye(this.detailPageUrl)}"
                                  @click=${this.handleClick}
                                  aria-label=${this.getBookCoverImageAriaLabel()}>
                                  ${this.renderBookCoverImage()}
                              </a>`:W`<div aria-label=${this.getBookCoverImageAriaLabel()}>
                                  ${this.renderBookCoverImage()}
                              </div>`))}
                    <div class="ubf-metadata">
                        ${Oe(o.enableBookSponsored,(()=>W`
                                <bds-book-sponsored
                                    ?isSponsored=${this.isSponsored}></bds-book-sponsored>
                            `))}
                        ${Oe(o.bookTitleContentConfiguration,(()=>{var e,t,i;const r=this.getTitleContentConfiguration(o);return W`
                                <bds-book-title-content
                                    .primaryTitleContent=${r.primaryTitleContent}
                                    ?suppressPrimaryAria=${null===(e=o.bookTitleContentConfiguration)||void 0===e?void 0:e.suppressPrimaryAria}
                                    .secondaryTitleContent=${r.secondaryTitleContent}
                                    ?suppressSecondaryAria=${null===(t=o.bookTitleContentConfiguration)||void 0===t?void 0:t.suppressSecondaryAria}
                                    .tertiaryTitleContent=${r.tertiaryTitleContent}
                                    ?suppressTertiaryAria=${null===(i=o.bookTitleContentConfiguration)||void 0===i?void 0:i.suppressTertiaryAria}></bds-book-title-content>
                            `}))}
                        ${Oe(o.starRatingConfiguration&&this.numberOfReviews&&this.numberOfReviews>0,(()=>{var e;return W`
                                <bds-star-rating
                                    numberOfStars=${Ye(this.numberOfStars)}
                                    ?hasHalfStar=${this.hasHalfStar}
                                    numberOfReviews=${Ye(this.numberOfReviews)}
                                    reviewUrl=${Ye(this.reviewUrl)}
                                    ?enableReviewsLink=${null===(e=o.starRatingConfiguration)||void 0===e?void 0:e.enableReviewsLink}
                                    altText=${Ye(this.starRatingAltText)}
                                    layout="${Ye("blurredBackdrop"===this.coverImageLayout?"mini":void 0)}">
                                </bds-star-rating>
                            `}))}
                        ${Oe(o.enableBookMetadataBadge,(()=>W`
                                <bds-book-metadata-badge
                                    giftGuideBadgeLabel=${Ye(this.giftGuideBadgeLabel)}></bds-book-metadata-badge>
                            `))}
                        ${Oe("blurredBackdrop"===this.coverImageLayout&&o.enableProgramBadge,(()=>W`
                                <bds-program-badge
                                    badgePhysicalId=${Ye(this.badgePhysicalId)}
                                    badgeAltText=${Ye(this.badgeAltText)}
                                    badgeExtension=${Ye(this.badgeExtension)}>
                                </bds-program-badge>
                            `))}
                        ${Oe(o.enableBookFormat,(()=>W`
                                <bds-book-format format=${Ye(this.format)}></bds-book-format>
                            `))}
                        ${Oe(null===(t=o.bookPriceConfiguration)||void 0===t?void 0:t.enableBookPrice,(()=>W`
                                <bds-book-price
                                    unstylizedPrice=${Ye(this.unstylizedPrice)}
                                    .priceFormatParts=${this.priceFormatParts}
                                    .youPayPromotion=${this.youPayPromotion}>
                                </bds-book-price>
                            `))}
                        ${Oe(o.enableBookPoints,(()=>W`
                                <bds-book-points
                                    points=${Ye(this.points)}
                                    .pointsV2=${this.pointsV2}></bds-book-points>
                            `))}
                        ${Oe(o.enableBookFormats,(()=>W` <bds-book-other-formats
                                .allFormats=${this.formats}
                                detailPage=${Ye(this.detailPageUrl)}
                                numFormatsToShow=${Ye(this.numFormatsToShow)}></bds-book-other-formats>`))}
                    </div>
                </div>
                ${Oe(o.enableBookBlurb,(()=>W` <bds-book-blurb
                            .blurbMetadata=${this.blurbMetadata}></bds-book-blurb>`))}
            </div>
        `}},e.UnifiedBookFaceout.styles=ot,t([ye({context:Ce,subscribe:!0})],e.UnifiedBookFaceout.prototype,"asinContext",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"detailPageUrl",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"asin",void 0),t([xe({type:Number})],e.UnifiedBookFaceout.prototype,"position",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"coverImagePhysicalId",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"coverImageAltText",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"coverImageLayout",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"badgePhysicalId",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"badgeAltText",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"badgeExtension",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"bookTitle",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"bookAuthor",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"bookAuthorLinkUrl",void 0),t([xe({type:Object})],e.UnifiedBookFaceout.prototype,"byLineV2",void 0),t([xe({type:Boolean})],e.UnifiedBookFaceout.prototype,"isSponsored",void 0),t([xe({type:Number})],e.UnifiedBookFaceout.prototype,"numberOfStars",void 0),t([xe({type:Boolean})],e.UnifiedBookFaceout.prototype,"hasHalfStar",void 0),t([xe({type:Number})],e.UnifiedBookFaceout.prototype,"numberOfReviews",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"starRatingAltText",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"reviewUrl",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"giftGuideBadgeLabel",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"unstylizedPrice",void 0),t([xe({type:Object})],e.UnifiedBookFaceout.prototype,"priceFormatParts",void 0),t([xe({type:Object})],e.UnifiedBookFaceout.prototype,"youPayPromotion",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"points",void 0),t([xe({type:Object})],e.UnifiedBookFaceout.prototype,"pointsV2",void 0),t([xe({type:String})],e.UnifiedBookFaceout.prototype,"format",void 0),t([xe({type:String,reflect:!0})],e.UnifiedBookFaceout.prototype,"cel_widget_id",void 0),t([xe({type:String,reflect:!0})],e.UnifiedBookFaceout.prototype,"class",void 0),t([xe({type:Object})],e.UnifiedBookFaceout.prototype,"blurbMetadata",void 0),t([xe({type:Array})],e.UnifiedBookFaceout.prototype,"formats",void 0),t([xe({type:Number})],e.UnifiedBookFaceout.prototype,"numFormatsToShow",void 0),t([xe({type:Object})],e.UnifiedBookFaceout.prototype,"seriesBullet",void 0),t([xe()],e.UnifiedBookFaceout.prototype,"badgeLabel",null),e.UnifiedBookFaceout=t([$e("bds-unified-book-faceout")],e.UnifiedBookFaceout);const Bt=m`
    .button.light {
        /* Default */
        --bds-color-font-button-common-filled-default: #fff;
        --bds-color-background-button-common-filled-default: #232f3e;
        --bds-color-border-button-common-filled-default: #232f3e;

        /* Inactive */
        --bds-color-font-button-common-filled-inactive: #6f7373;
        --bds-color-background-button-common-filled-inactive: #f0f2f2;
        --bds-color-border-button-common-filled-inactive: #c8cccc;

        /* Pressed */
        --bds-color-font-button-common-filled-pressed: #fff;
        --bds-color-background-button-common-filled-pressed: #000;
        --bds-color-border-button-common-filled-pressed: #c8cccc;

        /* Focused */
        --bds-color-font-button-common-filled-focused: #fff;
        --bds-color-background-button-common-filled-focused: #232f3e;
        --bds-color-border-button-common-filled-focused: #232f3e;
        --bds-color-outline-button-common-filled-focused: #91dfeb;
    }

    .button.dark {
        /* Default */
        --bds-color-font-button-common-filled-default: #000;
        --bds-color-background-button-common-filled-default: #f7f1e1;
        --bds-color-border-button-common-filled-default: #f7f1e1;

        /* Inactive */
        --bds-color-font-button-common-filled-inactive: #6f7373;
        --bds-color-background-button-common-filled-inactive: #302f2b;
        --bds-color-border-button-common-filled-inactive: #7a786e;

        /* Pressed */
        --bds-color-font-button-common-filled-pressed: #000;
        --bds-color-background-button-common-filled-pressed: #e8e2d3;
        --bds-color-border-button-common-filled-pressed: #e8e2d3;

        /* Focused */
        --bds-color-font-button-common-filled-focused: #000;
        --bds-color-background-button-common-filled-focused: #f7f1e1;
        --bds-color-border-button-common-filled-focused: #f7f1e1;
        --bds-color-outline-button-common-filled-focused: #91dfeb;
    }

    .button.common.filled {
        color: var(--bds-color-font-button-common-filled-default);
        background: var(--bds-color-background-button-common-filled-default);
        border: var(--bds-size-border-thin) solid
            var(--bds-color-border-button-common-filled-default);
        outline: none;
    }

    .button.common.filled:focus {
        color: var(--bds-color-font-button-common-filled-focused);
        background: var(--bds-color-background-button-common-filled-focused);
        border: var(--bds-size-border-thin) solid
            var(--bds-color-border-button-common-filled-focused);
        outline: var(--bds-size-border-thick) solid
            var(--bds-color-outline-button-common-filled-focused);
    }

    .button.common.filled:active {
        color: var(--bds-color-font-button-common-filled-pressed);
        background: var(--bds-color-background-button-common-filled-pressed);
        border: var(--bds-size-border-thin) solid
            var(--bds-color-border-button-common-filled-pressed);
        outline: none;
    }

    .button.common.filled:disabled {
        color: var(--bds-color-font-button-common-filled-inactive);
        background: var(--bds-color-background-button-common-filled-inactive);
        border: var(--bds-size-border-thin) solid
            var(--bds-color-border-button-common-filled-inactive);
        outline: none;
    }
`,Rt=m`
    .button.light {
        /* Default */
        --bds-color-font-button-common-outlined-default: #000;
        --bds-color-background-button-common-outlined-default: #fff;
        --bds-color-border-button-common-outlined-default: #232f3e;

        /* Inactive */
        --bds-color-font-button-common-outlined-inactive: #6f7373;
        --bds-color-background-button-common-outlined-inactive: #fff;
        --bds-color-border-button-common-outlined-inactive: #c8cccc;

        /* Pressed */
        --bds-color-font-button-common-outlined-pressed: #000;
        --bds-color-background-button-common-outlined-pressed: #f5faff;
        --bds-color-border-button-common-outlined-pressed: #000;

        /* Focused */
        --bds-color-font-button-common-outlined-focused: #000;
        --bds-color-background-button-common-outlined-focused: #fff;
        --bds-color-border-button-common-outlined-focused: #232f3e;
        --bds-color-outline-button-common-outlined-focused: #91dfeb;
    }

    .button.dark {
        /* Default */
        --bds-color-font-button-common-outlined-default: #fff;
        --bds-color-background-button-common-outlined-default: #242626;
        --bds-color-border-button-common-outlined-default: #f7f1e1;

        /* Inactive */
        --bds-color-font-button-common-outlined-inactive: #6f7373;
        --bds-color-background-button-common-outlined-inactive: #242626;
        --bds-color-border-button-common-outlined-inactive: #c8cccc;

        /* Pressed */
        --bds-color-font-button-common-outlined-pressed: #fff;
        --bds-color-background-button-common-outlined-pressed: #302f2b;
        --bds-color-border-button-common-outlined-pressed: #e8e2d3;

        /* Focused */
        --bds-color-font-button-common-outlined-focused: #fff;
        --bds-color-background-button-common-outlined-focused: #242626;
        --bds-color-border-button-common-outlined-focused: #f7f1e1;
        --bds-color-outline-button-common-outlined-focused: #91dfeb;
    }

    .button.common.outlined {
        color: var(--bds-color-font-button-common-outlined-default);
        background: var(--bds-color-background-button-common-outlined-default);
        border: var(--bds-size-border-thin) solid
            var(--bds-color-border-button-common-outlined-default);
        outline: none;
    }

    .button.common.outlined:focus {
        color: var(--bds-color-font-button-common-outlined-focused);
        background: var(--bds-color-background-button-common-outlined-focused);
        border: var(--bds-size-border-thin) solid
            var(--bds-color-border-button-common-outlined-focused);
        outline: var(--bds-size-border-thick) solid
            var(--bds-color-outline-button-common-outlined-focused);
    }

    .button.common.outlined:active {
        color: var(--bds-color-font-button-common-outlined-pressed);
        background: var(--bds-color-background-button-common-outlined-pressed);
        border: var(--bds-size-border-thin) solid
            var(--bds-color-border-button-common-outlined-pressed);
        outline: none;
    }

    .button.common.outlined:disabled {
        color: var(--bds-color-font-button-common-outlined-inactive);
        background: var(--bds-color-background-button-common-outlined-inactive);
        border: var(--bds-size-border-thin) solid
            var(--bds-color-border-button-common-outlined-inactive);
        outline: none;
    }
`,It=m`
    .button {
        /** Default */
        --bds-color-font-button-rare-filled-default: #fff;
        --bds-color-background-button-rare-filled-default: linear-gradient(
            342.13deg,
            #8c005b -6.66%,
            #418fde 72.37%
        );
        --bds-color-border-button-rare-filled-default: linear-gradient(
            342.13deg,
            #8c005b -6.66%,
            #418fde 72.37%
        );

        /* Inactive */
        --bds-color-font-button-rare-filled-inactive: #6f7373;
        --bds-color-background-button-rare-filled-inactive: linear-gradient(
                342.13deg,
                #d0cffa -6.66%,
                #e6f2ff 72.37%
            ),
            linear-gradient(342.13deg, #e1e0ff -6.66%, #f5faff 72.37%);
        --bds-color-border-button-rare-filled-inactive: linear-gradient(
            342.13deg,
            #d0cffa -6.66%,
            #e6f2ff 72.37%
        );

        /* Pressed */
        --bds-color-font-button-rare-filled-pressed: #fff;
        --bds-color-background-button-rare-filled-pressed: linear-gradient(
            342.13deg,
            #5e0c42 -6.66%,
            #2578cc 72.37%
        );
        --bds-color-border-button-rare-filled-pressed: linear-gradient(
            342.13deg,
            #5e0c42 -6.66%,
            #2578cc 72.37%
        );

        /* Focused */
        --bds-color-font-button-rare-filled-focused: #fff;
        --bds-color-background-button-rare-filled-focused: linear-gradient(
            342.13deg,
            #8c005b -6.66%,
            #418fde 72.37%
        );
        --bds-color-border-button-rare-filled-focused: linear-gradient(
            342.13deg,
            #8c005b -6.66%,
            #418fde 72.37%
        );
        --bds-color-outline-button-rare-filled-focused: #91dfeb;
    }

    .button.rare.filled {
        color: var(--bds-color-font-button-rare-filled-default);
        background: var(--bds-color-background-button-rare-filled-default);
        border: var(--bds-size-border-thin) solid var(--bds-color-border-button-rare-filled-default);
        outline: none;
    }

    .button.rare.filled:focus {
        color: var(--bds-color-font-button-rare-filled-focused);
        background: var(--bds-color-background-button-rare-filled-focused);
        border: var(--bds-size-border-thin) solid var(--bds-color-border-button-rare-filled-focused);
        outline: var(--bds-size-border-thick) solid
            var(--bds-color-outline-button-rare-filled-focused);
    }

    .button.rare.filled:active {
        color: var(--bds-color-font-button-rare-filled-pressed);
        background: var(--bds-color-background-button-rare-filled-pressed);
        border: var(--bds-size-border-thin) solid var(--bds-color-border-button-rare-filled-pressed);
        outline: none;
    }

    .button.rare.filled:disabled {
        color: var(--bds-color-font-button-rare-filled-inactive);
        background: var(--bds-color-background-button-rare-filled-inactive);
        border: var(--bds-size-border-thin) solid
            var(--bds-color-border-button-rare-filled-inactive);
        outline: none;
    }
`,zt=m`
    .button.light {
        /* Default */
        --bds-color-font-button-rare-outlined-default: #000;
        --bds-color-background-button-rare-outlined-default: #fff;
        --bds-color-border-button-rare-outlined-default: linear-gradient(
            342.13deg,
            #8c005b -6.66%,
            #418fde 72.37%
        );

        /* Inactive */
        --bds-color-font-button-rare-outlined-inactive: #6f7373;
        --bds-color-background-button-rare-outlined-inactive: #fff;
        --bds-color-border-button-rare-outlined-inactive: linear-gradient(
            342.13deg,
            #f0b4db -6.66%,
            #9cf 72.37%
        );

        /* Pressed */
        --bds-color-font-button-rare-outlined-pressed: #000;
        --bds-color-background-button-rare-outlined-pressed: #f5faff;
        --bds-color-border-button-rare-outlined-pressed: linear-gradient(
            342.13deg,
            #8c005b -6.66%,
            #418fde 72.37%
        );

        /* Focused */
        --bds-color-font-button-rare-outlined-focused: #000;
        --bds-color-background-button-rare-outlined-focused: #fff;
        --bds-color-border-button-rare-outlined-focused: linear-gradient(
            342.13deg,
            #8c005b -6.66%,
            #418fde 72.37%
        );
        --bds-color-outline-button-rare-outlined-focused: #91dfeb;
    }

    .button.dark {
        /* Default */
        --bds-color-font-button-rare-outlined-default: #fff;
        --bds-color-background-button-rare-outlined-default: #242626;
        --bds-color-border-button-rare-outlined-default: linear-gradient(
            342.13deg,
            #8c005b -6.66%,
            #418fde 72.37%
        );

        /* Inactive */
        --bds-color-font-button-rare-outlined-inactive: #6f7373;
        --bds-color-background-button-rare-outlined-inactive: #242626;
        --bds-color-border-button-rare-outlined-inactive: linear-gradient(
            342.13deg,
            #f0b4db -6.66%,
            #9cf 72.37%
        );

        /* Pressed */
        --bds-color-font-button-rare-outlined-pressed: #fff;
        --bds-color-background-button-rare-outlined-pressed: #27276e;
        --bds-color-border-button-rare-outlined-pressed: linear-gradient(
            342.13deg,
            #8c005b -6.66%,
            #418fde 72.37%
        );

        /* Focused */
        --bds-color-font-button-rare-outlined-focused: #fff;
        --bds-color-background-button-rare-outlined-focused: #242626;
        --bds-color-border-button-rare-outlined-focused: linear-gradient(
            342.13deg,
            #8c005b -6.66%,
            #418fde 72.37%
        );
        --bds-color-outline-button-rare-outlined-focused: #91dfeb;
    }

    .button.rare.outlined {
        color: var(--bds-color-font-button-rare-outlined-default);
        background: var(--bds-color-border-button-rare-outlined-default);

        /* A solid, transparent border of the right size lets the inner border show through. */
        border: var(--bds-size-border-thin) solid transparent;
        outline: none;
    }

    .button.rare.outlined .inner-border {
        /* Gradients on borders aren't normally supported.
            To make a border gradient, we need to inset a div, and give that inset div the background color.
            The border gradient then goes into the background of the main button elemet.
        */
        background: var(--bds-color-background-button-rare-outlined-default);
        display: block;
    }

    .button.rare.outlined:focus {
        color: var(--bds-color-font-button-rare-outlined-focused);
        background: var(--bds-color-border-button-rare-outlined-focused);
        outline: var(--bds-size-border-thick) solid
            var(--bds-color-outline-button-rare-outlined-focused);
    }

    .button.rare.outlined:focus .inner-border {
        background: var(--bds-color-background-button-rare-outlined-focused);
    }

    .button.rare.outlined:active {
        color: var(--bds-color-font-button-rare-outlined-pressed);
        background: var(--bds-color-border-button-rare-outlined-pressed);
        outline: none;
    }

    .button.rare.outlined:active .inner-border {
        background: var(--bds-color-background-button-rare-outlined-pressed);
    }

    .button.rare.outlined:disabled {
        color: var(--bds-color-font-button-rare-outlined-inactive);
        background: var(--bds-color-border-button-rare-outlined-inactive);
        outline: none;
    }

    .button.rare.outlined:disabled .inner-border {
        /* Gradients on borders aren't normally supported.
            To make a border gradient, we need to inset a div, and give that inset div the background color.
            The border gradient then goes into the background of the main button elemet.
        */
        background: var(--bds-color-background-button-rare-outlined-inactive);
    }
`;var Lt=m`
    :host {
        font-family: var(--bds-font-family-body);
    }

    .button {
        user-select: none;
        display: inline-flex;
        position: relative;
        gap: var(--bds-size-spacing-small);
        flex-direction: row;
        justify-content: center;
        align-items: center;
        border-radius: 9999px;
        padding: var(--bds-size-spacing-base) var(--bds-size-spacing-medium);
        width: 100%;
    }

    .button > * {
        z-index: 100;
    }

    .inner-border {
        position: absolute;
        inset: 0;
        border-radius: 9999px;
        display: none;
    }

    ${Bt}

    ${Rt}

    ${It}

    ${zt}
`;function Ot(e,t,i){return o(this,void 0,void 0,(function*(){const o=yield fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:i?JSON.stringify(i):void 0});return yield o.json()}))}e.Button=class extends ce{constructor(){super(...arguments),this.isInactive=!1}render(){var e;return W`
            <button
                aria-label=${Ye(this.label)}
                @click=${this.handleClick}
                class="button ${this.buttonType} ${this.prominence} ${null===(e=this.renderContext)||void 0===e?void 0:e.theme}"
                ?disabled=${this.isInactive}>
                <span style="z-index: 200"><slot></slot></span>
                <div class="inner-border"></div>
            </button>
        `}},e.Button.styles=Lt,t([xe({type:String})],e.Button.prototype,"label",void 0),t([xe({type:String})],e.Button.prototype,"buttonType",void 0),t([xe({type:String})],e.Button.prototype,"prominence",void 0),t([xe()],e.Button.prototype,"handleClick",void 0),t([xe({type:Boolean})],e.Button.prototype,"isInactive",void 0),t([ye({context:Te,subscribe:!0})],e.Button.prototype,"renderContext",void 0),e.Button=t([$e("bds-button")],e.Button),e.AuthorFollowButton=class extends ce{constructor(){super(...arguments),this._isFollowing=!1,this.followEndpoint="/followv2/follow/",this.handleClick=()=>o(this,void 0,void 0,(function*(){const e={entity_id:this.authorAsin,authenticity_token:this._authenticityToken,category:"author",ref:`bds-${this.authorAsin}`},t=this._isFollowing?"DELETE":"POST",o=this._isFollowing&&this._authenticityToken?`${this.followEndpoint}${this.authorAsin}_author?authenticity_token=${encodeURIComponent(this._authenticityToken)}`:`${this.followEndpoint}`;try{yield Ot(o,t,e),this._isFollowing=!this._isFollowing}catch(e){At.logCountMetric("author-follow-toggle-error")}}))}connectedCallback(){const e=Object.create(null,{connectedCallback:{get:()=>super.connectedCallback}});return o(this,void 0,void 0,(function*(){e.connectedCallback.call(this),yield this.getAuthorInformation()}))}getAuthorInformation(){return o(this,void 0,void 0,(function*(){try{const e=yield Ot(`${this.followEndpoint}${this.authorAsin}_author`,"GET");this._isFollowing=e.isFollowing,e.csrf&&(this._authenticityToken=e.csrf.toString())}catch(e){At.logCountMetric("author-follow-information-error")}}))}getLabel(){var e,t;return this._isFollowing?ct("bds_author_follow_label",null===(e=this.renderContext)||void 0===e?void 0:e.locale):ct("bds_author_unfollow_label",null===(t=this.renderContext)||void 0===t?void 0:t.locale)}render(){return W`
            <bds-button .handleClick=${this.handleClick} label=${this.getLabel()}>
                ${this.getLabel()}
            </bds-button>
        `}},t([xe({type:String})],e.AuthorFollowButton.prototype,"authorAsin",void 0),t([ye({context:Te,subscribe:!0})],e.AuthorFollowButton.prototype,"renderContext",void 0),t([Se()],e.AuthorFollowButton.prototype,"_isFollowing",void 0),t([Se()],e.AuthorFollowButton.prototype,"_authenticityToken",void 0),e.AuthorFollowButton=t([$e("bds-author-follow-button")],e.AuthorFollowButton),e.AudibleSamplePlayerButton=class extends ce{constructor(){super(...arguments),this._isPlaying=!1,this._timeStamp=0,this.audio=null,this.handlePlay=()=>{this._isPlaying=!0},this.handlePause=()=>{this._isPlaying=!1},this.handlePlayEnded=()=>{this._timeStamp=0,this._isPlaying=!1},this.handleTimeUpdate=()=>{var e,t;this._timeStamp=null!==(t=null===(e=this.audio)||void 0===e?void 0:e.currentTime)&&void 0!==t?t:0},this.formatTimestamp=e=>{const t=Math.floor(e/60),o=Math.floor(e%60);return`${t}:${o>=10?o:"0"+o}`},this.handleClick=()=>{this.audio&&(this.audio.paused||this.audio.ended?this.audio.play().catch((e=>console.error("Failed to play audio:",e))):this.audio.pause())}}connectedCallback(){super.connectedCallback(),this.audio=new Audio(this.audibleUrl),this.audio.addEventListener("play",this.handlePlay),this.audio.addEventListener("pause",this.handlePause),this.audio.addEventListener("ended",this.handlePlayEnded),this.audio.addEventListener("timeupdate",this.handleTimeUpdate)}disconnectedCallback(){super.disconnectedCallback(),this.audio&&(this.audio.pause(),this.audio.removeEventListener("play",this.handlePlay),this.audio.removeEventListener("pause",this.handlePause),this.audio.removeEventListener("ended",this.handlePlayEnded),this.audio.removeEventListener("timeupdate",this.handleTimeUpdate))}getLabel(){var e;return this._isPlaying||this._timeStamp>0?this.formatTimestamp(this._timeStamp):ct("bds_audible_sample_button_label",null===(e=this.renderContext)||void 0===e?void 0:e.locale)}render(){return W`
            <bds-button
                .handleClick=${this.handleClick}
                label=${this.getLabel()}
                prominence="outline">
                ${this._isPlaying?W`<img
                          alt=""
                          src="https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/pause.svg" />`:W`<img
                          alt=""
                          src="https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/play.svg" />`}
                ${this.getLabel()}
            </bds-button>
        `}},t([xe({type:String})],e.AudibleSamplePlayerButton.prototype,"audibleUrl",void 0),t([Se()],e.AudibleSamplePlayerButton.prototype,"_isPlaying",void 0),t([Se()],e.AudibleSamplePlayerButton.prototype,"_timeStamp",void 0),t([ye({context:Te,subscribe:!0})],e.AudibleSamplePlayerButton.prototype,"renderContext",void 0),e.AudibleSamplePlayerButton=t([$e("bds-audible-sample-player-button")],e.AudibleSamplePlayerButton);var Ft=m`
    .additionalText {
        font-family: var(--bds-font-family-body);
        font-size: var(--bds-size-font-small);
        text-align: center;
    }
`;e.BorrowButton=class extends ce{constructor(){super(...arguments),this.handleClick=()=>o(this,void 0,void 0,(function*(){At.logCountMetric("borrow-button-clicked");const e={csrf:this.csrfToken,items:[{action:{asin:this.asin,actionType:"Borrow",program:{name:this.getProgramName(),channelCode:this.getProgramChannelCode()}}}]};try{const t=yield Ot(`${this.getBorrowEndpoint()}?x-client-id=${this.clientId}&ref_=${this.refTag}`,"POST",e);if(t&&302===t.httpStatusCode){const e=t.resources[0].states[0].links[0].url;window.open(this.refTag?function(e,t){const o=new URL(e);return o.protocol.startsWith("http")?(Object.keys(t).forEach((e=>{o.searchParams.set(e,t[e])})),o.href):e}(e,{ref:this.refTag}):e,"_self")}}catch(e){At.logCountMetric("borrow-button-error")}}))}getBorrowEndpoint(){return"/api/bifrost/acquisitions/v1/asins/"+this.asin}getProgramName(){var e;return null!==(e=this.programName)&&void 0!==e?e:"KU"}getProgramChannelCode(){return"PrimeReading"===this.getProgramName()?"PRIME_READING":"ALL_YOU_CAN_READ"}shouldRenderBorrowButton(){return!!(this.asin&&this.csrfToken&&this.clientId&&this.url&&this.displayString)}renderBorrowButton(){return W`
            <div>
                <bds-button .handleClick=${this.handleClick} label=${this.displayString}>
                    ${this.displayString}
                </bds-button>
                ${Oe(!!this.additionalDisplayString,(()=>W` <div class="additionalText">${this.additionalDisplayString}</div> `))}
            </div>
        `}render(){return this.shouldRenderBorrowButton()?(At.logCountMetric("borrow-button-rendered"),this.renderBorrowButton()):(At.logCountMetric("borrow-button-invalid"),q)}},e.BorrowButton.styles=Ft,t([xe({type:String})],e.BorrowButton.prototype,"asin",void 0),t([xe({type:String})],e.BorrowButton.prototype,"csrfToken",void 0),t([xe({type:String})],e.BorrowButton.prototype,"clientId",void 0),t([xe({type:String})],e.BorrowButton.prototype,"refTag",void 0),t([xe({type:String})],e.BorrowButton.prototype,"url",void 0),t([xe({type:String})],e.BorrowButton.prototype,"displayString",void 0),t([xe({type:String})],e.BorrowButton.prototype,"additionalDisplayString",void 0),t([xe({type:String})],e.BorrowButton.prototype,"programName",void 0),t([ye({context:Te,subscribe:!0})],e.BorrowButton.prototype,"renderContext",void 0),e.BorrowButton=t([$e("bds-borrow-button")],e.BorrowButton);var Et=m`
    .additionalText {
        font-family: var(--bds-font-family-body);
        font-size: var(--bds-size-font-small);
        text-align: center;
    }
`;e.JoinProgramButton=class extends ce{constructor(){super(...arguments),this.handleClick=()=>{At.logCountMetric("join-program-button-clicked"),window.open(`${this.url}`,"_self")}}renderLearnMoreSection(){return this.learnMoreUrl&&this.learnMoreDisplayString&&this.shortDisplayString?W`
                  <div class="additionalText">
                      ${this.shortDisplayString}&nbsp;
                      <a href=${this.learnMoreUrl}> ${this.learnMoreDisplayString} </a>
                  </div>
              `:q}shouldRenderJoinProgramButton(){return!!this.url&&!!this.displayString}renderJoinProgramButton(){return W`
            <div>
                <bds-button .handleClick=${this.handleClick} label=${this.displayString}>
                    ${this.displayString}
                </bds-button>
                ${this.renderLearnMoreSection()}
            </div>
        `}render(){return this.shouldRenderJoinProgramButton()?(At.logCountMetric("join-program-button-rendered"),this.renderJoinProgramButton()):(At.logCountMetric("join-program-button-invalid"),q)}},e.JoinProgramButton.styles=Et,t([xe({type:String})],e.JoinProgramButton.prototype,"url",void 0),t([xe({type:String})],e.JoinProgramButton.prototype,"displayString",void 0),t([xe({type:String})],e.JoinProgramButton.prototype,"shortDisplayString",void 0),t([xe({type:String})],e.JoinProgramButton.prototype,"learnMoreUrl",void 0),t([xe({type:String})],e.JoinProgramButton.prototype,"learnMoreDisplayString",void 0),t([ye({context:Te,subscribe:!0})],e.JoinProgramButton.prototype,"renderContext",void 0),e.JoinProgramButton=t([$e("bds-join-program-button")],e.JoinProgramButton),e.ReadNowButton=class extends ce{constructor(){super(...arguments),this.handleClick=()=>{At.logCountMetric("read-now-button-clicked"),window.open(`${this.url}`,"_self")}}shouldRenderReadNowButton(){return!!this.url&&!!this.displayString}renderReadNowButton(){return W`
            <bds-button .handleClick=${this.handleClick} label=${this.displayString}>
                ${this.displayString}
            </bds-button>
        `}render(){return this.shouldRenderReadNowButton()?(At.logCountMetric("read-now-button-rendered"),this.renderReadNowButton()):(At.logCountMetric("read-now-button-invalid"),q)}},t([xe({type:String})],e.ReadNowButton.prototype,"url",void 0),t([xe({type:String})],e.ReadNowButton.prototype,"displayString",void 0),t([ye({context:Te,subscribe:!0})],e.ReadNowButton.prototype,"renderContext",void 0),e.ReadNowButton=t([$e("bds-read-now-button")],e.ReadNowButton);
/**
     * @license
     * Copyright 2018 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
var Mt=Me(class extends Ue{constructor(e){var t;if(super(e),e.type!==Fe||"class"!==e.name||(null===(t=e.strings)||void 0===t?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter((t=>e[t])).join(" ")+" "}update(e,t){var o,i,[r]=t;if(void 0===this.it){for(var a in this.it=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter((e=>""!==e)))),r)r[a]&&!(null===(o=this.nt)||void 0===o?void 0:o.has(a))&&this.it.add(a);return this.render(r)}var s=e.element.classList;for(var n in this.it.forEach((e=>{e in r||(s.remove(e),this.it.delete(e))})),r){var l=!!r[n];l===this.it.has(n)||(null===(i=this.nt)||void 0===i?void 0:i.has(n))||(l?(s.add(n),this.it.add(n)):(s.remove(n),this.it.delete(n)))}return Q}}),Ut=m`
    .tag {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border: var(--bds-size-border-thin) solid;
        font-size: var(--bds-size-font-small);
        font-family: var(--bds-font-family-body);
        white-space: nowrap;
        height: var(--bds-size-tag-pill-height);
        border-radius: var(--bds-size-tag-pill-height);
        padding: var(--bds-size-spacing-mini-plus) var(--bds-size-spacing-base-plus);
        cursor: pointer;
        -webkit-tap-highlight-color: transparent;
        /* A quick fix for a strange display issue on iOS web browsers https://sim.amazon.com/issues/BSX-Storefront-611 */
        margin-bottom: 1px;
    }

    .tag.circular {
        width: var(--bds-size-tag-pill-height);
        border-radius: 50%;
    }

    .selectedIconContainer {
        max-width: 0;
        display: inline-flex;
        align-items: center;
    }

    .selectedIconContainer img {
        max-width: inherit;
        height: var(--bds-size-tag-pill-selected-icon-height);
    }

    .selectedIconContainer.visible {
        max-width: var(--bds-size-tag-pill-selected-icon-container-width);
        margin-right: var(--bds-size-spacing-small);
    }

    .selectedIconContainer,
    .selectedIconContainer.visible {
        transition: max-width, margin-right;
        transition-duration: 200ms;
    }

    @media screen and (prefers-reduced-motion) {
        .selectedIconContainer,
        .selectedIconContainer.visible {
            transition: max-width, margin-right;
            transition-duration: 0;
        }
    }

    .endIconContainer {
        margin-bottom: var(--bds-size-spacing-nano);
        margin-left: var(--bds-size-spacing-small-plus);
    }

    .endIconContainer.dropdown {
        margin-bottom: var(--bds-size-spacing-mini);
    }

    .tagContent {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        gap: var(--bds-size-spacing-small);
    }

    /* Per UX team: offset the text by 1px to make it look more centered */
    .tagText {
        padding-bottom: var(--bds-size-spacing-pico);
    }

    .programLogo {
        height: var(--bds-size-tag-pill-program-logo-height);
    }

    .endIcon {
        width: var(--bds-size-tag-pill-end-icon-width);
    }

    /* Light mode styling */
    .tag.light {
        border-color: #a2a6a6;
        background-color: #fff;
        color: #0f1111;
    }

    /* Prevent hover effects from showing up on touch devices after tag deselection */
    @media (hover: hover) {
        .tag.light:hover {
            border-color: #0f1111;
            box-shadow: var(--bds-size-border-medium) var(--bds-size-border-medium)
                var(--bds-size-border-extra-thick) rgba(86, 86, 86, 0.2);
        }
    }

    .tag.light:focus-visible {
        outline: none;
        border: var(--bds-size-border-thick) solid #0f1111;
        box-shadow: var(--bds-size-border-medium) var(--bds-size-border-medium)
            var(--bds-size-border-extra-thick) rgba(86, 86, 86, 0.2);
    }

    .tag.light.selected {
        border: var(--bds-size-border-thick) solid #007185;
        box-shadow: inset 0 var(--bds-size-border-thin) var(--bds-size-border-medium)
            var(--bds-size-border-thin) rgba(1, 67, 79, 0.1);
        font-weight: var(--bds-weight-font-heavy);
    }

    .tag.light.selected:focus-visible {
        border-color: #0f1111;
    }

    .tag.light.selected.textBased {
        background-color: #edfdff;
    }

    .tag.light.inactive,
    .tag.light.inactive.textBased {
        border: var(--bds-size-border-thin) solid #bbbfbf;
        background-color: #f0f2f2;
        box-shadow: none;
        color: #565959;
        font-weight: var(--bds-weight-font-base);
    }

    /* Dark mode styling */
    .tag.dark {
        border-color: #d5d9d9;
        background-color: #0f1111;
        color: #fff;
    }

    /* Prevent hover effects from showing up on touch devices after tag deselection */
    @media (hover: hover) {
        .tag.dark:hover {
            border-color: #f7feff;
            box-shadow: var(--bds-size-border-medium) var(--bds-size-border-medium)
                var(--bds-size-border-extra-thick) rgba(86, 86, 86, 0.2);
        }
    }

    .tag.dark:focus-visible {
        outline: none;
        border: var(--bds-size-border-thick) solid #f7feff;
        box-shadow: var(--bds-size-border-medium) var(--bds-size-border-medium)
            var(--bds-size-border-extra-thick) rgba(86, 86, 86, 0.2);
    }

    .tag.dark.selected {
        border: var(--bds-size-border-thick) solid #c8f3fa;
        box-shadow: inset 0 var(--bds-size-border-thin) var(--bds-size-border-medium)
            var(--bds-size-border-thin) rgba(1, 67, 79, 0.1);
        font-weight: var(--bds-weight-font-heavy);
    }

    .tag.dark.selected:focus-visible {
        border-color: #f7feff;
    }

    .tag.dark.selected.textBased {
        background-color: #054b59;
    }

    .tag.dark.inactive,
    .tag.dark.inactive.textBased {
        border: var(--bds-size-border-thin) solid #888c8c;
        background-color: #303333;
        box-shadow: 0 0 var(--bds-size-border-medium) var(--bds-size-border-thin)
            rgba(86, 86, 86, 0.1);
        color: #bbbfbf;
        font-weight: var(--bds-weight-font-base);
    }

    /* Custom displays */
    .starRatingDisplay {
        display: flex;
        align-items: center;
        gap: var(--bds-size-spacing-small);
        line-height: 100%;
    }
`;e.TagPill=class extends ce{constructor(){super(...arguments),this.tagId="",this.tagName="",this.selectionMode="multi",this.ariaLabel="",this.darkMode=!1,this.selected=!1,this.inactive=!1,this.circular=!1,this.noSelectionChange=!1,this.visibilityThreshold=-1,this.prefixIcons=[],this.suffixIcons=[],this.renderByDisplayParams=(e,t)=>{if("star_rating"===e.displayId&&e.numberOfStars)return W`
                <span role="group" aria-label=${t} class="starRatingDisplay">
                    <span aria-hidden="true">
                        <bds-star-rating
                            numberOfStars=${e.numberOfStars}
                            ?hasHalfStar=${e.hasHalfStar}>
                        </bds-star-rating>
                    </span>
                    ${Oe(e.additionalText,(()=>W` <span aria-hidden="true"> ${e.additionalText} </span> `))}
                </span>
            `}}get onVisibilityChange(){return this.handleVisibilityChange}set onVisibilityChange(e){this.handleVisibilityChange=e}get onClick(){return this.handleClick}set onClick(e){this.handleClick=e}updated(e){var t;if(e.has("visibilityThreshold")&&this.visibilityThreshold>=0){const e=this.renderRoot.querySelector("button");if(!e)return;null===(t=this.visibilityObserver)||void 0===t||t.unobserve(e),this.visibilityObserver=new IntersectionObserver((e=>{e.forEach((e=>{var t;null===(t=this.handleVisibilityChange)||void 0===t||t.call(this,e.target.id,e.isIntersecting&&"hidden"!==window.getComputedStyle(e.target).visibility)}))}),{threshold:this.visibilityThreshold}),this.visibilityObserver.observe(e)}}onClickHandler(){var e;this.noSelectionChange||(this.selected=!this.selected);const t={tagId:this.tagId,selected:this.selected};null===(e=this.handleClick)||void 0===e||e.call(this,t)}renderIcons(e){return null==e?void 0:e.map((e=>W`<img
                src=${e.src}
                alt=${Ye(e.altText)}
                aria-hidden=${!e.altText}
                class=${Ye(e.class)}
                draggable="false" />`))}render(){const e="multi"===this.selectionMode&&this.selected&&!this.inactive,t={src:this.darkMode?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/selected-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/selected-light.svg"},o=((e,t,o)=>{switch(e){case"Kindle Unlimited":case"Kindle Unlimited Eligible":return o?t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-dark-inactive.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-light-inactive.svg":t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-light.svg";case"Kindle Unlimited Audio":return o?t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-audio-dark-inactive.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-audio-light-inactive.svg":t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-audio-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-audio-light.svg";case"Prime Reading":return t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/PRR_Dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/PRR_Light.svg";case"Prime Eligible":return o?t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/prime-dark-inactive.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/prime-light-inactive.svg":t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/prime-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/prime-light.svg";case"Comixology":return o?t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/comixology-dark-inactive.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/comixology-light-inactive.svg":t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/comixology-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/comixology-light.svg";case"Kids+":return t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/amazonkidsplusdark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/amazonkidsplus.svg";case"Audible Plus":return"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/audible-plus-light.png"}return""})(this.programType,this.darkMode,this.inactive),i=((e,t)=>{switch(e){case"deselect":return t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/deselect-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/deselect-light.svg";case"dropdown":return t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/dropdown-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/dropdown-light.svg"}return""})(this.endIconType,this.darkMode),r=this.ariaRole||("multi"===this.selectionMode?"checkbox":"radio");let a;return o?a=this.renderIcons([{src:o,altText:this.tagName,class:"programLogo"}]):this.displayParameters?a=this.renderByDisplayParams(this.displayParameters,this.tagName):this.tagName&&(a=W`<span class="tagText">${this.tagName}</span>`),W`
            <button
                id=${this.tagId}
                name=${this.tagName}
                aria-label=${this.ariaLabel||this.tagName}
                ?disabled=${this.inactive}
                role=${r}
                aria-checked=${this.selected}
                class=${Mt({tag:!0,light:!this.darkMode,dark:this.darkMode,textBased:!this.programType,selected:this.selected,inactive:this.inactive,circular:this.circular})}
                @click=${this.onClickHandler}>
                <div
                    class=${Mt({selectedIconContainer:!0,visible:e})}>
                    ${this.renderIcons([t])}
                </div>
                <div class="tagContent">
                    ${this.renderIcons(this.prefixIcons)} ${a}
                    ${this.renderIcons(this.suffixIcons)}
                </div>
                ${Oe(this.endIconType,(()=>W`
                            <div
                                class=${Mt({endIconContainer:!0,dropdown:"dropdown"===this.endIconType})}>
                                ${this.renderIcons([{src:i,class:"endIcon"}])}
                            </div>
                        `))}
            </button>
        `}},e.TagPill.styles=Ut,t([xe()],e.TagPill.prototype,"tagId",void 0),t([xe()],e.TagPill.prototype,"tagName",void 0),t([xe()],e.TagPill.prototype,"programType",void 0),t([xe()],e.TagPill.prototype,"selectionMode",void 0),t([xe()],e.TagPill.prototype,"ariaRole",void 0),t([xe()],e.TagPill.prototype,"ariaLabel",void 0),t([xe({type:Boolean})],e.TagPill.prototype,"darkMode",void 0),t([xe({type:Boolean})],e.TagPill.prototype,"selected",void 0),t([xe({type:Boolean})],e.TagPill.prototype,"inactive",void 0),t([xe({type:Boolean})],e.TagPill.prototype,"circular",void 0),t([xe()],e.TagPill.prototype,"handleClick",void 0),t([xe({type:Boolean})],e.TagPill.prototype,"noSelectionChange",void 0),t([xe({type:Number})],e.TagPill.prototype,"visibilityThreshold",void 0),t([xe()],e.TagPill.prototype,"handleVisibilityChange",void 0),t([xe({type:Array})],e.TagPill.prototype,"prefixIcons",void 0),t([xe({type:Array})],e.TagPill.prototype,"suffixIcons",void 0),t([xe()],e.TagPill.prototype,"endIconType",void 0),t([xe({type:Object})],e.TagPill.prototype,"displayParameters",void 0),t([xe()],e.TagPill.prototype,"onVisibilityChange",null),t([xe()],e.TagPill.prototype,"onClick",null),e.TagPill=t([$e("tag-pill")],e.TagPill);var Nt=m`
    .tagsRows {
        display: grid;
        flex-direction: column;
        padding: 0;
        row-gap: var(--bds-size-spacing-base);
        overflow-x: scroll;

        /* Hide scroll bar */
        -ms-overflow-style: none; /* Edge */
        scrollbar-width: none; /* Firefox */
    }

    /* Chrome & Safari */
    .tagsRows::-webkit-scrollbar {
        display: none;
    }

    .tagsRow {
        all: unset;
        display: flex;
        align-items: center;
        gap: var(--bds-size-spacing-small);
    }

    /* Used to add a fake padding that will disappear on scroll at the beginning of the tag rows */
    .tagsRow.addPseudoPadding::before,
    .tagsRow.addPseudoPadding::after {
        content: '';
        display: inline-block;
        min-width: var(--bds-size-spacing-base-plus);
    }

    .tagsRow.addPseudoPaddingRight::after {
        content: '';
        display: inline-block;
        min-width: var(--bds-size-spacing-base-plus);
    }
`;class Vt extends ce{constructor(){super(...arguments),this.tags=[],this.selectionMode="multi",this.noSelectionChange=!1,this.darkMode=!1,this.ariaLabel=""}renderTag(e){return W`
            <li style="all: unset" role="listitem">
                <tag-pill
                    tagId=${e.id}
                    tagName=${e.name}
                    programType=${Ye(e.programType)}
                    selectionMode=${this.selectionMode}
                    ariaLabel=${Ye(e.ariaLabel)}
                    ?darkMode=${this.darkMode}
                    ?noSelectionChange=${e.noSelectionChange||this.noSelectionChange}
                    ?selected=${e.selected}
                    ?inactive=${e.inactive}
                    visibilityThreshold=${Ye(this.tagVisibilityThreshold)}
                    .handleClick=${e=>this.onTagClickCallback(e)}
                    .handleVisibilityChange=${this.handleTagVisibilityChange}
                    .prefixIcons=${e.prefixIcons}
                    .suffixIcons=${e.suffixIcons}
                    .endIconType=${e.endIconType}
                    .displayParameters=${e.displayParameters}>
                </tag-pill>
            </li>
        `}renderTags(){var e,t;return null!==(t=null===(e=this.tags)||void 0===e?void 0:e.map((e=>this.renderTag(e))))&&void 0!==t?t:q}onTagClickCallback(e){var t;"single"===this.selectionMode&&(this.tags=this.tags.map((t=>Object.assign(Object.assign({},t),{selected:t.id===e.tagId&&e.selected})))),null===(t=this.handleTagClick)||void 0===t||t.call(this,e)}get onTagClick(){return this.handleTagClick}set onTagClick(e){this.handleTagClick=e}get onTagVisibilityChange(){return this.handleTagVisibilityChange}set onTagVisibilityChange(e){this.handleTagVisibilityChange=e}}t([xe({type:Array})],Vt.prototype,"tags",void 0),t([xe()],Vt.prototype,"selectionMode",void 0),t([xe({type:Boolean})],Vt.prototype,"noSelectionChange",void 0),t([xe({type:Boolean})],Vt.prototype,"darkMode",void 0),t([xe()],Vt.prototype,"ariaLabel",void 0),t([xe()],Vt.prototype,"handleTagClick",void 0),t([xe({type:Number})],Vt.prototype,"tagVisibilityThreshold",void 0),t([xe()],Vt.prototype,"handleTagVisibilityChange",void 0),t([xe()],Vt.prototype,"onTagClick",null),t([xe()],Vt.prototype,"onTagVisibilityChange",null),e.TagsRows=class extends Vt{constructor(){super(...arguments),this.numRows=1,this.addPseudoPadding=!1,this.addPseudoPaddingRight=!1,this.renderTagsRows=e=>{const t=[];for(let o=0;o<this.numRows;o+=1){const i=e.filter(((e,t)=>t%this.numRows===o)).map((e=>this.renderTag(e)));t.push(W`
                <ul
                    aria-label=${this.ariaLabel}
                    tabindex="0"
                    role="list"
                    class=${Mt({tagsRow:!0,addPseudoPadding:this.addPseudoPadding,addPseudoPaddingRight:this.addPseudoPaddingRight})}>
                    ${i}
                </ul>
            `)}return t}}render(){return W` <div class="tagsRows">${this.renderTagsRows(this.tags)}</div> `}},e.TagsRows.styles=Nt,t([xe({type:Number})],e.TagsRows.prototype,"numRows",void 0),t([xe({type:Boolean})],e.TagsRows.prototype,"addPseudoPadding",void 0),t([xe({type:Boolean})],e.TagsRows.prototype,"addPseudoPaddingRight",void 0),e.TagsRows=t([$e("tags-rows")],e.TagsRows);var Dt=m`
    .tagsScroller {
        display: flex;
        align-items: center;
        position: relative;
    }

    .tagsContainer {
        all: unset;
        display: inline-flex;
        align-items: center;
        gap: var(--bds-size-spacing-small);
        padding: 0 var(--bds-size-spacing-extra-large-plus);
    }

    .scrollingContent {
        width: 100%;
        border-radius: var(--bds-size-border-radius-medium);
        overflow: scroll;

        /* Hide scroll bar */
        -ms-overflow-style: none; /* Edge */
        scrollbar-width: none; /* Firefox */
    }

    /* Chrome & Safari */
    .scrollingContent::-webkit-scrollbar {
        display: none;
    }

    .navArrowContainer {
        height: var(--bds-size-tag-pill-height);
        width: var(--bds-size-tag-pill-height);
        border-radius: var(--bds-size-border-radius-medium);
        position: absolute;
        display: inline-flex;
        flex-shrink: 0;
        align-items: center;
        justify-content: center;
        box-sizing: border-box;
        border: var(--bds-size-border-thin) solid #d5d9d9;
        background-color: #fff;
        box-shadow: 0 var(--bds-size-border-medium) var(--bds-size-border-extra-extra-thick)
            rgba(0, 0, 0, 0.15);
        cursor: pointer;
        user-select: none;
    }

    .navArrowContainer.left {
        left: 0;
    }

    .navArrowContainer.right {
        right: 0;
    }

    .navArrowContainer.dark {
        border-color: #d5d9d9;
        background-color: #0f1111;
    }

    .navArrowContainer.inactive {
        box-shadow: none;
        cursor: default;
    }

    .navArrowContainer:not(.inactive):hover {
        background-color: #f8f8f8;
    }

    .navArrowContainer.dark:not(.inactive):hover {
        background-color: #262828;
    }
`;e.TagsScroller=class extends Vt{constructor(){super(...arguments),this.scrollingContentRef=Qe(),this.BUFFER_WIDTH=1,this.DURATION_FOR_TAG_UPDATE_MS=360,this.scrollPercentage=.75,this.showLeftArrow=!1,this.showRightArrow=!1}updateNavArrows(){const e=this.scrollingContentRef.value;e&&(this.showLeftArrow=e.scrollLeft>0,this.showRightArrow=Math.abs(e.scrollWidth-e.clientWidth-e.scrollLeft)>=this.BUFFER_WIDTH)}firstUpdated(){if(this.updateNavArrows(),this.scrollingContentRef.value){new ResizeObserver((()=>this.updateNavArrows())).observe(this.scrollingContentRef.value)}}scrollContent(e){const t=this.scrollingContentRef.value;if(!t)return;const o=Math.round(t.clientWidth*this.scrollPercentage);"left"===e&&t.scrollTo({left:Math.max(0,t.scrollLeft-o),behavior:"smooth"}),"right"===e&&t.scrollTo({left:Math.min(t.scrollLeft+o,t.scrollWidth-t.clientWidth+this.BUFFER_WIDTH),behavior:"smooth"})}scrollContentTo(e){var t;null===(t=this.scrollingContentRef.value)||void 0===t||t.scrollTo({left:e,behavior:"smooth"})}onTagClickCallback(e){super.onTagClickCallback(e),setTimeout((()=>{this.updateNavArrows()}),this.DURATION_FOR_TAG_UPDATE_MS)}render(){return W`
            <div class="tagsScroller">
                <div
                    class=${Mt({navArrowContainer:!0,left:!0,inactive:!this.showLeftArrow,dark:this.darkMode})}
                    @click=${()=>this.scrollContent("left")}
                    aria-hidden="true">
                    <img
                        src=${this.darkMode?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/left-arrow-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/left-arrow-light.svg"}
                        role="presentation" />
                </div>
                <div
                    class="scrollingContent"
                    @scroll=${this.updateNavArrows}
                    ${Xe(this.scrollingContentRef)}>
                    <ul class="tagsContainer" tabindex="0" aria-label=${this.ariaLabel} role="list">
                        ${this.renderTags()}
                    </ul>
                </div>
                <div
                    class=${Mt({navArrowContainer:!0,right:!0,inactive:!this.showRightArrow,dark:this.darkMode})}
                    @click=${()=>this.scrollContent("right")}
                    aria-hidden="true">
                    <img
                        src=${this.darkMode?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/right-arrow-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/right-arrow-light.svg"}
                        role="presentation" />
                </div>
            </div>
        `}},e.TagsScroller.styles=Dt,t([xe({type:Number})],e.TagsScroller.prototype,"scrollPercentage",void 0),t([Se()],e.TagsScroller.prototype,"showLeftArrow",void 0),t([Se()],e.TagsScroller.prototype,"showRightArrow",void 0),e.TagsScroller=t([$e("tags-scroller")],e.TagsScroller);var Ht=m`
    :host {
        box-sizing: border-box;
    }

    .tagFiltersSection {
        display: flex;
        flex-direction: column;
        gap: var(--bds-size-spacing-base);
        font-family: var(--bds-font-family-body);
        color: #0f1111;
    }

    .header {
        all: unset;
        position: relative;
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        margin-left: var(--bds-size-spacing-mini);
        font-weight: var(--bds-weight-font-heavy);
        color: var(--bds-color-font-primary);
    }

    .header.main {
        font-size: var(--bds-size-font-large);
        line-height: var(--bds-size-line-height-base-plus);
    }

    .header.secondary {
        font-size: var(--bds-size-font-medium);
        line-height: var(--bds-size-line-height-small);
    }

    .header.expandable {
        cursor: pointer;
    }

    .header.expandable:focus {
        outline: revert;
    }

    .tagsContainer {
        all: unset;
        display: inline-flex;
        flex-wrap: wrap;
        row-gap: var(--bds-size-spacing-base);
        column-gap: var(--bds-size-spacing-small);
    }
`;e.TagFiltersSection=class extends Vt{constructor(){super(...arguments),this.header="",this.headerSize="main",this.expandable=!1,this.expanded=!1}renderExpanderIcon(e){const t=this.darkMode?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/chevron-down-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/chevron-down-light.svg",o=this.darkMode?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/chevron-up-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/chevron-up-light.svg";return W`<img src=${e?o:t} aria-hidden="true" />`}renderHeader(){return this.expandable?W`
                <button
                    class=${Mt({header:!0,main:"main"===this.headerSize,secondary:"secondary"===this.headerSize,expandable:!0})}
                    aria-expanded=${this.expanded}
                    @click=${this.onHeaderClick}>
                    <span>${this.header}</span>
                    ${this.renderExpanderIcon(this.expanded)}
                </button>
            `:W`
            <div
                class=${Mt({header:!0,main:"main"===this.headerSize,secondary:"secondary"===this.headerSize,expandable:!1})}
                role="heading"
                aria-level="3">
                ${this.header}
            </div>
        `}onHeaderClick(){this.expanded=!this.expanded}render(){if(this.tags.length)return W`
            <div class="tagFiltersSection">
                ${Oe(this.header&&this.headerSize,(()=>this.renderHeader()))}
                ${Oe(!this.expandable||this.expanded,(()=>W`
                        <ul
                            class="tagsContainer"
                            aria-label=${this.ariaLabel}
                            tabindex="0"
                            role="list">
                            ${this.renderTags()}
                        </ul>
                    `))}
            </div>
        `}},e.TagFiltersSection.styles=Ht,t([xe()],e.TagFiltersSection.prototype,"header",void 0),t([xe()],e.TagFiltersSection.prototype,"headerSize",void 0),t([xe({type:Boolean})],e.TagFiltersSection.prototype,"expandable",void 0),t([xe({type:Boolean})],e.TagFiltersSection.prototype,"expanded",void 0),e.TagFiltersSection=t([$e("tag-filters-section")],e.TagFiltersSection),Object.defineProperty(e,"__esModule",{value:!0})}({});
/////////////////////////
// END FILE bds-base-assets.js
/////////////////////////
/////////////////////////
// BEGIN FILE bds-global-config.js
/////////////////////////
/*


Full source (including license, if applicable) included below.
*/
// Custom event to signal when BDS Global Config is available
window.dispatchEvent(new Event('BooksDesignSystemGlobalsUpdated'));
/////////////////////////
// END FILE bds-global-config.js
/////////////////////////

// END ASSET BooksDesignSystemWebBuzzAssets@BaseAssets-1.0.1150.0
////////////////////////////////////////////